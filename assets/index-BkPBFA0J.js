var nb=Object.defineProperty;var rb=(e,t,n)=>t in e?nb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var N=(e,t,n)=>(rb(e,typeof t!="symbol"?t+"":t,n),n);function x0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function k0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A0={exports:{}},qu={},P0={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),ib=Symbol.for("react.portal"),sb=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),lb=Symbol.for("react.profiler"),ab=Symbol.for("react.provider"),ub=Symbol.for("react.context"),cb=Symbol.for("react.forward_ref"),db=Symbol.for("react.suspense"),hb=Symbol.for("react.memo"),fb=Symbol.for("react.lazy"),Nm=Symbol.iterator;function pb(e){return e===null||typeof e!="object"?null:(e=Nm&&e[Nm]||e["@@iterator"],typeof e=="function"?e:null)}var R0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O0=Object.assign,L0={};function uo(e,t,n){this.props=e,this.context=t,this.refs=L0,this.updater=n||R0}uo.prototype.isReactComponent={};uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N0(){}N0.prototype=uo.prototype;function Zh(e,t,n){this.props=e,this.context=t,this.refs=L0,this.updater=n||R0}var ef=Zh.prototype=new N0;ef.constructor=Zh;O0(ef,uo.prototype);ef.isPureReactComponent=!0;var Dm=Array.isArray,D0=Object.prototype.hasOwnProperty,tf={current:null},M0={key:!0,ref:!0,__self:!0,__source:!0};function $0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)D0.call(t,r)&&!M0.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vl,type:e,key:s,ref:o,props:i,_owner:tf.current}}function mb(e,t){return{$$typeof:Vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vl}function gb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mm=/\/+/g;function Wc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gb(""+e.key):t.toString(36)}function Ha(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vl:case ib:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Wc(o,0):r,Dm(i)?(n="",e!=null&&(n=e.replace(Mm,"$&/")+"/"),Ha(i,t,n,"",function(c){return c})):i!=null&&(nf(i)&&(i=mb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Dm(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+Wc(s,a);o+=Ha(s,t,n,u,i)}else if(u=pb(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+Wc(s,a++),o+=Ha(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _a(e,t,n){if(e==null)return e;var r=[],i=0;return Ha(e,r,"","",function(s){return t.call(n,s,i++)}),r}function vb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},Wa={transition:null},yb={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:Wa,ReactCurrentOwner:tf};function U0(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:_a,forEach:function(e,t,n){_a(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _a(e,function(){t++}),t},toArray:function(e){return _a(e,function(t){return t})||[]},only:function(e){if(!nf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=uo;ce.Fragment=sb;ce.Profiler=lb;ce.PureComponent=Zh;ce.StrictMode=ob;ce.Suspense=db;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yb;ce.act=U0;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=O0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=tf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)D0.call(t,u)&&!M0.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Vl,type:e.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(e){return e={$$typeof:ub,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ab,_context:e},e.Consumer=e};ce.createElement=$0;ce.createFactory=function(e){var t=$0.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:cb,render:e}};ce.isValidElement=nf;ce.lazy=function(e){return{$$typeof:fb,_payload:{_status:-1,_result:e},_init:vb}};ce.memo=function(e,t){return{$$typeof:hb,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Wa.transition;Wa.transition={};try{e()}finally{Wa.transition=t}};ce.unstable_act=U0;ce.useCallback=function(e,t){return At.current.useCallback(e,t)};ce.useContext=function(e){return At.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return At.current.useDeferredValue(e)};ce.useEffect=function(e,t){return At.current.useEffect(e,t)};ce.useId=function(){return At.current.useId()};ce.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return At.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};ce.useRef=function(e){return At.current.useRef(e)};ce.useState=function(e){return At.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return At.current.useTransition()};ce.version="18.3.1";P0.exports=ce;var M=P0.exports;const xt=k0(M),_b=x0({__proto__:null,default:xt},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb=M,bb=Symbol.for("react.element"),Eb=Symbol.for("react.fragment"),Cb=Object.prototype.hasOwnProperty,Sb=wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tb={key:!0,ref:!0,__self:!0,__source:!0};function F0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Cb.call(t,r)&&!Tb.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:bb,type:e,key:s,ref:o,props:i,_owner:Sb.current}}qu.Fragment=Eb;qu.jsx=F0;qu.jsxs=F0;A0.exports=qu;var P=A0.exports,Dd={},j0={exports:{}},Gt={},z0={exports:{}},V0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,Y){var Q=z.length;z.push(Y);e:for(;0<Q;){var de=Q-1>>>1,re=z[de];if(0<i(re,Y))z[de]=Y,z[Q]=re,Q=de;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],Q=z.pop();if(Q!==Y){z[0]=Q;e:for(var de=0,re=z.length,we=re>>>1;de<we;){var Ct=2*(de+1)-1,qe=z[Ct],nt=Ct+1,rt=z[nt];if(0>i(qe,Q))nt<re&&0>i(rt,qe)?(z[de]=rt,z[nt]=Q,de=nt):(z[de]=qe,z[Ct]=Q,de=Ct);else if(nt<re&&0>i(rt,Q))z[de]=rt,z[nt]=Q,de=nt;else break e}}return Y}function i(z,Y){var Q=z.sortIndex-Y.sortIndex;return Q!==0?Q:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,m=3,I=!1,b=!1,x=!1,L=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=z)r(c),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=n(c)}}function $(z){if(x=!1,S(z),!b)if(n(u)!==null)b=!0,Et(j);else{var Y=n(c);Y!==null&&tt($,Y.startTime-z)}}function j(z,Y){b=!1,x&&(x=!1,C(v),v=-1),I=!0;var Q=m;try{for(S(Y),p=n(u);p!==null&&(!(p.expirationTime>Y)||z&&!k());){var de=p.callback;if(typeof de=="function"){p.callback=null,m=p.priorityLevel;var re=de(p.expirationTime<=Y);Y=e.unstable_now(),typeof re=="function"?p.callback=re:p===n(u)&&r(u),S(Y)}else r(u);p=n(u)}if(p!==null)var we=!0;else{var Ct=n(c);Ct!==null&&tt($,Ct.startTime-Y),we=!1}return we}finally{p=null,m=Q,I=!1}}var B=!1,g=null,v=-1,w=5,E=-1;function k(){return!(e.unstable_now()-E<w)}function A(){if(g!==null){var z=e.unstable_now();E=z;var Y=!0;try{Y=g(!0,z)}finally{Y?T():(B=!1,g=null)}}else B=!1}var T;if(typeof _=="function")T=function(){_(A)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,We=me.port2;me.port1.onmessage=A,T=function(){We.postMessage(null)}}else T=function(){L(A,0)};function Et(z){g=z,B||(B=!0,T())}function tt(z,Y){v=L(function(){z(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){b||I||(b=!0,Et(j))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var Q=m;m=Y;try{return z()}finally{m=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=m;m=z;try{return Y()}finally{m=Q}},e.unstable_scheduleCallback=function(z,Y,Q){var de=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?de+Q:de):Q=de,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,z={id:h++,callback:Y,priorityLevel:z,startTime:Q,expirationTime:re,sortIndex:-1},Q>de?(z.sortIndex=Q,t(c,z),n(u)===null&&z===n(c)&&(x?(C(v),v=-1):x=!0,tt($,Q-de))):(z.sortIndex=re,t(u,z),b||I||(b=!0,Et(j))),z},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(z){var Y=m;return function(){var Q=m;m=Y;try{return z.apply(this,arguments)}finally{m=Q}}}})(V0);z0.exports=V0;var Ib=z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb=M,Wt=Ib;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B0=new Set,yl={};function Zi(e,t){Xs(e,t),Xs(e+"Capture",t)}function Xs(e,t){for(yl[e]=t,e=0;e<t.length;e++)B0.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Md=Object.prototype.hasOwnProperty,kb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$m={},Um={};function Ab(e){return Md.call(Um,e)?!0:Md.call($m,e)?!1:kb.test(e)?Um[e]=!0:($m[e]=!0,!1)}function Pb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rb(e,t,n,r){if(t===null||typeof t>"u"||Pb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rf=/[\-:]([a-z])/g;function sf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rf,sf);dt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rf,sf);dt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rf,sf);dt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});dt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function of(e,t,n,r){var i=dt.hasOwnProperty(t)?dt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rb(t,n,i,r)&&(n=null),r||i===null?Ab(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mr=xb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),lf=Symbol.for("react.strict_mode"),$d=Symbol.for("react.profiler"),H0=Symbol.for("react.provider"),W0=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),Fd=Symbol.for("react.suspense_list"),uf=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),G0=Symbol.for("react.offscreen"),Fm=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=Fm&&e[Fm]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,Gc;function Qo(e){if(Gc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gc=t&&t[1]||""}return`
`+Gc+e}var Kc=!1;function Xc(e,t){if(!e||Kc)return"";Kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Kc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qo(e):""}function Ob(e){switch(e.tag){case 5:return Qo(e.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return e=Xc(e.type,!1),e;case 11:return e=Xc(e.type.render,!1),e;case 1:return e=Xc(e.type,!0),e;default:return""}}function jd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cs:return"Fragment";case Es:return"Portal";case $d:return"Profiler";case lf:return"StrictMode";case Ud:return"Suspense";case Fd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W0:return(e.displayName||"Context")+".Consumer";case H0:return(e._context.displayName||"Context")+".Provider";case af:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uf:return t=e.displayName||null,t!==null?t:jd(e.type)||"Memo";case Nr:t=e._payload,e=e._init;try{return jd(e(t))}catch{}}return null}function Lb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jd(t);case 8:return t===lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function si(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nb(e){var t=K0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ba(e){e._valueTracker||(e._valueTracker=Nb(e))}function X0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zd(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=si(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q0(e,t){t=t.checked,t!=null&&of(e,"checked",t,!1)}function Vd(e,t){q0(e,t);var n=si(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bd(e,t.type,si(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bd(e,t,n){(t!=="number"||au(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zo=Array.isArray;function $s(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+si(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Zo(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:si(n)}}function Y0(e,t){var n=si(t.value),r=si(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ea,Q0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ea=Ea||document.createElement("div"),Ea.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _l(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Db=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(e){Db.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ll[t]=ll[e]})});function Z0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ll.hasOwnProperty(e)&&ll[e]?(""+t).trim():t+"px"}function ey(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Z0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Mb=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(e,t){if(t){if(Mb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Kd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=null;function cf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qd=null,Us=null,Fs=null;function Hm(e){if(e=Wl(e)){if(typeof qd!="function")throw Error(V(280));var t=e.stateNode;t&&(t=ec(t),qd(e.stateNode,e.type,t))}}function ty(e){Us?Fs?Fs.push(e):Fs=[e]:Us=e}function ny(){if(Us){var e=Us,t=Fs;if(Fs=Us=null,Hm(e),t)for(e=0;e<t.length;e++)Hm(t[e])}}function ry(e,t){return e(t)}function iy(){}var qc=!1;function sy(e,t,n){if(qc)return e(t,n);qc=!0;try{return ry(e,t,n)}finally{qc=!1,(Us!==null||Fs!==null)&&(iy(),ny())}}function wl(e,t){var n=e.stateNode;if(n===null)return null;var r=ec(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Yd=!1;if(ar)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){Yd=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{Yd=!1}function $b(e,t,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var al=!1,uu=null,cu=!1,Jd=null,Ub={onError:function(e){al=!0,uu=e}};function Fb(e,t,n,r,i,s,o,a,u){al=!1,uu=null,$b.apply(Ub,arguments)}function jb(e,t,n,r,i,s,o,a,u){if(Fb.apply(this,arguments),al){if(al){var c=uu;al=!1,uu=null}else throw Error(V(198));cu||(cu=!0,Jd=c)}}function es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wm(e){if(es(e)!==e)throw Error(V(188))}function zb(e){var t=e.alternate;if(!t){if(t=es(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wm(i),e;if(s===r)return Wm(i),t;s=s.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function ly(e){return e=zb(e),e!==null?ay(e):null}function ay(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ay(e);if(t!==null)return t;e=e.sibling}return null}var uy=Wt.unstable_scheduleCallback,Gm=Wt.unstable_cancelCallback,Vb=Wt.unstable_shouldYield,Bb=Wt.unstable_requestPaint,He=Wt.unstable_now,Hb=Wt.unstable_getCurrentPriorityLevel,df=Wt.unstable_ImmediatePriority,cy=Wt.unstable_UserBlockingPriority,du=Wt.unstable_NormalPriority,Wb=Wt.unstable_LowPriority,dy=Wt.unstable_IdlePriority,Yu=null,Dn=null;function Gb(e){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Yu,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:qb,Kb=Math.log,Xb=Math.LN2;function qb(e){return e>>>=0,e===0?32:31-(Kb(e)/Xb|0)|0}var Ca=64,Sa=4194304;function el(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=el(a):(s&=o,s!==0&&(r=el(s)))}else o=n&~i,o!==0?r=el(o):s!==0&&(r=el(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bn(t),i=1<<n,r|=e[n],t&=~i;return r}function Yb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Yb(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function Qd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hy(){var e=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),e}function Yc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=n}function Qb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function hf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _e=0;function fy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var py,ff,my,gy,vy,Zd=!1,Ta=[],Hr=null,Wr=null,Gr=null,bl=new Map,El=new Map,Mr=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Km(e,t){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":bl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(t.pointerId)}}function $o(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Wl(t),t!==null&&ff(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function eE(e,t,n,r,i){switch(t){case"focusin":return Hr=$o(Hr,e,t,n,r,i),!0;case"dragenter":return Wr=$o(Wr,e,t,n,r,i),!0;case"mouseover":return Gr=$o(Gr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return bl.set(s,$o(bl.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,El.set(s,$o(El.get(s)||null,e,t,n,r,i)),!0}return!1}function yy(e){var t=Ri(e.target);if(t!==null){var n=es(t);if(n!==null){if(t=n.tag,t===13){if(t=oy(n),t!==null){e.blockedOn=t,vy(e.priority,function(){my(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xd=r,n.target.dispatchEvent(r),Xd=null}else return t=Wl(n),t!==null&&ff(t),e.blockedOn=n,!1;t.shift()}return!0}function Xm(e,t,n){Ga(e)&&n.delete(t)}function tE(){Zd=!1,Hr!==null&&Ga(Hr)&&(Hr=null),Wr!==null&&Ga(Wr)&&(Wr=null),Gr!==null&&Ga(Gr)&&(Gr=null),bl.forEach(Xm),El.forEach(Xm)}function Uo(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,tE)))}function Cl(e){function t(i){return Uo(i,e)}if(0<Ta.length){Uo(Ta[0],e);for(var n=1;n<Ta.length;n++){var r=Ta[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hr!==null&&Uo(Hr,e),Wr!==null&&Uo(Wr,e),Gr!==null&&Uo(Gr,e),bl.forEach(t),El.forEach(t),n=0;n<Mr.length;n++)r=Mr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)yy(n),n.blockedOn===null&&Mr.shift()}var js=mr.ReactCurrentBatchConfig,fu=!0;function nE(e,t,n,r){var i=_e,s=js.transition;js.transition=null;try{_e=1,pf(e,t,n,r)}finally{_e=i,js.transition=s}}function rE(e,t,n,r){var i=_e,s=js.transition;js.transition=null;try{_e=4,pf(e,t,n,r)}finally{_e=i,js.transition=s}}function pf(e,t,n,r){if(fu){var i=eh(e,t,n,r);if(i===null)od(e,t,r,pu,n),Km(e,r);else if(eE(i,e,t,n,r))r.stopPropagation();else if(Km(e,r),t&4&&-1<Zb.indexOf(e)){for(;i!==null;){var s=Wl(i);if(s!==null&&py(s),s=eh(e,t,n,r),s===null&&od(e,t,r,pu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else od(e,t,r,null,n)}}var pu=null;function eh(e,t,n,r){if(pu=null,e=cf(r),e=Ri(e),e!==null)if(t=es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pu=e,null}function _y(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hb()){case df:return 1;case cy:return 4;case du:case Wb:return 16;case dy:return 536870912;default:return 16}default:return 16}}var zr=null,mf=null,Ka=null;function wy(){if(Ka)return Ka;var e,t=mf,n=t.length,r,i="value"in zr?zr.value:zr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ka=i.slice(e,1<r?1-r:void 0)}function Xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ia(){return!0}function qm(){return!1}function Kt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ia:qm,this.isPropagationStopped=qm,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=Kt(co),Hl=$e({},co,{view:0,detail:0}),iE=Kt(Hl),Jc,Qc,Fo,Ju=$e({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(Jc=e.screenX-Fo.screenX,Qc=e.screenY-Fo.screenY):Qc=Jc=0,Fo=e),Jc)},movementY:function(e){return"movementY"in e?e.movementY:Qc}}),Ym=Kt(Ju),sE=$e({},Ju,{dataTransfer:0}),oE=Kt(sE),lE=$e({},Hl,{relatedTarget:0}),Zc=Kt(lE),aE=$e({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),uE=Kt(aE),cE=$e({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dE=Kt(cE),hE=$e({},co,{data:0}),Jm=Kt(hE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mE[e])?!!t[e]:!1}function vf(){return gE}var vE=$e({},Hl,{key:function(e){if(e.key){var t=fE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vf,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yE=Kt(vE),_E=$e({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=Kt(_E),wE=$e({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vf}),bE=Kt(wE),EE=$e({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),CE=Kt(EE),SE=$e({},Ju,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TE=Kt(SE),IE=[9,13,27,32],yf=ar&&"CompositionEvent"in window,ul=null;ar&&"documentMode"in document&&(ul=document.documentMode);var xE=ar&&"TextEvent"in window&&!ul,by=ar&&(!yf||ul&&8<ul&&11>=ul),Zm=" ",eg=!1;function Ey(e,t){switch(e){case"keyup":return IE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function kE(e,t){switch(e){case"compositionend":return Cy(t);case"keypress":return t.which!==32?null:(eg=!0,Zm);case"textInput":return e=t.data,e===Zm&&eg?null:e;default:return null}}function AE(e,t){if(Ss)return e==="compositionend"||!yf&&Ey(e,t)?(e=wy(),Ka=mf=zr=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return by&&t.locale!=="ko"?null:t.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PE[e.type]:t==="textarea"}function Sy(e,t,n,r){ty(r),t=mu(t,"onChange"),0<t.length&&(n=new gf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cl=null,Sl=null;function RE(e){Dy(e,0)}function Qu(e){var t=xs(e);if(X0(t))return e}function OE(e,t){if(e==="change")return t}var Ty=!1;if(ar){var ed;if(ar){var td="oninput"in document;if(!td){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),td=typeof ng.oninput=="function"}ed=td}else ed=!1;Ty=ed&&(!document.documentMode||9<document.documentMode)}function rg(){cl&&(cl.detachEvent("onpropertychange",Iy),Sl=cl=null)}function Iy(e){if(e.propertyName==="value"&&Qu(Sl)){var t=[];Sy(t,Sl,e,cf(e)),sy(RE,t)}}function LE(e,t,n){e==="focusin"?(rg(),cl=t,Sl=n,cl.attachEvent("onpropertychange",Iy)):e==="focusout"&&rg()}function NE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qu(Sl)}function DE(e,t){if(e==="click")return Qu(t)}function ME(e,t){if(e==="input"||e==="change")return Qu(t)}function $E(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:$E;function Tl(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Md.call(t,i)||!Tn(e[i],t[i]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,t){var n=ig(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ig(n)}}function xy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ky(){for(var e=window,t=au();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=au(e.document)}return t}function _f(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UE(e){var t=ky(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xy(n.ownerDocument.documentElement,n)){if(r!==null&&_f(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=sg(n,s);var o=sg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FE=ar&&"documentMode"in document&&11>=document.documentMode,Ts=null,th=null,dl=null,nh=!1;function og(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nh||Ts==null||Ts!==au(r)||(r=Ts,"selectionStart"in r&&_f(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Tl(dl,r)||(dl=r,r=mu(th,"onSelect"),0<r.length&&(t=new gf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ts)))}function xa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Is={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},nd={},Ay={};ar&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Zu(e){if(nd[e])return nd[e];if(!Is[e])return e;var t=Is[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ay)return nd[e]=t[n];return e}var Py=Zu("animationend"),Ry=Zu("animationiteration"),Oy=Zu("animationstart"),Ly=Zu("transitionend"),Ny=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(e,t){Ny.set(e,t),Zi(t,[e])}for(var rd=0;rd<lg.length;rd++){var id=lg[rd],jE=id.toLowerCase(),zE=id[0].toUpperCase()+id.slice(1);ui(jE,"on"+zE)}ui(Py,"onAnimationEnd");ui(Ry,"onAnimationIteration");ui(Oy,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(Ly,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function ag(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jb(r,t,void 0,e),e.currentTarget=null}function Dy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;ag(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;ag(i,a,c),s=u}}}if(cu)throw e=Jd,cu=!1,Jd=null,e}function ke(e,t){var n=t[lh];n===void 0&&(n=t[lh]=new Set);var r=e+"__bubble";n.has(r)||(My(t,e,2,!1),n.add(r))}function sd(e,t,n){var r=0;t&&(r|=4),My(n,e,r,t)}var ka="_reactListening"+Math.random().toString(36).slice(2);function Il(e){if(!e[ka]){e[ka]=!0,B0.forEach(function(n){n!=="selectionchange"&&(VE.has(n)||sd(n,!1,e),sd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ka]||(t[ka]=!0,sd("selectionchange",!1,t))}}function My(e,t,n,r){switch(_y(t)){case 1:var i=nE;break;case 4:i=rE;break;default:i=pf}n=i.bind(null,t,n,e),i=void 0,!Yd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function od(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ri(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}sy(function(){var c=s,h=cf(n),p=[];e:{var m=Ny.get(e);if(m!==void 0){var I=gf,b=e;switch(e){case"keypress":if(Xa(n)===0)break e;case"keydown":case"keyup":I=yE;break;case"focusin":b="focus",I=Zc;break;case"focusout":b="blur",I=Zc;break;case"beforeblur":case"afterblur":I=Zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=oE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=bE;break;case Py:case Ry:case Oy:I=uE;break;case Ly:I=CE;break;case"scroll":I=iE;break;case"wheel":I=TE;break;case"copy":case"cut":case"paste":I=dE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Qm}var x=(t&4)!==0,L=!x&&e==="scroll",C=x?m!==null?m+"Capture":null:m;x=[];for(var _=c,S;_!==null;){S=_;var $=S.stateNode;if(S.tag===5&&$!==null&&(S=$,C!==null&&($=wl(_,C),$!=null&&x.push(xl(_,$,S)))),L)break;_=_.return}0<x.length&&(m=new I(m,b,null,n,h),p.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",m&&n!==Xd&&(b=n.relatedTarget||n.fromElement)&&(Ri(b)||b[ur]))break e;if((I||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,I?(b=n.relatedTarget||n.toElement,I=c,b=b?Ri(b):null,b!==null&&(L=es(b),b!==L||b.tag!==5&&b.tag!==6)&&(b=null)):(I=null,b=c),I!==b)){if(x=Ym,$="onMouseLeave",C="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(x=Qm,$="onPointerLeave",C="onPointerEnter",_="pointer"),L=I==null?m:xs(I),S=b==null?m:xs(b),m=new x($,_+"leave",I,n,h),m.target=L,m.relatedTarget=S,$=null,Ri(h)===c&&(x=new x(C,_+"enter",b,n,h),x.target=S,x.relatedTarget=L,$=x),L=$,I&&b)t:{for(x=I,C=b,_=0,S=x;S;S=ms(S))_++;for(S=0,$=C;$;$=ms($))S++;for(;0<_-S;)x=ms(x),_--;for(;0<S-_;)C=ms(C),S--;for(;_--;){if(x===C||C!==null&&x===C.alternate)break t;x=ms(x),C=ms(C)}x=null}else x=null;I!==null&&ug(p,m,I,x,!1),b!==null&&L!==null&&ug(p,L,b,x,!0)}}e:{if(m=c?xs(c):window,I=m.nodeName&&m.nodeName.toLowerCase(),I==="select"||I==="input"&&m.type==="file")var j=OE;else if(tg(m))if(Ty)j=ME;else{j=NE;var B=LE}else(I=m.nodeName)&&I.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=DE);if(j&&(j=j(e,c))){Sy(p,j,n,h);break e}B&&B(e,m,c),e==="focusout"&&(B=m._wrapperState)&&B.controlled&&m.type==="number"&&Bd(m,"number",m.value)}switch(B=c?xs(c):window,e){case"focusin":(tg(B)||B.contentEditable==="true")&&(Ts=B,th=c,dl=null);break;case"focusout":dl=th=Ts=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,og(p,n,h);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":og(p,n,h)}var g;if(yf)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ss?Ey(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(by&&n.locale!=="ko"&&(Ss||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ss&&(g=wy()):(zr=h,mf="value"in zr?zr.value:zr.textContent,Ss=!0)),B=mu(c,v),0<B.length&&(v=new Jm(v,e,null,n,h),p.push({event:v,listeners:B}),g?v.data=g:(g=Cy(n),g!==null&&(v.data=g)))),(g=xE?kE(e,n):AE(e,n))&&(c=mu(c,"onBeforeInput"),0<c.length&&(h=new Jm("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=g))}Dy(p,t)})}function xl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wl(e,n),s!=null&&r.unshift(xl(e,s,i)),s=wl(e,t),s!=null&&r.push(xl(e,s,i))),e=e.return}return r}function ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ug(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=wl(n,s),u!=null&&o.unshift(xl(n,u,a))):i||(u=wl(n,s),u!=null&&o.push(xl(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var BE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function cg(e){return(typeof e=="string"?e:""+e).replace(BE,`
`).replace(HE,"")}function Aa(e,t,n){if(t=cg(t),cg(e)!==t&&n)throw Error(V(425))}function gu(){}var rh=null,ih=null;function sh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(KE)}:oh;function KE(e){setTimeout(function(){throw e})}function ld(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(t)}function Kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),Nn="__reactFiber$"+ho,kl="__reactProps$"+ho,ur="__reactContainer$"+ho,lh="__reactEvents$"+ho,XE="__reactListeners$"+ho,qE="__reactHandles$"+ho;function Ri(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ur]||n[Nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hg(e);e!==null;){if(n=e[Nn])return n;e=hg(e)}return t}e=n,n=e.parentNode}return null}function Wl(e){return e=e[Nn]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function ec(e){return e[kl]||null}var ah=[],ks=-1;function ci(e){return{current:e}}function Ae(e){0>ks||(e.current=ah[ks],ah[ks]=null,ks--)}function Se(e,t){ks++,ah[ks]=e.current,e.current=t}var oi={},wt=ci(oi),Mt=ci(!1),Vi=oi;function qs(e,t){var n=e.type.contextTypes;if(!n)return oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $t(e){return e=e.childContextTypes,e!=null}function vu(){Ae(Mt),Ae(wt)}function fg(e,t,n){if(wt.current!==oi)throw Error(V(168));Se(wt,t),Se(Mt,n)}function $y(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,Lb(e)||"Unknown",i));return $e({},n,r)}function yu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,Vi=wt.current,Se(wt,e),Se(Mt,Mt.current),!0}function pg(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=$y(e,t,Vi),r.__reactInternalMemoizedMergedChildContext=e,Ae(Mt),Ae(wt),Se(wt,e)):Ae(Mt),Se(Mt,n)}var Jn=null,tc=!1,ad=!1;function Uy(e){Jn===null?Jn=[e]:Jn.push(e)}function YE(e){tc=!0,Uy(e)}function di(){if(!ad&&Jn!==null){ad=!0;var e=0,t=_e;try{var n=Jn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jn=null,tc=!1}catch(i){throw Jn!==null&&(Jn=Jn.slice(e+1)),uy(df,di),i}finally{_e=t,ad=!1}}return null}var As=[],Ps=0,_u=null,wu=0,Zt=[],en=0,Bi=null,er=1,tr="";function ki(e,t){As[Ps++]=wu,As[Ps++]=_u,_u=e,wu=t}function Fy(e,t,n){Zt[en++]=er,Zt[en++]=tr,Zt[en++]=Bi,Bi=e;var r=er;e=tr;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var s=32-bn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,er=1<<32-bn(t)+i|n<<i|r,tr=s+e}else er=1<<s|n<<i|r,tr=e}function wf(e){e.return!==null&&(ki(e,1),Fy(e,1,0))}function bf(e){for(;e===_u;)_u=As[--Ps],As[Ps]=null,wu=As[--Ps],As[Ps]=null;for(;e===Bi;)Bi=Zt[--en],Zt[en]=null,tr=Zt[--en],Zt[en]=null,er=Zt[--en],Zt[en]=null}var Ht=null,Vt=null,Oe=!1,_n=null;function jy(e,t){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,Vt=Kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bi!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,Vt=null,!0):!1;default:return!1}}function uh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ch(e){if(Oe){var t=Vt;if(t){var n=t;if(!mg(e,t)){if(uh(e))throw Error(V(418));t=Kr(n.nextSibling);var r=Ht;t&&mg(e,t)?jy(r,n):(e.flags=e.flags&-4097|2,Oe=!1,Ht=e)}}else{if(uh(e))throw Error(V(418));e.flags=e.flags&-4097|2,Oe=!1,Ht=e}}}function gg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function Pa(e){if(e!==Ht)return!1;if(!Oe)return gg(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sh(e.type,e.memoizedProps)),t&&(t=Vt)){if(uh(e))throw zy(),Error(V(418));for(;t;)jy(e,t),t=Kr(t.nextSibling)}if(gg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vt=Kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Ht?Kr(e.stateNode.nextSibling):null;return!0}function zy(){for(var e=Vt;e;)e=Kr(e.nextSibling)}function Ys(){Vt=Ht=null,Oe=!1}function Ef(e){_n===null?_n=[e]:_n.push(e)}var JE=mr.ReactCurrentBatchConfig;function jo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Ra(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vg(e){var t=e._init;return t(e._payload)}function Vy(e){function t(C,_){if(e){var S=C.deletions;S===null?(C.deletions=[_],C.flags|=16):S.push(_)}}function n(C,_){if(!e)return null;for(;_!==null;)t(C,_),_=_.sibling;return null}function r(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function i(C,_){return C=Jr(C,_),C.index=0,C.sibling=null,C}function s(C,_,S){return C.index=S,e?(S=C.alternate,S!==null?(S=S.index,S<_?(C.flags|=2,_):S):(C.flags|=2,_)):(C.flags|=1048576,_)}function o(C){return e&&C.alternate===null&&(C.flags|=2),C}function a(C,_,S,$){return _===null||_.tag!==6?(_=md(S,C.mode,$),_.return=C,_):(_=i(_,S),_.return=C,_)}function u(C,_,S,$){var j=S.type;return j===Cs?h(C,_,S.props.children,$,S.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nr&&vg(j)===_.type)?($=i(_,S.props),$.ref=jo(C,_,S),$.return=C,$):($=tu(S.type,S.key,S.props,null,C.mode,$),$.ref=jo(C,_,S),$.return=C,$)}function c(C,_,S,$){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=gd(S,C.mode,$),_.return=C,_):(_=i(_,S.children||[]),_.return=C,_)}function h(C,_,S,$,j){return _===null||_.tag!==7?(_=Fi(S,C.mode,$,j),_.return=C,_):(_=i(_,S),_.return=C,_)}function p(C,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=md(""+_,C.mode,S),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wa:return S=tu(_.type,_.key,_.props,null,C.mode,S),S.ref=jo(C,null,_),S.return=C,S;case Es:return _=gd(_,C.mode,S),_.return=C,_;case Nr:var $=_._init;return p(C,$(_._payload),S)}if(Zo(_)||Do(_))return _=Fi(_,C.mode,S,null),_.return=C,_;Ra(C,_)}return null}function m(C,_,S,$){var j=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:a(C,_,""+S,$);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wa:return S.key===j?u(C,_,S,$):null;case Es:return S.key===j?c(C,_,S,$):null;case Nr:return j=S._init,m(C,_,j(S._payload),$)}if(Zo(S)||Do(S))return j!==null?null:h(C,_,S,$,null);Ra(C,S)}return null}function I(C,_,S,$,j){if(typeof $=="string"&&$!==""||typeof $=="number")return C=C.get(S)||null,a(_,C,""+$,j);if(typeof $=="object"&&$!==null){switch($.$$typeof){case wa:return C=C.get($.key===null?S:$.key)||null,u(_,C,$,j);case Es:return C=C.get($.key===null?S:$.key)||null,c(_,C,$,j);case Nr:var B=$._init;return I(C,_,S,B($._payload),j)}if(Zo($)||Do($))return C=C.get(S)||null,h(_,C,$,j,null);Ra(_,$)}return null}function b(C,_,S,$){for(var j=null,B=null,g=_,v=_=0,w=null;g!==null&&v<S.length;v++){g.index>v?(w=g,g=null):w=g.sibling;var E=m(C,g,S[v],$);if(E===null){g===null&&(g=w);break}e&&g&&E.alternate===null&&t(C,g),_=s(E,_,v),B===null?j=E:B.sibling=E,B=E,g=w}if(v===S.length)return n(C,g),Oe&&ki(C,v),j;if(g===null){for(;v<S.length;v++)g=p(C,S[v],$),g!==null&&(_=s(g,_,v),B===null?j=g:B.sibling=g,B=g);return Oe&&ki(C,v),j}for(g=r(C,g);v<S.length;v++)w=I(g,C,v,S[v],$),w!==null&&(e&&w.alternate!==null&&g.delete(w.key===null?v:w.key),_=s(w,_,v),B===null?j=w:B.sibling=w,B=w);return e&&g.forEach(function(k){return t(C,k)}),Oe&&ki(C,v),j}function x(C,_,S,$){var j=Do(S);if(typeof j!="function")throw Error(V(150));if(S=j.call(S),S==null)throw Error(V(151));for(var B=j=null,g=_,v=_=0,w=null,E=S.next();g!==null&&!E.done;v++,E=S.next()){g.index>v?(w=g,g=null):w=g.sibling;var k=m(C,g,E.value,$);if(k===null){g===null&&(g=w);break}e&&g&&k.alternate===null&&t(C,g),_=s(k,_,v),B===null?j=k:B.sibling=k,B=k,g=w}if(E.done)return n(C,g),Oe&&ki(C,v),j;if(g===null){for(;!E.done;v++,E=S.next())E=p(C,E.value,$),E!==null&&(_=s(E,_,v),B===null?j=E:B.sibling=E,B=E);return Oe&&ki(C,v),j}for(g=r(C,g);!E.done;v++,E=S.next())E=I(g,C,v,E.value,$),E!==null&&(e&&E.alternate!==null&&g.delete(E.key===null?v:E.key),_=s(E,_,v),B===null?j=E:B.sibling=E,B=E);return e&&g.forEach(function(A){return t(C,A)}),Oe&&ki(C,v),j}function L(C,_,S,$){if(typeof S=="object"&&S!==null&&S.type===Cs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case wa:e:{for(var j=S.key,B=_;B!==null;){if(B.key===j){if(j=S.type,j===Cs){if(B.tag===7){n(C,B.sibling),_=i(B,S.props.children),_.return=C,C=_;break e}}else if(B.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nr&&vg(j)===B.type){n(C,B.sibling),_=i(B,S.props),_.ref=jo(C,B,S),_.return=C,C=_;break e}n(C,B);break}else t(C,B);B=B.sibling}S.type===Cs?(_=Fi(S.props.children,C.mode,$,S.key),_.return=C,C=_):($=tu(S.type,S.key,S.props,null,C.mode,$),$.ref=jo(C,_,S),$.return=C,C=$)}return o(C);case Es:e:{for(B=S.key;_!==null;){if(_.key===B)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(C,_.sibling),_=i(_,S.children||[]),_.return=C,C=_;break e}else{n(C,_);break}else t(C,_);_=_.sibling}_=gd(S,C.mode,$),_.return=C,C=_}return o(C);case Nr:return B=S._init,L(C,_,B(S._payload),$)}if(Zo(S))return b(C,_,S,$);if(Do(S))return x(C,_,S,$);Ra(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(C,_.sibling),_=i(_,S),_.return=C,C=_):(n(C,_),_=md(S,C.mode,$),_.return=C,C=_),o(C)):n(C,_)}return L}var Js=Vy(!0),By=Vy(!1),bu=ci(null),Eu=null,Rs=null,Cf=null;function Sf(){Cf=Rs=Eu=null}function Tf(e){var t=bu.current;Ae(bu),e._currentValue=t}function dh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zs(e,t){Eu=e,Cf=Rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dt=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(Cf!==e)if(e={context:e,memoizedValue:t,next:null},Rs===null){if(Eu===null)throw Error(V(308));Rs=e,Eu.dependencies={lanes:0,firstContext:e}}else Rs=Rs.next=e;return t}var Oi=null;function If(e){Oi===null?Oi=[e]:Oi.push(e)}function Hy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,If(t)):(n.next=i.next,i.next=n),t.interleaved=n,cr(e,r)}function cr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dr=!1;function xf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,cr(e,n)}return i=r.interleaved,i===null?(t.next=t,If(r)):(t.next=i.next,i.next=t),r.interleaved=t,cr(e,n)}function qa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hf(e,n)}}function yg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cu(e,t,n,r){var i=e.updateQueue;Dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,h=c=u=null,a=s;do{var m=a.lane,I=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:I,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,x=a;switch(m=t,I=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){p=b.call(I,p,m);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,m=typeof b=="function"?b.call(I,p,m):b,m==null)break e;p=$e({},p,m);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else I={eventTime:I,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=I,u=p):h=h.next=I,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Wi|=o,e.lanes=o,e.memoizedState=p}}function _g(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Gl={},Mn=ci(Gl),Al=ci(Gl),Pl=ci(Gl);function Li(e){if(e===Gl)throw Error(V(174));return e}function kf(e,t){switch(Se(Pl,t),Se(Al,e),Se(Mn,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wd(t,e)}Ae(Mn),Se(Mn,t)}function Qs(){Ae(Mn),Ae(Al),Ae(Pl)}function Gy(e){Li(Pl.current);var t=Li(Mn.current),n=Wd(t,e.type);t!==n&&(Se(Al,e),Se(Mn,n))}function Af(e){Al.current===e&&(Ae(Mn),Ae(Al))}var Ne=ci(0);function Su(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ud=[];function Pf(){for(var e=0;e<ud.length;e++)ud[e]._workInProgressVersionPrimary=null;ud.length=0}var Ya=mr.ReactCurrentDispatcher,cd=mr.ReactCurrentBatchConfig,Hi=0,Me=null,Je=null,Ze=null,Tu=!1,hl=!1,Rl=0,QE=0;function pt(){throw Error(V(321))}function Rf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}function Of(e,t,n,r,i,s){if(Hi=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=e===null||e.memoizedState===null?nC:rC,e=n(r,i),hl){s=0;do{if(hl=!1,Rl=0,25<=s)throw Error(V(301));s+=1,Ze=Je=null,t.updateQueue=null,Ya.current=iC,e=n(r,i)}while(hl)}if(Ya.current=Iu,t=Je!==null&&Je.next!==null,Hi=0,Ze=Je=Me=null,Tu=!1,t)throw Error(V(300));return e}function Lf(){var e=Rl!==0;return Rl=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Me.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function an(){if(Je===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=Ze===null?Me.memoizedState:Ze.next;if(t!==null)Ze=t,Je=e;else{if(e===null)throw Error(V(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ze===null?Me.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ol(e,t){return typeof t=="function"?t(e):t}function dd(e){var t=an(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((Hi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Me.lanes|=h,Wi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Tn(r,t.memoizedState)||(Dt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Me.lanes|=s,Wi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hd(e){var t=an(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Tn(s,t.memoizedState)||(Dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ky(){}function Xy(e,t){var n=Me,r=an(),i=t(),s=!Tn(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,Nf(Jy.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Ll(9,Yy.bind(null,n,r,i,t),void 0,null),et===null)throw Error(V(349));Hi&30||qy(n,t,i)}return i}function qy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yy(e,t,n,r){t.value=n,t.getSnapshot=r,Qy(t)&&Zy(e)}function Jy(e,t,n){return n(function(){Qy(t)&&Zy(e)})}function Qy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tn(e,n)}catch{return!0}}function Zy(e){var t=cr(e,1);t!==null&&En(t,e,1,-1)}function wg(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:e},t.queue=e,e=e.dispatch=tC.bind(null,Me,e),[t.memoizedState,e]}function Ll(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function e_(){return an().memoizedState}function Ja(e,t,n,r){var i=Rn();Me.flags|=e,i.memoizedState=Ll(1|t,n,void 0,r===void 0?null:r)}function nc(e,t,n,r){var i=an();r=r===void 0?null:r;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,r!==null&&Rf(r,o.deps)){i.memoizedState=Ll(t,n,s,r);return}}Me.flags|=e,i.memoizedState=Ll(1|t,n,s,r)}function bg(e,t){return Ja(8390656,8,e,t)}function Nf(e,t){return nc(2048,8,e,t)}function t_(e,t){return nc(4,2,e,t)}function n_(e,t){return nc(4,4,e,t)}function r_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i_(e,t,n){return n=n!=null?n.concat([e]):null,nc(4,4,r_.bind(null,t,e),n)}function Df(){}function s_(e,t){var n=an();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function o_(e,t){var n=an();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function l_(e,t,n){return Hi&21?(Tn(n,t)||(n=hy(),Me.lanes|=n,Wi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=n)}function ZE(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=cd.transition;cd.transition={};try{e(!1),t()}finally{_e=n,cd.transition=r}}function a_(){return an().memoizedState}function eC(e,t,n){var r=Yr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},u_(e))c_(t,n);else if(n=Hy(e,t,n,r),n!==null){var i=kt();En(n,e,r,i),d_(n,t,r)}}function tC(e,t,n){var r=Yr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(u_(e))c_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,o)){var u=t.interleaved;u===null?(i.next=i,If(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Hy(e,t,i,r),n!==null&&(i=kt(),En(n,e,r,i),d_(n,t,r))}}function u_(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function c_(e,t){hl=Tu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function d_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hf(e,n)}}var Iu={readContext:ln,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},nC={readContext:ln,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:bg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ja(4194308,4,r_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ja(4,2,e,t)},useMemo:function(e,t){var n=Rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eC.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:wg,useDebugValue:Df,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=wg(!1),t=e[0];return e=ZE.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,i=Rn();if(Oe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),et===null)throw Error(V(349));Hi&30||qy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,bg(Jy.bind(null,r,s,e),[e]),r.flags|=2048,Ll(9,Yy.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Rn(),t=et.identifierPrefix;if(Oe){var n=tr,r=er;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=QE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rC={readContext:ln,useCallback:s_,useContext:ln,useEffect:Nf,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:o_,useReducer:dd,useRef:e_,useState:function(){return dd(Ol)},useDebugValue:Df,useDeferredValue:function(e){var t=an();return l_(t,Je.memoizedState,e)},useTransition:function(){var e=dd(Ol)[0],t=an().memoizedState;return[e,t]},useMutableSource:Ky,useSyncExternalStore:Xy,useId:a_,unstable_isNewReconciler:!1},iC={readContext:ln,useCallback:s_,useContext:ln,useEffect:Nf,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:o_,useReducer:hd,useRef:e_,useState:function(){return hd(Ol)},useDebugValue:Df,useDeferredValue:function(e){var t=an();return Je===null?t.memoizedState=e:l_(t,Je.memoizedState,e)},useTransition:function(){var e=hd(Ol)[0],t=an().memoizedState;return[e,t]},useMutableSource:Ky,useSyncExternalStore:Xy,useId:a_,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rc={isMounted:function(e){return(e=e._reactInternals)?es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kt(),i=Yr(e),s=sr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Xr(e,s,i),t!==null&&(En(t,e,i,r),qa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kt(),i=Yr(e),s=sr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Xr(e,s,i),t!==null&&(En(t,e,i,r),qa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),r=Yr(e),i=sr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Xr(e,i,r),t!==null&&(En(t,e,r,n),qa(t,e,r))}};function Eg(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Tl(n,r)||!Tl(i,s):!0}function h_(e,t,n){var r=!1,i=oi,s=t.contextType;return typeof s=="object"&&s!==null?s=ln(s):(i=$t(t)?Vi:wt.current,r=t.contextTypes,s=(r=r!=null)?qs(e,i):oi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Cg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rc.enqueueReplaceState(t,t.state,null)}function fh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},xf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ln(s):(s=$t(t)?Vi:wt.current,i.context=qs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(hh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&rc.enqueueReplaceState(i,i.state,null),Cu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zs(e,t){try{var n="",r=t;do n+=Ob(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function fd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ph(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sC=typeof WeakMap=="function"?WeakMap:Map;function f_(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ku||(ku=!0,Sh=r),ph(e,t)},n}function p_(e,t,n){n=sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ph(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ph(e,t),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Sg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_C.bind(null,e,t,n),t.then(e,e))}function Tg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ig(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,Xr(n,t,1))),n.lanes|=1),e)}var oC=mr.ReactCurrentOwner,Dt=!1;function Tt(e,t,n,r){t.child=e===null?By(t,null,n,r):Js(t,e.child,n,r)}function xg(e,t,n,r,i){n=n.render;var s=t.ref;return zs(t,i),r=Of(e,t,n,r,s,i),n=Lf(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dr(e,t,i)):(Oe&&n&&wf(t),t.flags|=1,Tt(e,t,r,i),t.child)}function kg(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Bf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,m_(e,t,s,r,i)):(e=tu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(o,r)&&e.ref===t.ref)return dr(e,t,i)}return t.flags|=1,e=Jr(s,r),e.ref=t.ref,e.return=t,t.child=e}function m_(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Tl(s,r)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,dr(e,t,i)}return mh(e,t,n,r,i)}function g_(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ls,zt),zt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Ls,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Ls,zt),zt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Se(Ls,zt),zt|=r;return Tt(e,t,i,n),t.child}function v_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mh(e,t,n,r,i){var s=$t(n)?Vi:wt.current;return s=qs(t,s),zs(t,i),n=Of(e,t,n,r,s,i),r=Lf(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dr(e,t,i)):(Oe&&r&&wf(t),t.flags|=1,Tt(e,t,n,i),t.child)}function Ag(e,t,n,r,i){if($t(n)){var s=!0;yu(t)}else s=!1;if(zs(t,i),t.stateNode===null)Qa(e,t),h_(t,n,r),fh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ln(c):(c=$t(n)?Vi:wt.current,c=qs(t,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Cg(t,o,r,c),Dr=!1;var m=t.memoizedState;o.state=m,Cu(t,r,o,i),u=t.memoizedState,a!==r||m!==u||Mt.current||Dr?(typeof h=="function"&&(hh(t,n,h,r),u=t.memoizedState),(a=Dr||Eg(t,n,a,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Wy(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gn(t.type,a),o.props=c,p=t.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ln(u):(u=$t(n)?Vi:wt.current,u=qs(t,u));var I=n.getDerivedStateFromProps;(h=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==u)&&Cg(t,o,r,u),Dr=!1,m=t.memoizedState,o.state=m,Cu(t,r,o,i);var b=t.memoizedState;a!==p||m!==b||Mt.current||Dr?(typeof I=="function"&&(hh(t,n,I,r),b=t.memoizedState),(c=Dr||Eg(t,n,c,r,m,b,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return gh(e,t,n,r,s,i)}function gh(e,t,n,r,i,s){v_(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&pg(t,n,!1),dr(e,t,s);r=t.stateNode,oC.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):Tt(e,t,a,s),t.memoizedState=r.state,i&&pg(t,n,!0),t.child}function y_(e){var t=e.stateNode;t.pendingContext?fg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fg(e,t.context,!1),kf(e,t.containerInfo)}function Pg(e,t,n,r,i){return Ys(),Ef(i),t.flags|=256,Tt(e,t,n,r),t.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function yh(e){return{baseLanes:e,cachePool:null,transitions:null}}function __(e,t,n){var r=t.pendingProps,i=Ne.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(Ne,i&1),e===null)return ch(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=oc(o,r,0,null),e=Fi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=yh(n),t.memoizedState=vh,e):Mf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return lC(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Jr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jr(a,s):(s=Fi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?yh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=vh,r}return s=e.child,e=s.sibling,r=Jr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mf(e,t){return t=oc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,n,r){return r!==null&&Ef(r),Js(t,e.child,null,n),e=Mf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lC(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=fd(Error(V(422))),Oa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=oc({mode:"visible",children:r.children},i,0,null),s=Fi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Js(t,e.child,null,o),t.child.memoizedState=yh(o),t.memoizedState=vh,s);if(!(t.mode&1))return Oa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(V(419)),r=fd(s,r,void 0),Oa(e,t,o,r)}if(a=(o&e.childLanes)!==0,Dt||a){if(r=et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cr(e,i),En(r,e,i,-1))}return Vf(),r=fd(Error(V(421))),Oa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wC.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Vt=Kr(i.nextSibling),Ht=t,Oe=!0,_n=null,e!==null&&(Zt[en++]=er,Zt[en++]=tr,Zt[en++]=Bi,er=e.id,tr=e.overflow,Bi=t),t=Mf(t,r.children),t.flags|=4096,t)}function Rg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dh(e.return,t,n)}function pd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function w_(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Tt(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rg(e,n,t);else if(e.tag===19)Rg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Su(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Su(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pd(t,!0,n,null,s);break;case"together":pd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function aC(e,t,n){switch(t.tag){case 3:y_(t),Ys();break;case 5:Gy(t);break;case 1:$t(t.type)&&yu(t);break;case 4:kf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Se(bu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?__(e,t,n):(Se(Ne,Ne.current&1),e=dr(e,t,n),e!==null?e.sibling:null);Se(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return w_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,g_(e,t,n)}return dr(e,t,n)}var b_,_h,E_,C_;b_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_h=function(){};E_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Li(Mn.current);var s=null;switch(n){case"input":i=zd(e,i),r=zd(e,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=Hd(e,i),r=Hd(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gu)}Gd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};C_=function(e,t,n,r){n!==r&&(t.flags|=4)};function zo(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uC(e,t,n){var r=t.pendingProps;switch(bf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return $t(t.type)&&vu(),mt(t),null;case 3:return r=t.stateNode,Qs(),Ae(Mt),Ae(wt),Pf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(xh(_n),_n=null))),_h(e,t),mt(t),null;case 5:Af(t);var i=Li(Pl.current);if(n=t.type,e!==null&&t.stateNode!=null)E_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return mt(t),null}if(e=Li(Mn.current),Pa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Nn]=t,r[kl]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<tl.length;i++)ke(tl[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":jm(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":Vm(r,s),ke("invalid",r)}Gd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Aa(r.textContent,a,e),i=["children",""+a]):yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":ba(r),zm(r,s,!0);break;case"textarea":ba(r),Bm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Nn]=t,e[kl]=r,b_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kd(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<tl.length;i++)ke(tl[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":jm(e,r),i=zd(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Vm(e,r),i=Hd(e,r),ke("invalid",e);break;default:i=r}Gd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ey(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Q0(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_l(e,u):typeof u=="number"&&_l(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ke("scroll",e):u!=null&&of(e,s,u,o))}switch(n){case"input":ba(e),zm(e,r,!1);break;case"textarea":ba(e),Bm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+si(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?$s(e,!!r.multiple,s,!1):r.defaultValue!=null&&$s(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)C_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Li(Pl.current),Li(Mn.current),Pa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nn]=t,(s=r.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:Aa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Aa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=t,t.stateNode=r}return mt(t),null;case 13:if(Ae(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Vt!==null&&t.mode&1&&!(t.flags&128))zy(),Ys(),t.flags|=98560,s=!1;else if(s=Pa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(V(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(V(317));s[Nn]=t}else Ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),s=!1}else _n!==null&&(xh(_n),_n=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Qe===0&&(Qe=3):Vf())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return Qs(),_h(e,t),e===null&&Il(t.stateNode.containerInfo),mt(t),null;case 10:return Tf(t.type._context),mt(t),null;case 17:return $t(t.type)&&vu(),mt(t),null;case 19:if(Ae(Ne),s=t.memoizedState,s===null)return mt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)zo(s,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Su(e),o!==null){for(t.flags|=128,zo(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&He()>eo&&(t.flags|=128,r=!0,zo(s,!1),t.lanes=4194304)}else{if(!r)if(e=Su(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return mt(t),null}else 2*He()-s.renderingStartTime>eo&&n!==1073741824&&(t.flags|=128,r=!0,zo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=He(),t.sibling=null,n=Ne.current,Se(Ne,r?n&1|2:n&1),t):(mt(t),null);case 22:case 23:return zf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function cC(e,t){switch(bf(t),t.tag){case 1:return $t(t.type)&&vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qs(),Ae(Mt),Ae(wt),Pf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Af(t),null;case 13:if(Ae(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Ne),null;case 4:return Qs(),null;case 10:return Tf(t.type._context),null;case 22:case 23:return zf(),null;case 24:return null;default:return null}}var La=!1,vt=!1,dC=typeof WeakSet=="function"?WeakSet:Set,X=null;function Os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function wh(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var Og=!1;function hC(e,t){if(rh=fu,e=ky(),_f(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,p=e,m=null;t:for(;;){for(var I;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(I=p.firstChild)!==null;)m=p,p=I;for(;;){if(p===e)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(u=o),(I=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=I}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ih={focusedElem:e,selectionRange:n},fu=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,L=b.memoizedState,C=t.stateNode,_=C.getSnapshotBeforeUpdate(t.elementType===t.type?x:gn(t.type,x),L);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch($){Fe(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return b=Og,Og=!1,b}function fl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&wh(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function S_(e){var t=e.alternate;t!==null&&(e.alternate=null,S_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nn],delete t[kl],delete t[lh],delete t[XE],delete t[qE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T_(e){return e.tag===5||e.tag===3||e.tag===4}function Lg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gu));else if(r!==4&&(e=e.child,e!==null))for(Eh(e,t,n),e=e.sibling;e!==null;)Eh(e,t,n),e=e.sibling}function Ch(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ch(e,t,n),e=e.sibling;e!==null;)Ch(e,t,n),e=e.sibling}var ut=null,vn=!1;function kr(e,t,n){for(n=n.child;n!==null;)I_(e,t,n),n=n.sibling}function I_(e,t,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Yu,n)}catch{}switch(n.tag){case 5:vt||Os(n,t);case 6:var r=ut,i=vn;ut=null,kr(e,t,n),ut=r,vn=i,ut!==null&&(vn?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(vn?(e=ut,n=n.stateNode,e.nodeType===8?ld(e.parentNode,n):e.nodeType===1&&ld(e,n),Cl(e)):ld(ut,n.stateNode));break;case 4:r=ut,i=vn,ut=n.stateNode.containerInfo,vn=!0,kr(e,t,n),ut=r,vn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wh(n,t,o),i=i.next}while(i!==r)}kr(e,t,n);break;case 1:if(!vt&&(Os(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,t,a)}kr(e,t,n);break;case 21:kr(e,t,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,kr(e,t,n),vt=r):kr(e,t,n);break;default:kr(e,t,n)}}function Ng(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dC),t.forEach(function(r){var i=bC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,vn=!1;break e;case 3:ut=a.stateNode.containerInfo,vn=!0;break e;case 4:ut=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(ut===null)throw Error(V(160));I_(s,o,i),ut=null,vn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Fe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)x_(t,e),t=t.sibling}function x_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),kn(e),r&4){try{fl(3,e,e.return),ic(3,e)}catch(x){Fe(e,e.return,x)}try{fl(5,e,e.return)}catch(x){Fe(e,e.return,x)}}break;case 1:pn(t,e),kn(e),r&512&&n!==null&&Os(n,n.return);break;case 5:if(pn(t,e),kn(e),r&512&&n!==null&&Os(n,n.return),e.flags&32){var i=e.stateNode;try{_l(i,"")}catch(x){Fe(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&q0(i,s),Kd(a,o);var c=Kd(a,s);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?ey(i,p):h==="dangerouslySetInnerHTML"?Q0(i,p):h==="children"?_l(i,p):of(i,h,p,c)}switch(a){case"input":Vd(i,s);break;case"textarea":Y0(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?$s(i,!!s.multiple,I,!1):m!==!!s.multiple&&(s.defaultValue!=null?$s(i,!!s.multiple,s.defaultValue,!0):$s(i,!!s.multiple,s.multiple?[]:"",!1))}i[kl]=s}catch(x){Fe(e,e.return,x)}}break;case 6:if(pn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Fe(e,e.return,x)}}break;case 3:if(pn(t,e),kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(x){Fe(e,e.return,x)}break;case 4:pn(t,e),kn(e);break;case 13:pn(t,e),kn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ff=He())),r&4&&Ng(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(c=vt)||h,pn(t,e),vt=c):pn(t,e),kn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(X=e,h=e.child;h!==null;){for(p=X=h;X!==null;){switch(m=X,I=m.child,m.tag){case 0:case 11:case 14:case 15:fl(4,m,m.return);break;case 1:Os(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){Fe(r,n,x)}}break;case 5:Os(m,m.return);break;case 22:if(m.memoizedState!==null){Mg(p);continue}}I!==null?(I.return=m,X=I):Mg(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Z0("display",o))}catch(x){Fe(e,e.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){Fe(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pn(t,e),kn(e),r&4&&Ng(e);break;case 21:break;default:pn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(T_(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var s=Lg(e);Ch(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Lg(e);Eh(e,a,o);break;default:throw Error(V(161))}}catch(u){Fe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fC(e,t,n){X=e,k_(e)}function k_(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||La;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||vt;a=La;var c=vt;if(La=o,(vt=u)&&!c)for(X=i;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?$g(i):u!==null?(u.return=o,X=u):$g(i);for(;s!==null;)X=s,k_(s),s=s.sibling;X=i,La=a,vt=c}Dg(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):Dg(e)}}function Dg(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vt||ic(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_g(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_g(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Cl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}vt||t.flags&512&&bh(t)}catch(m){Fe(t,t.return,m)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Mg(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function $g(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(u){Fe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Fe(t,i,u)}}var s=t.return;try{bh(t)}catch(u){Fe(t,s,u)}break;case 5:var o=t.return;try{bh(t)}catch(u){Fe(t,o,u)}}}catch(u){Fe(t,t.return,u)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var pC=Math.ceil,xu=mr.ReactCurrentDispatcher,$f=mr.ReactCurrentOwner,on=mr.ReactCurrentBatchConfig,pe=0,et=null,Xe=null,ct=0,zt=0,Ls=ci(0),Qe=0,Nl=null,Wi=0,sc=0,Uf=0,pl=null,Lt=null,Ff=0,eo=1/0,qn=null,ku=!1,Sh=null,qr=null,Na=!1,Vr=null,Au=0,ml=0,Th=null,Za=-1,eu=0;function kt(){return pe&6?He():Za!==-1?Za:Za=He()}function Yr(e){return e.mode&1?pe&2&&ct!==0?ct&-ct:JE.transition!==null?(eu===0&&(eu=hy()),eu):(e=_e,e!==0||(e=window.event,e=e===void 0?16:_y(e.type)),e):1}function En(e,t,n,r){if(50<ml)throw ml=0,Th=null,Error(V(185));Bl(e,n,r),(!(pe&2)||e!==et)&&(e===et&&(!(pe&2)&&(sc|=n),Qe===4&&$r(e,ct)),Ut(e,r),n===1&&pe===0&&!(t.mode&1)&&(eo=He()+500,tc&&di()))}function Ut(e,t){var n=e.callbackNode;Jb(e,t);var r=hu(e,e===et?ct:0);if(r===0)n!==null&&Gm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gm(n),t===1)e.tag===0?YE(Ug.bind(null,e)):Uy(Ug.bind(null,e)),GE(function(){!(pe&6)&&di()}),n=null;else{switch(fy(r)){case 1:n=df;break;case 4:n=cy;break;case 16:n=du;break;case 536870912:n=dy;break;default:n=du}n=M_(n,A_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function A_(e,t){if(Za=-1,eu=0,pe&6)throw Error(V(327));var n=e.callbackNode;if(Vs()&&e.callbackNode!==n)return null;var r=hu(e,e===et?ct:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pu(e,r);else{t=r;var i=pe;pe|=2;var s=R_();(et!==e||ct!==t)&&(qn=null,eo=He()+500,Ui(e,t));do try{vC();break}catch(a){P_(e,a)}while(!0);Sf(),xu.current=s,pe=i,Xe!==null?t=0:(et=null,ct=0,t=Qe)}if(t!==0){if(t===2&&(i=Qd(e),i!==0&&(r=i,t=Ih(e,i))),t===1)throw n=Nl,Ui(e,0),$r(e,r),Ut(e,He()),n;if(t===6)$r(e,r);else{if(i=e.current.alternate,!(r&30)&&!mC(i)&&(t=Pu(e,r),t===2&&(s=Qd(e),s!==0&&(r=s,t=Ih(e,s))),t===1))throw n=Nl,Ui(e,0),$r(e,r),Ut(e,He()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Ai(e,Lt,qn);break;case 3:if($r(e,r),(r&130023424)===r&&(t=Ff+500-He(),10<t)){if(hu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=oh(Ai.bind(null,e,Lt,qn),t);break}Ai(e,Lt,qn);break;case 4:if($r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pC(r/1960))-r,10<r){e.timeoutHandle=oh(Ai.bind(null,e,Lt,qn),r);break}Ai(e,Lt,qn);break;case 5:Ai(e,Lt,qn);break;default:throw Error(V(329))}}}return Ut(e,He()),e.callbackNode===n?A_.bind(null,e):null}function Ih(e,t){var n=pl;return e.current.memoizedState.isDehydrated&&(Ui(e,t).flags|=256),e=Pu(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&xh(t)),e}function xh(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function mC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~Uf,t&=~sc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bn(t),r=1<<n;e[n]=-1,t&=~r}}function Ug(e){if(pe&6)throw Error(V(327));Vs();var t=hu(e,0);if(!(t&1))return Ut(e,He()),null;var n=Pu(e,t);if(e.tag!==0&&n===2){var r=Qd(e);r!==0&&(t=r,n=Ih(e,r))}if(n===1)throw n=Nl,Ui(e,0),$r(e,t),Ut(e,He()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ai(e,Lt,qn),Ut(e,He()),null}function jf(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(eo=He()+500,tc&&di())}}function Gi(e){Vr!==null&&Vr.tag===0&&!(pe&6)&&Vs();var t=pe;pe|=1;var n=on.transition,r=_e;try{if(on.transition=null,_e=1,e)return e()}finally{_e=r,on.transition=n,pe=t,!(pe&6)&&di()}}function zf(){zt=Ls.current,Ae(Ls)}function Ui(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,WE(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(bf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vu();break;case 3:Qs(),Ae(Mt),Ae(wt),Pf();break;case 5:Af(r);break;case 4:Qs();break;case 13:Ae(Ne);break;case 19:Ae(Ne);break;case 10:Tf(r.type._context);break;case 22:case 23:zf()}n=n.return}if(et=e,Xe=e=Jr(e.current,null),ct=zt=t,Qe=0,Nl=null,Uf=sc=Wi=0,Lt=pl=null,Oi!==null){for(t=0;t<Oi.length;t++)if(n=Oi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Oi=null}return e}function P_(e,t){do{var n=Xe;try{if(Sf(),Ya.current=Iu,Tu){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tu=!1}if(Hi=0,Ze=Je=Me=null,hl=!1,Rl=0,$f.current=null,n===null||n.return===null){Qe=1,Nl=t,Xe=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=ct,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var I=Tg(o);if(I!==null){I.flags&=-257,Ig(I,o,a,s,t),I.mode&1&&Sg(s,c,t),t=I,u=c;var b=t.updateQueue;if(b===null){var x=new Set;x.add(u),t.updateQueue=x}else b.add(u);break e}else{if(!(t&1)){Sg(s,c,t),Vf();break e}u=Error(V(426))}}else if(Oe&&a.mode&1){var L=Tg(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Ig(L,o,a,s,t),Ef(Zs(u,a));break e}}s=u=Zs(u,a),Qe!==4&&(Qe=2),pl===null?pl=[s]:pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var C=f_(s,u,t);yg(s,C);break e;case 1:a=u;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qr===null||!qr.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var $=p_(s,a,t);yg(s,$);break e}}s=s.return}while(s!==null)}L_(n)}catch(j){t=j,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function R_(){var e=xu.current;return xu.current=Iu,e===null?Iu:e}function Vf(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(Wi&268435455)&&!(sc&268435455)||$r(et,ct)}function Pu(e,t){var n=pe;pe|=2;var r=R_();(et!==e||ct!==t)&&(qn=null,Ui(e,t));do try{gC();break}catch(i){P_(e,i)}while(!0);if(Sf(),pe=n,xu.current=r,Xe!==null)throw Error(V(261));return et=null,ct=0,Qe}function gC(){for(;Xe!==null;)O_(Xe)}function vC(){for(;Xe!==null&&!Vb();)O_(Xe)}function O_(e){var t=D_(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?L_(e):Xe=t,$f.current=null}function L_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cC(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Xe=null;return}}else if(n=uC(n,t,zt),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);Qe===0&&(Qe=5)}function Ai(e,t,n){var r=_e,i=on.transition;try{on.transition=null,_e=1,yC(e,t,n,r)}finally{on.transition=i,_e=r}return null}function yC(e,t,n,r){do Vs();while(Vr!==null);if(pe&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Qb(e,s),e===et&&(Xe=et=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Na||(Na=!0,M_(du,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=_e;_e=1;var a=pe;pe|=4,$f.current=null,hC(e,n),x_(n,e),UE(ih),fu=!!rh,ih=rh=null,e.current=n,fC(n),Bb(),pe=a,_e=o,on.transition=s}else e.current=n;if(Na&&(Na=!1,Vr=e,Au=i),s=e.pendingLanes,s===0&&(qr=null),Gb(n.stateNode),Ut(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ku)throw ku=!1,e=Sh,Sh=null,e;return Au&1&&e.tag!==0&&Vs(),s=e.pendingLanes,s&1?e===Th?ml++:(ml=0,Th=e):ml=0,di(),null}function Vs(){if(Vr!==null){var e=fy(Au),t=on.transition,n=_e;try{if(on.transition=null,_e=16>e?16:e,Vr===null)var r=!1;else{if(e=Vr,Vr=null,Au=0,pe&6)throw Error(V(331));var i=pe;for(pe|=4,X=e.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:fl(8,h,s)}var p=h.child;if(p!==null)p.return=h,X=p;else for(;X!==null;){h=X;var m=h.sibling,I=h.return;if(S_(h),h===c){X=null;break}if(m!==null){m.return=I,X=m;break}X=I}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var L=x.sibling;x.sibling=null,x=L}while(x!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fl(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,X=C;break e}X=s.return}}var _=e.current;for(X=_;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=_;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ic(9,a)}}catch(j){Fe(a,a.return,j)}if(a===o){X=null;break e}var $=a.sibling;if($!==null){$.return=a.return,X=$;break e}X=a.return}}if(pe=i,di(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Yu,e)}catch{}r=!0}return r}finally{_e=n,on.transition=t}}return!1}function Fg(e,t,n){t=Zs(n,t),t=f_(e,t,1),e=Xr(e,t,1),t=kt(),e!==null&&(Bl(e,1,t),Ut(e,t))}function Fe(e,t,n){if(e.tag===3)Fg(e,e,n);else for(;t!==null;){if(t.tag===3){Fg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){e=Zs(n,e),e=p_(t,e,1),t=Xr(t,e,1),e=kt(),t!==null&&(Bl(t,1,e),Ut(t,e));break}}t=t.return}}function _C(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,et===e&&(ct&n)===n&&(Qe===4||Qe===3&&(ct&130023424)===ct&&500>He()-Ff?Ui(e,0):Uf|=n),Ut(e,t)}function N_(e,t){t===0&&(e.mode&1?(t=Sa,Sa<<=1,!(Sa&130023424)&&(Sa=4194304)):t=1);var n=kt();e=cr(e,t),e!==null&&(Bl(e,t,n),Ut(e,n))}function wC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),N_(e,n)}function bC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),N_(e,n)}var D_;D_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dt=!1,aC(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,Oe&&t.flags&1048576&&Fy(t,wu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qa(e,t),e=t.pendingProps;var i=qs(t,wt.current);zs(t,n),i=Of(null,t,r,e,i,n);var s=Lf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(r)?(s=!0,yu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xf(t),i.updater=rc,t.stateNode=i,i._reactInternals=t,fh(t,r,e,n),t=gh(null,t,r,!0,s,n)):(t.tag=0,Oe&&s&&wf(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=CC(r),e=gn(r,e),i){case 0:t=mh(null,t,r,e,n);break e;case 1:t=Ag(null,t,r,e,n);break e;case 11:t=xg(null,t,r,e,n);break e;case 14:t=kg(null,t,r,gn(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),mh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),Ag(e,t,r,i,n);case 3:e:{if(y_(t),e===null)throw Error(V(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Wy(e,t),Cu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Zs(Error(V(423)),t),t=Pg(e,t,r,n,i);break e}else if(r!==i){i=Zs(Error(V(424)),t),t=Pg(e,t,r,n,i);break e}else for(Vt=Kr(t.stateNode.containerInfo.firstChild),Ht=t,Oe=!0,_n=null,n=By(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===i){t=dr(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return Gy(t),e===null&&ch(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,sh(r,i)?o=null:s!==null&&sh(r,s)&&(t.flags|=32),v_(e,t),Tt(e,t,o,n),t.child;case 6:return e===null&&ch(t),null;case 13:return __(e,t,n);case 4:return kf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Js(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),xg(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Se(bu,r._currentValue),r._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!Mt.current){t=dr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=sr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),dh(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zs(t,n),i=ln(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=gn(r,t.pendingProps),i=gn(r.type,i),kg(e,t,r,i,n);case 15:return m_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gn(r,i),Qa(e,t),t.tag=1,$t(r)?(e=!0,yu(t)):e=!1,zs(t,n),h_(t,r,i),fh(t,r,i,n),gh(null,t,r,!0,e,n);case 19:return w_(e,t,n);case 22:return g_(e,t,n)}throw Error(V(156,t.tag))};function M_(e,t){return uy(e,t)}function EC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,r){return new EC(e,t,n,r)}function Bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CC(e){if(typeof e=="function")return Bf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===af)return 11;if(e===uf)return 14}return 2}function Jr(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Bf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cs:return Fi(n.children,i,s,t);case lf:o=8,i|=8;break;case $d:return e=sn(12,n,t,i|2),e.elementType=$d,e.lanes=s,e;case Ud:return e=sn(13,n,t,i),e.elementType=Ud,e.lanes=s,e;case Fd:return e=sn(19,n,t,i),e.elementType=Fd,e.lanes=s,e;case G0:return oc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H0:o=10;break e;case W0:o=9;break e;case af:o=11;break e;case uf:o=14;break e;case Nr:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=sn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Fi(e,t,n,r){return e=sn(7,e,r,t),e.lanes=n,e}function oc(e,t,n,r){return e=sn(22,e,r,t),e.elementType=G0,e.lanes=n,e.stateNode={isHidden:!1},e}function md(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function gd(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hf(e,t,n,r,i,s,o,a,u){return e=new SC(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=sn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(s),e}function TC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $_(e){if(!e)return oi;e=e._reactInternals;e:{if(es(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if($t(n))return $y(e,n,t)}return t}function U_(e,t,n,r,i,s,o,a,u){return e=Hf(n,r,!0,e,i,s,o,a,u),e.context=$_(null),n=e.current,r=kt(),i=Yr(n),s=sr(r,i),s.callback=t??null,Xr(n,s,i),e.current.lanes=i,Bl(e,i,r),Ut(e,r),e}function lc(e,t,n,r){var i=t.current,s=kt(),o=Yr(i);return n=$_(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xr(i,t,o),e!==null&&(En(e,i,o,s),qa(e,i,o)),o}function Ru(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wf(e,t){jg(e,t),(e=e.alternate)&&jg(e,t)}function IC(){return null}var F_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gf(e){this._internalRoot=e}ac.prototype.render=Gf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));lc(e,t,null,null)};ac.prototype.unmount=Gf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gi(function(){lc(null,e,null,null)}),t[ur]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=gy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mr.length&&t!==0&&t<Mr[n].priority;n++);Mr.splice(n,0,e),n===0&&yy(e)}};function Kf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zg(){}function xC(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ru(o);s.call(c)}}var o=U_(t,r,e,0,null,!1,!1,"",zg);return e._reactRootContainer=o,e[ur]=o.current,Il(e.nodeType===8?e.parentNode:e),Gi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ru(u);a.call(c)}}var u=Hf(e,0,!1,null,null,!1,!1,"",zg);return e._reactRootContainer=u,e[ur]=u.current,Il(e.nodeType===8?e.parentNode:e),Gi(function(){lc(t,u,n,r)}),u}function cc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Ru(o);a.call(u)}}lc(t,o,e,i)}else o=xC(n,t,e,i,r);return Ru(o)}py=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=el(t.pendingLanes);n!==0&&(hf(t,n|1),Ut(t,He()),!(pe&6)&&(eo=He()+500,di()))}break;case 13:Gi(function(){var r=cr(e,1);if(r!==null){var i=kt();En(r,e,1,i)}}),Wf(e,1)}};ff=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var n=kt();En(t,e,134217728,n)}Wf(e,134217728)}};my=function(e){if(e.tag===13){var t=Yr(e),n=cr(e,t);if(n!==null){var r=kt();En(n,e,t,r)}Wf(e,t)}};gy=function(){return _e};vy=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};qd=function(e,t,n){switch(t){case"input":if(Vd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ec(r);if(!i)throw Error(V(90));X0(r),Vd(r,i)}}}break;case"textarea":Y0(e,n);break;case"select":t=n.value,t!=null&&$s(e,!!n.multiple,t,!1)}};ry=jf;iy=Gi;var kC={usingClientEntryPoint:!1,Events:[Wl,xs,ec,ty,ny,jf]},Vo={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AC={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ly(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||IC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{Yu=Da.inject(AC),Dn=Da}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kC;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(t))throw Error(V(200));return TC(e,t,null,n)};Gt.createRoot=function(e,t){if(!Kf(e))throw Error(V(299));var n=!1,r="",i=F_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hf(e,1,!1,null,null,n,!1,r,i),e[ur]=t.current,Il(e.nodeType===8?e.parentNode:e),new Gf(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=ly(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return Gi(e)};Gt.hydrate=function(e,t,n){if(!uc(t))throw Error(V(200));return cc(null,e,t,!0,n)};Gt.hydrateRoot=function(e,t,n){if(!Kf(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=F_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=U_(t,null,e,1,n??null,i,!1,s,o),e[ur]=t.current,Il(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ac(t)};Gt.render=function(e,t,n){if(!uc(t))throw Error(V(200));return cc(null,e,t,!1,n)};Gt.unmountComponentAtNode=function(e){if(!uc(e))throw Error(V(40));return e._reactRootContainer?(Gi(function(){cc(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1};Gt.unstable_batchedUpdates=jf;Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uc(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return cc(e,t,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function j_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j_)}catch(e){console.error(e)}}j_(),j0.exports=Gt;var Xf=j0.exports;const PC=k0(Xf),RC=x0({__proto__:null,default:PC},[Xf]);var Vg=Xf;Dd.createRoot=Vg.createRoot,Dd.hydrateRoot=Vg.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}var Ke;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ke||(Ke={}));const Bg="popstate";function OC(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Dl("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ki(i)}return NC(t,n,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function to(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LC(){return Math.random().toString(36).substr(2,8)}function Hg(e,t){return{usr:e.state,key:e.key,idx:t}}function Dl(e,t,n,r){return n===void 0&&(n=null),Le({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hi(t):t,{state:n,key:t&&t.key||r||LC()})}function Ki(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function NC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ke.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Le({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Ke.Pop;let L=h(),C=L==null?null:L-c;c=L,u&&u({action:a,location:x.location,delta:C})}function m(L,C){a=Ke.Push;let _=Dl(x.location,L,C);c=h()+1;let S=Hg(_,c),$=x.createHref(_);try{o.pushState(S,"",$)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign($)}s&&u&&u({action:a,location:x.location,delta:1})}function I(L,C){a=Ke.Replace;let _=Dl(x.location,L,C);c=h();let S=Hg(_,c),$=x.createHref(_);o.replaceState(S,"",$),s&&u&&u({action:a,location:x.location,delta:0})}function b(L){let C=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof L=="string"?L:Ki(L);return _=_.replace(/ $/,"%20"),le(C,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,C)}let x={get action(){return a},get location(){return e(i,o)},listen(L){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Bg,p),u=L,()=>{i.removeEventListener(Bg,p),u=null}},createHref(L){return t(i,L)},createURL:b,encodeLocation(L){let C=b(L);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:I,go(L){return o.go(L)}};return x}var Re;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Re||(Re={}));const DC=new Set(["lazy","caseSensitive","path","id","index","children"]);function MC(e){return e.index===!0}function kh(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(le(i.index!==!0||!i.children,"Cannot specify children on an index route"),le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),MC(i)){let u=Le({},i,t(i),{id:a});return r[a]=u,u}else{let u=Le({},i,t(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=kh(i.children,t,o,r)),u}})}function Ns(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?hi(t):t,i=fo(r.pathname||"/",n);if(i==null)return null;let s=z_(e);UC(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=YC(i);o=KC(s[a],u)}return o}function $C(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function z_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(le(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=or([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),z_(s.children,t,h,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:WC(c,s.index),routesMeta:h})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of V_(s.path))i(s,o,u)}),t}function V_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=V_(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function UC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:GC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FC=/^:[\w-]+$/,jC=3,zC=2,VC=1,BC=10,HC=-2,Wg=e=>e==="*";function WC(e,t){let n=e.split("/"),r=n.length;return n.some(Wg)&&(r+=HC),t&&(r+=zC),n.filter(i=>!Wg(i)).reduce((i,s)=>i+(FC.test(s)?jC:s===""?VC:BC),r)}function GC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function KC(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=XC({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!h)return null;Object.assign(r,h.params);let p=a.route;s.push({params:r,pathname:or([i,h.pathname]),pathnameBase:ZC(or([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=or([i,h.pathnameBase]))}return s}function XC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:m,isOptional:I}=h;if(m==="*"){let x=a[p]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[p];return I&&!b?c[m]=void 0:c[m]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function qC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),to(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function YC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return to(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function JC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?hi(e):e;return{pathname:n?n.startsWith("/")?n:QC(n,t):t,search:eS(r),hash:tS(i)}}function QC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dc(e,t){let n=B_(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hc(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=hi(e):(i=Le({},e),le(!i.pathname||!i.pathname.includes("?"),vd("?","pathname","search",i)),le(!i.pathname||!i.pathname.includes("#"),vd("#","pathname","hash",i)),le(!i.search||!i.search.includes("#"),vd("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?t[p]:"/"}let u=JC(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const or=e=>e.join("/").replace(/\/\/+/g,"/"),ZC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class qf{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Yf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const H_=["post","put","patch","delete"],nS=new Set(H_),rS=["get",...H_],iS=new Set(rS),sS=new Set([301,302,303,307,308]),oS=new Set([307,308]),yd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Jf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aS=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),W_="remix-router-transitions";function uS(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;le(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let R=e.detectErrorBoundary;i=D=>({hasErrorBoundary:R(D)})}else i=aS;let s={},o=kh(e.routes,i,void 0,s),a,u=e.basename||"/",c=e.unstable_dataStrategy||fS,h=Le({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),p=null,m=new Set,I=null,b=null,x=null,L=e.hydrationData!=null,C=Ns(o,e.history.location,u),_=null;if(C==null){let R=Qt(404,{pathname:e.history.location.pathname}),{matches:D,route:F}=tv(o);C=D,_={[F.id]:R}}let S,$=C.some(R=>R.route.lazy),j=C.some(R=>R.route.loader);if($)S=!1;else if(!j)S=!0;else if(h.v7_partialHydration){let R=e.hydrationData?e.hydrationData.loaderData:null,D=e.hydrationData?e.hydrationData.errors:null,F=H=>H.route.loader?typeof H.route.loader=="function"&&H.route.loader.hydrate===!0?!1:R&&R[H.route.id]!==void 0||D&&D[H.route.id]!==void 0:!0;if(D){let H=C.findIndex(K=>D[K.route.id]!==void 0);S=C.slice(0,H+1).every(F)}else S=C.every(F)}else S=e.hydrationData!=null;let B,g={historyAction:e.history.action,location:e.history.location,matches:C,initialized:S,navigation:yd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},v=Ke.Pop,w=!1,E,k=!1,A=new Map,T=null,me=!1,We=!1,Et=[],tt=[],z=new Map,Y=0,Q=-1,de=new Map,re=new Set,we=new Map,Ct=new Map,qe=new Set,nt=new Map,rt=new Map,bo=!1;function Lc(){if(p=e.history.listen(R=>{let{action:D,location:F,delta:H}=R;if(bo){bo=!1;return}to(rt.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=us({currentLocation:g.location,nextLocation:F,historyAction:D});if(K&&H!=null){bo=!0,e.history.go(H*-1),as(K,{state:"blocked",location:F,proceed(){as(K,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),e.history.go(H)},reset(){let q=new Map(g.blockers);q.set(K,Bo),it({blockers:q})}});return}return In(D,F)}),n){TS(t,A);let R=()=>IS(t,A);t.addEventListener("pagehide",R),T=()=>t.removeEventListener("pagehide",R)}return g.initialized||In(Ke.Pop,g.location,{initialHydration:!0}),B}function rs(){p&&p(),T&&T(),m.clear(),E&&E.abort(),g.fetchers.forEach((R,D)=>bi(D)),g.blockers.forEach((R,D)=>aa(D))}function is(R){return m.add(R),()=>m.delete(R)}function it(R,D){D===void 0&&(D={}),g=Le({},g,R);let F=[],H=[];h.v7_fetcherPersist&&g.fetchers.forEach((K,q)=>{K.state==="idle"&&(qe.has(q)?H.push(q):F.push(q))}),[...m].forEach(K=>K(g,{deletedFetchers:H,unstable_viewTransitionOpts:D.viewTransitionOpts,unstable_flushSync:D.flushSync===!0})),h.v7_fetcherPersist&&(F.forEach(K=>g.fetchers.delete(K)),H.forEach(K=>bi(K)))}function Fn(R,D,F){var H,K;let{flushSync:q}=F===void 0?{}:F,J=g.actionData!=null&&g.navigation.formMethod!=null&&yn(g.navigation.formMethod)&&g.navigation.state==="loading"&&((H=R.state)==null?void 0:H._isRedirect)!==!0,G;D.actionData?Object.keys(D.actionData).length>0?G=D.actionData:G=null:J?G=g.actionData:G=null;let te=D.loaderData?Zg(g.loaderData,D.loaderData,D.matches||[],D.errors):g.loaderData,ne=g.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Z,Ce)=>ne.set(Ce,Bo)));let Ye=w===!0||g.navigation.formMethod!=null&&yn(g.navigation.formMethod)&&((K=R.state)==null?void 0:K._isRedirect)!==!0;a&&(o=a,a=void 0),me||v===Ke.Pop||(v===Ke.Push?e.history.push(R,R.state):v===Ke.Replace&&e.history.replace(R,R.state));let Pe;if(v===Ke.Pop){let Z=A.get(g.location.pathname);Z&&Z.has(R.pathname)?Pe={currentLocation:g.location,nextLocation:R}:A.has(R.pathname)&&(Pe={currentLocation:R,nextLocation:g.location})}else if(k){let Z=A.get(g.location.pathname);Z?Z.add(R.pathname):(Z=new Set([R.pathname]),A.set(g.location.pathname,Z)),Pe={currentLocation:g.location,nextLocation:R}}it(Le({},D,{actionData:G,loaderData:te,historyAction:v,location:R,initialized:!0,navigation:yd,revalidation:"idle",restoreScrollPosition:ds(R,D.matches||g.matches),preventScrollReset:Ye,blockers:ne}),{viewTransitionOpts:Pe,flushSync:q===!0}),v=Ke.Pop,w=!1,k=!1,me=!1,We=!1,Et=[],tt=[]}async function ss(R,D){if(typeof R=="number"){e.history.go(R);return}let F=Ah(g.location,g.matches,u,h.v7_prependBasename,R,h.v7_relativeSplatPath,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:H,submission:K,error:q}=Gg(h.v7_normalizeFormMethod,!1,F,D),J=g.location,G=Dl(g.location,H,D&&D.state);G=Le({},G,e.history.encodeLocation(G));let te=D&&D.replace!=null?D.replace:void 0,ne=Ke.Push;te===!0?ne=Ke.Replace:te===!1||K!=null&&yn(K.formMethod)&&K.formAction===g.location.pathname+g.location.search&&(ne=Ke.Replace);let Ye=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,Pe=(D&&D.unstable_flushSync)===!0,Z=us({currentLocation:J,nextLocation:G,historyAction:ne});if(Z){as(Z,{state:"blocked",location:G,proceed(){as(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),ss(R,D)},reset(){let Ce=new Map(g.blockers);Ce.set(Z,Bo),it({blockers:Ce})}});return}return await In(ne,G,{submission:K,pendingError:q,preventScrollReset:Ye,replace:D&&D.replace,enableViewTransition:D&&D.unstable_viewTransition,flushSync:Pe})}function Eo(){if(ls(),it({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){In(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}In(v||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function In(R,D,F){E&&E.abort(),E=null,v=R,me=(F&&F.startUninterruptedRevalidation)===!0,xo(g.location,g.matches),w=(F&&F.preventScrollReset)===!0,k=(F&&F.enableViewTransition)===!0;let H=a||o,K=F&&F.overrideNavigation,q=Ns(H,D,u),J=(F&&F.flushSync)===!0;if(!q){let Z=Qt(404,{pathname:D.pathname}),{matches:Ce,route:Ue}=tv(H);cs(),Fn(D,{matches:Ce,loaderData:{},errors:{[Ue.id]:Z}},{flushSync:J});return}if(g.initialized&&!We&&_S(g.location,D)&&!(F&&F.submission&&yn(F.submission.formMethod))){Fn(D,{matches:q},{flushSync:J});return}E=new AbortController;let G=gs(e.history,D,E.signal,F&&F.submission),te;if(F&&F.pendingError)te=[gl(q).route.id,{type:Re.error,error:F.pendingError}];else if(F&&F.submission&&yn(F.submission.formMethod)){let Z=await Nc(G,D,F.submission,q,{replace:F.replace,flushSync:J});if(Z.shortCircuited)return;te=Z.pendingActionResult,K=_d(D,F.submission),J=!1,G=gs(e.history,G.url,G.signal)}let{shortCircuited:ne,loaderData:Ye,errors:Pe}=await Dc(G,D,q,K,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,J,te);ne||(E=null,Fn(D,Le({matches:q},ev(te),{loaderData:Ye,errors:Pe})))}async function Nc(R,D,F,H,K){K===void 0&&(K={}),ls();let q=CS(D,F);it({navigation:q},{flushSync:K.flushSync===!0});let J,G=Rh(H,D);if(!G.route.action&&!G.route.lazy)J={type:Re.error,error:Qt(405,{method:R.method,pathname:D.pathname,routeId:G.route.id})};else if(J=(await jn("action",R,[G],H))[0],R.signal.aborted)return{shortCircuited:!0};if(Di(J)){let te;return K&&K.replace!=null?te=K.replace:te=Yg(J.response.headers.get("Location"),new URL(R.url),u)===g.location.pathname+g.location.search,await _i(R,J,{submission:F,replace:te}),{shortCircuited:!0}}if(Ni(J))throw Qt(400,{type:"defer-action"});if(tn(J)){let te=gl(H,G.route.id);return(K&&K.replace)!==!0&&(v=Ke.Push),{pendingActionResult:[te.route.id,J]}}return{pendingActionResult:[G.route.id,J]}}async function Dc(R,D,F,H,K,q,J,G,te,ne){let Ye=H||_d(D,K),Pe=K||q||iv(Ye),Z=a||o,[Ce,Ue]=Kg(e.history,g,F,Pe,D,h.v7_partialHydration&&G===!0,h.unstable_skipActionErrorRevalidation,We,Et,tt,qe,we,re,Z,u,ne);if(cs(ue=>!(F&&F.some(st=>st.route.id===ue))||Ce&&Ce.some(st=>st.route.id===ue)),Q=++Y,Ce.length===0&&Ue.length===0){let ue=So();return Fn(D,Le({matches:F,loaderData:{},errors:ne&&tn(ne[1])?{[ne[0]]:ne[1].error}:null},ev(ne),ue?{fetchers:new Map(g.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if(!me&&(!h.v7_partialHydration||!G)){Ue.forEach(st=>{let ot=g.fetchers.get(st.key),Ge=Ho(void 0,ot?ot.data:void 0);g.fetchers.set(st.key,Ge)});let ue;ne&&!tn(ne[1])?ue={[ne[0]]:ne[1].data}:g.actionData&&(Object.keys(g.actionData).length===0?ue=null:ue=g.actionData),it(Le({navigation:Ye},ue!==void 0?{actionData:ue}:{},Ue.length>0?{fetchers:new Map(g.fetchers)}:{}),{flushSync:te})}Ue.forEach(ue=>{z.has(ue.key)&&xn(ue.key),ue.controller&&z.set(ue.key,ue.controller)});let Ei=()=>Ue.forEach(ue=>xn(ue.key));E&&E.signal.addEventListener("abort",Ei);let{loaderResults:Xt,fetcherResults:hn}=await os(g.matches,F,Ce,Ue,R);if(R.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Ei),Ue.forEach(ue=>z.delete(ue.key));let St=nv([...Xt,...hn]);if(St){if(St.idx>=Ce.length){let ue=Ue[St.idx-Ce.length].key;re.add(ue)}return await _i(R,St.result,{replace:J}),{shortCircuited:!0}}let{loaderData:zn,errors:jt}=Qg(g,F,Ce,Xt,ne,Ue,hn,nt);nt.forEach((ue,st)=>{ue.subscribe(ot=>{(ot||ue.done)&&nt.delete(st)})}),h.v7_partialHydration&&G&&g.errors&&Object.entries(g.errors).filter(ue=>{let[st]=ue;return!Ce.some(ot=>ot.route.id===st)}).forEach(ue=>{let[st,ot]=ue;jt=Object.assign(jt||{},{[st]:ot})});let Cr=So(),Sr=To(Q),Ci=Cr||Sr||Ue.length>0;return Le({loaderData:zn,errors:jt},Ci?{fetchers:new Map(g.fetchers)}:{})}function sa(R,D,F,H){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(R)&&xn(R);let K=(H&&H.unstable_flushSync)===!0,q=a||o,J=Ah(g.location,g.matches,u,h.v7_prependBasename,F,h.v7_relativeSplatPath,D,H==null?void 0:H.relative),G=Ns(q,J,u);if(!G){je(R,D,Qt(404,{pathname:J}),{flushSync:K});return}let{path:te,submission:ne,error:Ye}=Gg(h.v7_normalizeFormMethod,!0,J,H);if(Ye){je(R,D,Ye,{flushSync:K});return}let Pe=Rh(G,te);if(w=(H&&H.preventScrollReset)===!0,ne&&yn(ne.formMethod)){Co(R,D,te,Pe,G,K,ne);return}we.set(R,{routeId:D,path:te}),oa(R,D,te,Pe,G,K,ne)}async function Co(R,D,F,H,K,q,J){if(ls(),we.delete(R),!H.route.action&&!H.route.lazy){let Ge=Qt(405,{method:J.formMethod,pathname:F,routeId:D});je(R,D,Ge,{flushSync:q});return}let G=g.fetchers.get(R);Te(R,SS(J,G),{flushSync:q});let te=new AbortController,ne=gs(e.history,F,te.signal,J);z.set(R,te);let Ye=Y,Z=(await jn("action",ne,[H],K))[0];if(ne.signal.aborted){z.get(R)===te&&z.delete(R);return}if(h.v7_fetcherPersist&&qe.has(R)){if(Di(Z)||tn(Z)){Te(R,Or(void 0));return}}else{if(Di(Z))if(z.delete(R),Q>Ye){Te(R,Or(void 0));return}else return re.add(R),Te(R,Ho(J)),_i(ne,Z,{fetcherSubmission:J});if(tn(Z)){je(R,D,Z.error);return}}if(Ni(Z))throw Qt(400,{type:"defer-action"});let Ce=g.navigation.location||g.location,Ue=gs(e.history,Ce,te.signal),Ei=a||o,Xt=g.navigation.state!=="idle"?Ns(Ei,g.navigation.location,u):g.matches;le(Xt,"Didn't find any matches after fetcher action");let hn=++Y;de.set(R,hn);let St=Ho(J,Z.data);g.fetchers.set(R,St);let[zn,jt]=Kg(e.history,g,Xt,J,Ce,!1,h.unstable_skipActionErrorRevalidation,We,Et,tt,qe,we,re,Ei,u,[H.route.id,Z]);jt.filter(Ge=>Ge.key!==R).forEach(Ge=>{let Vn=Ge.key,Tr=g.fetchers.get(Vn),Bn=Ho(void 0,Tr?Tr.data:void 0);g.fetchers.set(Vn,Bn),z.has(Vn)&&xn(Vn),Ge.controller&&z.set(Vn,Ge.controller)}),it({fetchers:new Map(g.fetchers)});let Cr=()=>jt.forEach(Ge=>xn(Ge.key));te.signal.addEventListener("abort",Cr);let{loaderResults:Sr,fetcherResults:Ci}=await os(g.matches,Xt,zn,jt,Ue);if(te.signal.aborted)return;te.signal.removeEventListener("abort",Cr),de.delete(R),z.delete(R),jt.forEach(Ge=>z.delete(Ge.key));let ue=nv([...Sr,...Ci]);if(ue){if(ue.idx>=zn.length){let Ge=jt[ue.idx-zn.length].key;re.add(Ge)}return _i(Ue,ue.result)}let{loaderData:st,errors:ot}=Qg(g,g.matches,zn,Sr,void 0,jt,Ci,nt);if(g.fetchers.has(R)){let Ge=Or(Z.data);g.fetchers.set(R,Ge)}To(hn),g.navigation.state==="loading"&&hn>Q?(le(v,"Expected pending action"),E&&E.abort(),Fn(g.navigation.location,{matches:Xt,loaderData:st,errors:ot,fetchers:new Map(g.fetchers)})):(it({errors:ot,loaderData:Zg(g.loaderData,st,Xt,ot),fetchers:new Map(g.fetchers)}),We=!1)}async function oa(R,D,F,H,K,q,J){let G=g.fetchers.get(R);Te(R,Ho(J,G?G.data:void 0),{flushSync:q});let te=new AbortController,ne=gs(e.history,F,te.signal);z.set(R,te);let Ye=Y,Z=(await jn("loader",ne,[H],K))[0];if(Ni(Z)&&(Z=await q_(Z,ne.signal,!0)||Z),z.get(R)===te&&z.delete(R),!ne.signal.aborted){if(qe.has(R)){Te(R,Or(void 0));return}if(Di(Z))if(Q>Ye){Te(R,Or(void 0));return}else{re.add(R),await _i(ne,Z);return}if(tn(Z)){je(R,D,Z.error);return}le(!Ni(Z),"Unhandled fetcher deferred data"),Te(R,Or(Z.data))}}async function _i(R,D,F){let{submission:H,fetcherSubmission:K,replace:q}=F===void 0?{}:F;D.response.headers.has("X-Remix-Revalidate")&&(We=!0);let J=D.response.headers.get("Location");le(J,"Expected a Location header on the redirect Response"),J=Yg(J,new URL(R.url),u);let G=Dl(g.location,J,{_isRedirect:!0});if(n){let Ce=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Ce=!0;else if(Jf.test(J)){const Ue=e.history.createURL(J);Ce=Ue.origin!==t.location.origin||fo(Ue.pathname,u)==null}if(Ce){q?t.location.replace(J):t.location.assign(J);return}}E=null;let te=q===!0?Ke.Replace:Ke.Push,{formMethod:ne,formAction:Ye,formEncType:Pe}=g.navigation;!H&&!K&&ne&&Ye&&Pe&&(H=iv(g.navigation));let Z=H||K;if(oS.has(D.response.status)&&Z&&yn(Z.formMethod))await In(te,G,{submission:Le({},Z,{formAction:J}),preventScrollReset:w});else{let Ce=_d(G,H);await In(te,G,{overrideNavigation:Ce,fetcherSubmission:K,preventScrollReset:w})}}async function jn(R,D,F,H){try{let K=await pS(c,R,D,F,H,s,i);return await Promise.all(K.map((q,J)=>{if(wS(q)){let G=q.result;return{type:Re.redirect,response:vS(G,D,F[J].route.id,H,u,h.v7_relativeSplatPath)}}return gS(q)}))}catch(K){return F.map(()=>({type:Re.error,error:K}))}}async function os(R,D,F,H,K){let[q,...J]=await Promise.all([F.length?jn("loader",K,F,D):[],...H.map(G=>{if(G.matches&&G.match&&G.controller){let te=gs(e.history,G.path,G.controller.signal);return jn("loader",te,[G.match],G.matches).then(ne=>ne[0])}else return Promise.resolve({type:Re.error,error:Qt(404,{pathname:G.path})})})]);return await Promise.all([rv(R,F,q,q.map(()=>K.signal),!1,g.loaderData),rv(R,H.map(G=>G.match),J,H.map(G=>G.controller?G.controller.signal:null),!0)]),{loaderResults:q,fetcherResults:J}}function ls(){We=!0,Et.push(...cs()),we.forEach((R,D)=>{z.has(D)&&(tt.push(D),xn(D))})}function Te(R,D,F){F===void 0&&(F={}),g.fetchers.set(R,D),it({fetchers:new Map(g.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function je(R,D,F,H){H===void 0&&(H={});let K=gl(g.matches,D);bi(R),it({errors:{[K.route.id]:F},fetchers:new Map(g.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function wi(R){return h.v7_fetcherPersist&&(Ct.set(R,(Ct.get(R)||0)+1),qe.has(R)&&qe.delete(R)),g.fetchers.get(R)||lS}function bi(R){let D=g.fetchers.get(R);z.has(R)&&!(D&&D.state==="loading"&&de.has(R))&&xn(R),we.delete(R),de.delete(R),re.delete(R),qe.delete(R),g.fetchers.delete(R)}function la(R){if(h.v7_fetcherPersist){let D=(Ct.get(R)||0)-1;D<=0?(Ct.delete(R),qe.add(R)):Ct.set(R,D)}else bi(R);it({fetchers:new Map(g.fetchers)})}function xn(R){let D=z.get(R);le(D,"Expected fetch controller: "+R),D.abort(),z.delete(R)}function wr(R){for(let D of R){let F=wi(D),H=Or(F.data);g.fetchers.set(D,H)}}function So(){let R=[],D=!1;for(let F of re){let H=g.fetchers.get(F);le(H,"Expected fetcher: "+F),H.state==="loading"&&(re.delete(F),R.push(F),D=!0)}return wr(R),D}function To(R){let D=[];for(let[F,H]of de)if(H<R){let K=g.fetchers.get(F);le(K,"Expected fetcher: "+F),K.state==="loading"&&(xn(F),de.delete(F),D.push(F))}return wr(D),D.length>0}function Io(R,D){let F=g.blockers.get(R)||Bo;return rt.get(R)!==D&&rt.set(R,D),F}function aa(R){g.blockers.delete(R),rt.delete(R)}function as(R,D){let F=g.blockers.get(R)||Bo;le(F.state==="unblocked"&&D.state==="blocked"||F.state==="blocked"&&D.state==="blocked"||F.state==="blocked"&&D.state==="proceeding"||F.state==="blocked"&&D.state==="unblocked"||F.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+D.state);let H=new Map(g.blockers);H.set(R,D),it({blockers:H})}function us(R){let{currentLocation:D,nextLocation:F,historyAction:H}=R;if(rt.size===0)return;rt.size>1&&to(!1,"A router only supports one blocker at a time");let K=Array.from(rt.entries()),[q,J]=K[K.length-1],G=g.blockers.get(q);if(!(G&&G.state==="proceeding")&&J({currentLocation:D,nextLocation:F,historyAction:H}))return q}function cs(R){let D=[];return nt.forEach((F,H)=>{(!R||R(H))&&(F.cancel(),D.push(H),nt.delete(H))}),D}function Mc(R,D,F){if(I=R,x=D,b=F||null,!L&&g.navigation===yd){L=!0;let H=ds(g.location,g.matches);H!=null&&it({restoreScrollPosition:H})}return()=>{I=null,x=null,b=null}}function br(R,D){return b&&b(R,D.map(H=>$C(H,g.loaderData)))||R.key}function xo(R,D){if(I&&x){let F=br(R,D);I[F]=x()}}function ds(R,D){if(I){let F=br(R,D),H=I[F];if(typeof H=="number")return H}return null}function Er(R){s={},a=kh(R,i,void 0,s)}return B={get basename(){return u},get future(){return h},get state(){return g},get routes(){return o},get window(){return t},initialize:Lc,subscribe:is,enableScrollRestoration:Mc,navigate:ss,fetch:sa,revalidate:Eo,createHref:R=>e.history.createHref(R),encodeLocation:R=>e.history.encodeLocation(R),getFetcher:wi,deleteFetcher:la,dispose:rs,getBlocker:Io,deleteBlocker:aa,_internalFetchControllers:z,_internalActiveDeferreds:nt,_internalSetRoutes:Er},B}function cS(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ah(e,t,n,r,i,s,o,a){let u,c;if(o){u=[];for(let p of t)if(u.push(p),p.route.id===o){c=p;break}}else u=t,c=t[t.length-1];let h=hc(i||".",dc(u,s),fo(e.pathname,n)||e.pathname,a==="path");return i==null&&(h.search=e.search,h.hash=e.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Qf(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:or([n,h.pathname])),Ki(h)}function Gg(e,t,n,r){if(!r||!cS(r))return{path:n};if(r.formMethod&&!ES(r.formMethod))return{path:n,error:Qt(405,{method:r.formMethod})};let i=()=>({path:n,error:Qt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=K_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!yn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((I,b)=>{let[x,L]=b;return""+I+x+"="+L+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!yn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}le(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=Ph(r.formData),c=r.formData;else if(r.body instanceof FormData)u=Ph(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Jg(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Jg(u)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(yn(h.formMethod))return{path:n,submission:h};let p=hi(n);return t&&p.search&&Qf(p.search)&&u.append("index",""),p.search="?"+u,{path:Ki(p),submission:h}}function dS(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Kg(e,t,n,r,i,s,o,a,u,c,h,p,m,I,b,x){let L=x?tn(x[1])?x[1].error:x[1].data:void 0,C=e.createURL(t.location),_=e.createURL(i),S=x&&tn(x[1])?x[0]:void 0,$=S?dS(n,S):n,j=x?x[1].statusCode:void 0,B=o&&j&&j>=400,g=$.filter((w,E)=>{let{route:k}=w;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return typeof k.loader!="function"||k.loader.hydrate?!0:t.loaderData[k.id]===void 0&&(!t.errors||t.errors[k.id]===void 0);if(hS(t.loaderData,t.matches[E],w)||u.some(me=>me===w.route.id))return!0;let A=t.matches[E],T=w;return Xg(w,Le({currentUrl:C,currentParams:A.params,nextUrl:_,nextParams:T.params},r,{actionResult:L,unstable_actionStatus:j,defaultShouldRevalidate:B?!1:a||C.pathname+C.search===_.pathname+_.search||C.search!==_.search||G_(A,T)}))}),v=[];return p.forEach((w,E)=>{if(s||!n.some(We=>We.route.id===w.routeId)||h.has(E))return;let k=Ns(I,w.path,b);if(!k){v.push({key:E,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let A=t.fetchers.get(E),T=Rh(k,w.path),me=!1;m.has(E)?me=!1:c.includes(E)?me=!0:A&&A.state!=="idle"&&A.data===void 0?me=a:me=Xg(T,Le({currentUrl:C,currentParams:t.matches[t.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:L,unstable_actionStatus:j,defaultShouldRevalidate:B?!1:a})),me&&v.push({key:E,routeId:w.routeId,path:w.path,matches:k,match:T,controller:new AbortController})}),[g,v]}function hS(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function G_(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Xg(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function qg(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];le(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";to(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!DC.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Le({},t(i),{lazy:void 0}))}function fS(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function pS(e,t,n,r,i,s,o,a){let u=r.reduce((p,m)=>p.add(m.route.id),new Set),c=new Set,h=await e({matches:i.map(p=>{let m=u.has(p.route.id);return Le({},p,{shouldLoad:m,resolve:b=>(c.add(p.route.id),m?mS(t,n,p,s,o,b,a):Promise.resolve({type:Re.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(p=>le(c.has(p.route.id),'`match.resolve()` was not called for route id "'+p.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((p,m)=>u.has(i[m].route.id))}async function mS(e,t,n,r,i,s,o){let a,u,c=h=>{let p,m=new Promise((x,L)=>p=L);u=()=>p(),t.signal.addEventListener("abort",u);let I=x=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):h({request:t,params:n.params,context:o},...x!==void 0?[x]:[]),b;return s?b=s(x=>I(x)):b=(async()=>{try{return{type:"data",result:await I()}}catch(x){return{type:"error",result:x}}})(),Promise.race([b,m])};try{let h=n.route[e];if(n.route.lazy)if(h){let p,[m]=await Promise.all([c(h).catch(I=>{p=I}),qg(n.route,i,r)]);if(p!==void 0)throw p;a=m}else if(await qg(n.route,i,r),h=n.route[e],h)a=await c(h);else if(e==="action"){let p=new URL(t.url),m=p.pathname+p.search;throw Qt(405,{method:t.method,pathname:m,routeId:n.route.id})}else return{type:Re.data,result:void 0};else if(h)a=await c(h);else{let p=new URL(t.url),m=p.pathname+p.search;throw Qt(404,{pathname:m})}le(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Re.error,result:h}}finally{u&&t.signal.removeEventListener("abort",u)}return a}async function gS(e){let{result:t,type:n,status:r}=e;if(X_(t)){let o;try{let a=t.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?t.body==null?o=null:o=await t.json():o=await t.text()}catch(a){return{type:Re.error,error:a}}return n===Re.error?{type:Re.error,error:new qf(t.status,t.statusText,o),statusCode:t.status,headers:t.headers}:{type:Re.data,data:o,statusCode:t.status,headers:t.headers}}if(n===Re.error)return{type:Re.error,error:t,statusCode:Yf(t)?t.status:r};if(bS(t)){var i,s;return{type:Re.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((s=t.init)==null?void 0:s.headers)&&new Headers(t.init.headers)}}return{type:Re.data,data:t,statusCode:r}}function vS(e,t,n,r,i,s){let o=e.headers.get("Location");if(le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jf.test(o)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Ah(new URL(t.url),a,i,!0,o,s),e.headers.set("Location",o)}return e}function Yg(e,t,n){if(Jf.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=fo(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function gs(e,t,n,r){let i=e.createURL(K_(t)).toString(),s={signal:n};if(r&&yn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Ph(r.formData):s.body=r.formData}return new Request(i,s)}function Ph(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Jg(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function yS(e,t,n,r,i,s){let o={},a=null,u,c=!1,h={},p=r&&tn(r[1])?r[1].error:void 0;return n.forEach((m,I)=>{let b=t[I].route.id;if(le(!Di(m),"Cannot handle redirect results in processLoaderData"),tn(m)){let x=m.error;p!==void 0&&(x=p,p=void 0),a=a||{};{let L=gl(e,b);a[L.route.id]==null&&(a[L.route.id]=x)}o[b]=void 0,c||(c=!0,u=Yf(m.error)?m.error.status:500),m.headers&&(h[b]=m.headers)}else Ni(m)?(i.set(b,m.deferredData),o[b]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(h[b]=m.headers)):(o[b]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(h[b]=m.headers))}),p!==void 0&&r&&(a={[r[0]]:p},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:u||200,loaderHeaders:h}}function Qg(e,t,n,r,i,s,o,a){let{loaderData:u,errors:c}=yS(t,n,r,i,a);for(let h=0;h<s.length;h++){let{key:p,match:m,controller:I}=s[h];le(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let b=o[h];if(!(I&&I.signal.aborted))if(tn(b)){let x=gl(e.matches,m==null?void 0:m.route.id);c&&c[x.route.id]||(c=Le({},c,{[x.route.id]:b.error})),e.fetchers.delete(p)}else if(Di(b))le(!1,"Unhandled fetcher revalidation redirect");else if(Ni(b))le(!1,"Unhandled fetcher deferred data");else{let x=Or(b.data);e.fetchers.set(p,x)}}return{loaderData:u,errors:c}}function Zg(e,t,n,r){let i=Le({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function ev(e){return e?tn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function gl(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function tv(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Qt(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",a='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new qf(e||500,o,new Error(a),!0)}function nv(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Di(n))return{result:n,idx:t}}}function K_(e){let t=typeof e=="string"?hi(e):e;return Ki(Le({},t,{hash:""}))}function _S(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function wS(e){return X_(e.result)&&sS.has(e.result.status)}function Ni(e){return e.type===Re.deferred}function tn(e){return e.type===Re.error}function Di(e){return(e&&e.type)===Re.redirect}function bS(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function X_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ES(e){return iS.has(e.toLowerCase())}function yn(e){return nS.has(e.toLowerCase())}async function rv(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],u=t[o];if(!u)continue;let c=e.find(p=>p.route.id===u.route.id),h=c!=null&&!G_(c,u)&&(s&&s[u.route.id])!==void 0;if(Ni(a)&&(i||h)){let p=r[o];le(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await q_(a,p,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function q_(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Re.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Re.error,error:i}}return{type:Re.data,data:e.deferredData.data}}}function Qf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Rh(e,t){let n=typeof t=="string"?hi(t).search:t.search;if(e[e.length-1].route.index&&Qf(n||""))return e[e.length-1];let r=B_(e);return r[r.length-1]}function iv(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function _d(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CS(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ho(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function SS(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Or(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function TS(e,t){try{let n=e.sessionStorage.getItem(W_);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function IS(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(W_,JSON.stringify(n))}catch(r){to(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ou.apply(this,arguments)}const fc=M.createContext(null),Y_=M.createContext(null),fi=M.createContext(null),Zf=M.createContext(null),gr=M.createContext({outlet:null,matches:[],isDataRoute:!1}),J_=M.createContext(null);function xS(e,t){let{relative:n}=t===void 0?{}:t;po()||le(!1);let{basename:r,navigator:i}=M.useContext(fi),{hash:s,pathname:o,search:a}=Z_(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:or([r,o])),i.createHref({pathname:u,search:a,hash:s})}function po(){return M.useContext(Zf)!=null}function ts(){return po()||le(!1),M.useContext(Zf).location}function Q_(e){M.useContext(fi).static||M.useLayoutEffect(e)}function pc(){let{isDataRoute:e}=M.useContext(gr);return e?zS():kS()}function kS(){po()||le(!1);let e=M.useContext(fc),{basename:t,future:n,navigator:r}=M.useContext(fi),{matches:i}=M.useContext(gr),{pathname:s}=ts(),o=JSON.stringify(dc(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return Q_(()=>{a.current=!0}),M.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=hc(c,JSON.parse(o),s,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:or([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,o,s,e])}const AS=M.createContext(null);function PS(e){let t=M.useContext(gr).outlet;return t&&M.createElement(AS.Provider,{value:e},t)}function Z_(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=M.useContext(fi),{matches:i}=M.useContext(gr),{pathname:s}=ts(),o=JSON.stringify(dc(i,r.v7_relativeSplatPath));return M.useMemo(()=>hc(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function RS(e,t,n,r){po()||le(!1);let{navigator:i}=M.useContext(fi),{matches:s}=M.useContext(gr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ts(),h;h=c;let p=h.pathname||"/",m=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let I=Ns(e,{pathname:m});return MS(I&&I.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:or([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:or([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r)}function OS(){let e=jS(),t=Yf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:i},n):null,null)}const LS=M.createElement(OS,null);class NS extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?M.createElement(gr.Provider,{value:this.props.routeContext},M.createElement(J_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DS(e){let{routeContext:t,match:n,children:r}=e,i=M.useContext(fc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(gr.Provider,{value:t},r)}function MS(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||le(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:I}=n,b=p.route.loader&&m[p.route.id]===void 0&&(!I||I[p.route.id]===void 0);if(p.route.lazy||b){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let I,b=!1,x=null,L=null;n&&(I=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||LS,u&&(c<0&&m===0?(b=!0,L=null):c===m&&(b=!0,L=p.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,m+1)),_=()=>{let S;return I?S=x:b?S=L:p.route.Component?S=M.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=h,M.createElement(DS,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?M.createElement(NS,{location:n.location,revalidation:n.revalidation,component:x,error:I,children:_(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):_()},null)}var e1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e1||{}),Lu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lu||{});function $S(e){let t=M.useContext(fc);return t||le(!1),t}function US(e){let t=M.useContext(Y_);return t||le(!1),t}function FS(e){let t=M.useContext(gr);return t||le(!1),t}function t1(e){let t=FS(),n=t.matches[t.matches.length-1];return n.route.id||le(!1),n.route.id}function jS(){var e;let t=M.useContext(J_),n=US(Lu.UseRouteError),r=t1(Lu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function zS(){let{router:e}=$S(e1.UseNavigateStable),t=t1(Lu.UseNavigateStable),n=M.useRef(!1);return Q_(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ou({fromRouteId:t},s)))},[e,t])}function VS(e){let{to:t,replace:n,state:r,relative:i}=e;po()||le(!1);let{future:s,static:o}=M.useContext(fi),{matches:a}=M.useContext(gr),{pathname:u}=ts(),c=pc(),h=hc(t,dc(a,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(h);return M.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:i}),[c,p,i,n,r]),null}function BS(e){return PS(e.context)}function HS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ke.Pop,navigator:s,static:o=!1,future:a}=e;po()&&le(!1);let u=t.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:s,static:o,future:Ou({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=hi(r));let{pathname:h="/",search:p="",hash:m="",state:I=null,key:b="default"}=r,x=M.useMemo(()=>{let L=fo(h,u);return L==null?null:{location:{pathname:L,search:p,hash:m,state:I,key:b},navigationType:i}},[u,h,p,m,I,b,i]);return x==null?null:M.createElement(fi.Provider,{value:c},M.createElement(Zf.Provider,{children:n,value:x}))}new Promise(()=>{});function WS(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:M.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:M.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:M.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ml.apply(this,arguments)}function GS(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XS(e,t){return e.button===0&&(!t||t==="_self")&&!KS(e)}const qS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],YS="6";try{window.__reactRouterVersion=YS}catch{}function JS(e,t){return uS({basename:void 0,future:Ml({},void 0,{v7_prependBasename:!0}),history:OC({window:void 0}),hydrationData:QS(),routes:e,mapRouteProperties:WS,unstable_dataStrategy:void 0,window:void 0}).initialize()}function QS(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ml({},t,{errors:ZS(t.errors)})),t}function ZS(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new qf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const eT=M.createContext({isTransitioning:!1}),tT=M.createContext(new Map),nT="startTransition",sv=_b[nT],rT="flushSync",ov=RC[rT];function iT(e){sv?sv(e):e()}function Wo(e){ov?ov(e):e()}let sT=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function oT(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=M.useState(n.state),[o,a]=M.useState(),[u,c]=M.useState({isTransitioning:!1}),[h,p]=M.useState(),[m,I]=M.useState(),[b,x]=M.useState(),L=M.useRef(new Map),{v7_startTransition:C}=r||{},_=M.useCallback(g=>{C?iT(g):g()},[C]),S=M.useCallback((g,v)=>{let{deletedFetchers:w,unstable_flushSync:E,unstable_viewTransitionOpts:k}=v;w.forEach(T=>L.current.delete(T)),g.fetchers.forEach((T,me)=>{T.data!==void 0&&L.current.set(me,T.data)});let A=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||A){E?Wo(()=>s(g)):_(()=>s(g));return}if(E){Wo(()=>{m&&(h&&h.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let T=n.window.document.startViewTransition(()=>{Wo(()=>s(g))});T.finished.finally(()=>{Wo(()=>{p(void 0),I(void 0),a(void 0),c({isTransitioning:!1})})}),Wo(()=>I(T));return}m?(h&&h.resolve(),m.skipTransition(),x({state:g,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(g),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,m,h,L,_]);M.useLayoutEffect(()=>n.subscribe(S),[n,S]),M.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new sT)},[u]),M.useEffect(()=>{if(h&&o&&n.window){let g=o,v=h.promise,w=n.window.document.startViewTransition(async()=>{_(()=>s(g)),await v});w.finished.finally(()=>{p(void 0),I(void 0),a(void 0),c({isTransitioning:!1})}),I(w)}},[_,o,h,n.window]),M.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,m,i.location,o]),M.useEffect(()=>{!u.isTransitioning&&b&&(a(b.state),c({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),x(void 0))},[u.isTransitioning,b]),M.useEffect(()=>{},[]);let $=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,v,w)=>n.navigate(g,{state:v,preventScrollReset:w==null?void 0:w.preventScrollReset}),replace:(g,v,w)=>n.navigate(g,{replace:!0,state:v,preventScrollReset:w==null?void 0:w.preventScrollReset})}),[n]),j=n.basename||"/",B=M.useMemo(()=>({router:n,navigator:$,static:!1,basename:j}),[n,$,j]);return M.createElement(M.Fragment,null,M.createElement(fc.Provider,{value:B},M.createElement(Y_.Provider,{value:i},M.createElement(tT.Provider,{value:L.current},M.createElement(eT.Provider,{value:u},M.createElement(HS,{basename:j,location:i.location,navigationType:i.historyAction,navigator:$,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?M.createElement(lT,{routes:n.routes,future:n.future,state:i}):t))))),null)}function lT(e){let{routes:t,future:n,state:r}=e;return RS(t,void 0,r,n)}const aT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nu=M.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,unstable_viewTransition:p}=t,m=GS(t,qS),{basename:I}=M.useContext(fi),b,x=!1;if(typeof c=="string"&&uT.test(c)&&(b=c,aT))try{let S=new URL(window.location.href),$=c.startsWith("//")?new URL(S.protocol+c):new URL(c),j=fo($.pathname,I);$.origin===S.origin&&j!=null?c=j+$.search+$.hash:x=!0}catch{}let L=xS(c,{relative:i}),C=cT(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:p});function _(S){r&&r(S),S.defaultPrevented||C(S)}return M.createElement("a",Ml({},m,{href:b||L,onClick:x||s?r:_,ref:n,target:u}))});var lv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lv||(lv={}));var av;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(av||(av={}));function cT(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,u=pc(),c=ts(),h=Z_(e,{relative:o});return M.useCallback(p=>{if(XS(p,n)){p.preventDefault();let m=r!==void 0?r:Ki(c)===Ki(h);u(e,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,h,r,i,n,e,s,o,a])}function n1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=n1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dT(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=n1(e))&&(r&&(r+=" "),r+=t);return r}const ep="-";function hT(e){const t=pT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function i(o){const a=o.split(ep);return a[0]===""&&a.length!==1&&a.shift(),r1(a,t)||fT(o)}function s(o,a){const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function r1(e,t){var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?r1(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(ep);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const uv=/^\[(.+)\]$/;function fT(e){if(uv.test(e)){const t=uv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function pT(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return gT(Object.entries(e.classGroups),n).forEach(([s,o])=>{Oh(o,r,s,t)}),r}function Oh(e,t,n,r){e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:cv(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(mT(i)){Oh(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Oh(o,cv(t,s),n,r)})})}function cv(e,t){let n=e;return t.split(ep).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function mT(e){return e.isThemeGetter}function gT(e,t){return t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[t+o,a])):s);return[n,i]}):e}function vT(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}}const i1="!";function yT(e){const t=e.separator,n=t.length===1,r=t[0],i=t.length;return function(o){const a=[];let u=0,c=0,h;for(let x=0;x<o.length;x++){let L=o[x];if(u===0){if(L===r&&(n||o.slice(x,x+i)===t)){a.push(o.slice(c,x)),c=x+i;continue}if(L==="/"){h=x;continue}}L==="["?u++:L==="]"&&u--}const p=a.length===0?o:o.substring(c),m=p.startsWith(i1),I=m?p.substring(1):p,b=h&&h>c?h-c:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:I,maybePostfixModifierPosition:b}}}function _T(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function wT(e){return{cache:vT(e.cacheSize),splitModifiers:yT(e),...hT(e)}}const bT=/\s+/;function ET(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=new Set;return e.trim().split(bT).map(o=>{const{modifiers:a,hasImportantModifier:u,baseClassName:c,maybePostfixModifierPosition:h}=n(o);let p=r(h?c.substring(0,h):c),m=!!h;if(!p){if(!h)return{isTailwindClass:!1,originalClassName:o};if(p=r(c),!p)return{isTailwindClass:!1,originalClassName:o};m=!1}const I=_T(a).join(":");return{isTailwindClass:!0,modifierId:u?I+i1:I,classGroupId:p,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:u,hasPostfixModifier:c}=o,h=a+u;return s.has(h)?!1:(s.add(h),i(u,c).forEach(p=>s.add(a+p)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function CT(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=s1(t))&&(r&&(r+=" "),r+=n);return r}function s1(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=s1(e[r]))&&(n&&(n+=" "),n+=t);return n}function ST(e,...t){let n,r,i,s=o;function o(u){const c=t.reduce((h,p)=>p(h),e());return n=wT(c),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const c=r(u);if(c)return c;const h=ET(u,n);return i(u,h),h}return function(){return s(CT.apply(null,arguments))}}function xe(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const o1=/^\[(?:([a-z-]+):)?(.+)\]$/i,TT=/^\d+\/\d+$/,IT=new Set(["px","full","screen"]),xT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Gn(e){return Mi(e)||IT.has(e)||TT.test(e)}function Ar(e){return mo(e,"length",FT)}function Mi(e){return!!e&&!Number.isNaN(Number(e))}function Ma(e){return mo(e,"number",Mi)}function Go(e){return!!e&&Number.isInteger(Number(e))}function OT(e){return e.endsWith("%")&&Mi(e.slice(0,-1))}function ie(e){return o1.test(e)}function Pr(e){return xT.test(e)}const LT=new Set(["length","size","percentage"]);function NT(e){return mo(e,LT,l1)}function DT(e){return mo(e,"position",l1)}const MT=new Set(["image","url"]);function $T(e){return mo(e,MT,zT)}function UT(e){return mo(e,"",jT)}function Ko(){return!0}function mo(e,t,n){const r=o1.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function FT(e){return kT.test(e)&&!AT.test(e)}function l1(){return!1}function jT(e){return PT.test(e)}function zT(e){return RT.test(e)}function VT(){const e=xe("colors"),t=xe("spacing"),n=xe("blur"),r=xe("brightness"),i=xe("borderColor"),s=xe("borderRadius"),o=xe("borderSpacing"),a=xe("borderWidth"),u=xe("contrast"),c=xe("grayscale"),h=xe("hueRotate"),p=xe("invert"),m=xe("gap"),I=xe("gradientColorStops"),b=xe("gradientColorStopPositions"),x=xe("inset"),L=xe("margin"),C=xe("opacity"),_=xe("padding"),S=xe("saturate"),$=xe("scale"),j=xe("sepia"),B=xe("skew"),g=xe("space"),v=xe("translate"),w=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ie,t],A=()=>[ie,t],T=()=>["",Gn,Ar],me=()=>["auto",Mi,ie],We=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Et=()=>["solid","dashed","dotted","double","none"],tt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",ie],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Mi,Ma],re=()=>[Mi,ie];return{cacheSize:500,separator:":",theme:{colors:[Ko],spacing:[Gn,Ar],blur:["none","",Pr,ie],brightness:de(),borderColor:[e],borderRadius:["none","","full",Pr,ie],borderSpacing:A(),borderWidth:T(),contrast:de(),grayscale:Y(),hueRotate:re(),invert:Y(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[OT,Ar],inset:k(),margin:k(),opacity:de(),padding:A(),saturate:de(),scale:de(),sepia:Y(),skew:re(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[Pr]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...We(),ie]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Go,ie]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Go,ie]}],"grid-cols":[{"grid-cols":[Ko]}],"col-start-end":[{col:["auto",{span:["full",Go,ie]},ie]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[Ko]}],"row-start-end":[{row:["auto",{span:[Go,ie]},ie]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[g]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[g]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,t]}],"min-w":[{"min-w":[ie,t,"min","max","fit"]}],"max-w":[{"max-w":[ie,t,"none","full","min","max","fit","prose",{screen:[Pr]},Pr]}],h:[{h:[ie,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pr,Ar]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ma]}],"font-family":[{font:[Ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",Mi,Ma]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gn,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Et(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gn,Ar]}],"underline-offset":[{"underline-offset":["auto",Gn,ie]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...We(),DT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$T]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...Et(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:Et()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Et()]}],"outline-offset":[{"outline-offset":[Gn,ie]}],"outline-w":[{outline:[Gn,Ar]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Gn,Ar]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pr,UT]}],"shadow-color":[{shadow:[Ko]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...tt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":tt()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Pr,ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[Go,ie]}],"translate-x":[{"translate-x":[v]}],"translate-y":[{"translate-y":[v]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Gn,Ar,Ma]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const BT=ST(VT);function un(...e){return BT(dT(e))}function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no.apply(null,arguments)}function HT(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function WT(...e){return t=>e.forEach(n=>HT(n,t))}const tp=M.forwardRef((e,t)=>{const{children:n,...r}=e,i=M.Children.toArray(n),s=i.find(KT);if(s){const o=s.props.children,a=i.map(u=>u===s?M.Children.count(o)>1?M.Children.only(null):M.isValidElement(o)?o.props.children:null:u);return M.createElement(Lh,no({},r,{ref:t}),M.isValidElement(o)?M.cloneElement(o,void 0,a):null)}return M.createElement(Lh,no({},r,{ref:t}),n)});tp.displayName="Slot";const Lh=M.forwardRef((e,t)=>{const{children:n,...r}=e;return M.isValidElement(n)?M.cloneElement(n,{...XT(r,n.props),ref:t?WT(t,n.ref):n.ref}):M.Children.count(n)>1?M.Children.only(null):null});Lh.displayName="SlotClone";const GT=({children:e})=>M.createElement(M.Fragment,null,e);function KT(e){return M.isValidElement(e)&&e.type===GT}function XT(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function a1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a1(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function qT(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a1(e))&&(r&&(r+=" "),r+=t);return r}const dv=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,hv=qT,u1=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return hv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],p=s==null?void 0:s[c];if(h===null)return null;const m=dv(h)||dv(p);return i[c][m]}),a=n&&Object.entries(n).reduce((c,h)=>{let[p,m]=h;return m===void 0||(c[p]=m),c},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:m,...I}=h;return Object.entries(I).every(b=>{let[x,L]=b;return Array.isArray(L)?L.includes({...s,...a}[x]):{...s,...a}[x]===L})?[...c,p,m]:c},[]);return hv(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},Nh=u1("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ro=M.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const o=r?tp:"button";return P.jsx(o,{className:un(Nh({variant:t,size:n,className:e})),ref:s,...i})});ro.displayName="Button";const YT="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='m2.25%2012%208.954-8.955c.44-.439%201.152-.439%201.591%200L21.75%2012M4.5%209.75v10.125c0%20.621.504%201.125%201.125%201.125H9.75v-4.875c0-.621.504-1.125%201.125-1.125h2.25c.621%200%201.125.504%201.125%201.125V21h4.125c.621%200%201.125-.504%201.125-1.125V9.75M8.25%2021h8.25'%20/%3e%3c/svg%3e",JT="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M12%204.5v15m7.5-7.5h-15'%20/%3e%3c/svg%3e",QT="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M6.827%206.175A2.31%202.31%200%200%201%205.186%207.23c-.38.054-.757.112-1.134.175C2.999%207.58%202.25%208.507%202.25%209.574V18a2.25%202.25%200%200%200%202.25%202.25h15A2.25%202.25%200%200%200%2021.75%2018V9.574c0-1.067-.75-1.994-1.802-2.169a47.865%2047.865%200%200%200-1.134-.175%202.31%202.31%200%200%201-1.64-1.055l-.822-1.316a2.192%202.192%200%200%200-1.736-1.039%2048.774%2048.774%200%200%200-5.232%200%202.192%202.192%200%200%200-1.736%201.039l-.821%201.316Z'%20/%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M16.5%2012.75a4.5%204.5%200%201%201-9%200%204.5%204.5%200%200%201%209%200ZM18.75%2010.5h.008v.008h-.008V10.5Z'%20/%3e%3c/svg%3e",ZT="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M17.982%2018.725A7.488%207.488%200%200%200%2012%2015.75a7.488%207.488%200%200%200-5.982%202.975m11.963%200a9%209%200%201%200-11.963%200m11.963%200A8.966%208.966%200%200%201%2012%2021a8.966%208.966%200%200%201-5.982-2.275M15%209.75a3%203%200%201%201-6%200%203%203%200%200%201%206%200Z'%20/%3e%3c/svg%3e",eI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M14.857%2017.082a23.848%2023.848%200%200%200%205.454-1.31A8.967%208.967%200%200%201%2018%209.75V9A6%206%200%200%200%206%209v.75a8.967%208.967%200%200%201-2.312%206.022c1.733.64%203.56%201.085%205.455%201.31m5.714%200a24.255%2024.255%200%200%201-5.714%200m5.714%200a3%203%200%201%201-5.714%200'%20/%3e%3c/svg%3e",tI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M6%2012%203.269%203.125A59.769%2059.769%200%200%201%2021.485%2012%2059.768%2059.768%200%200%201%203.27%2020.875L5.999%2012Zm0%200h7.5'%20/%3e%3c/svg%3e",nI="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M10.343%203.94c.09-.542.56-.94%201.11-.94h1.093c.55%200%201.02.398%201.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142%201.205-.108l.737-.527a1.125%201.125%200%200%201%201.45.12l.773.774c.39.389.44%201.002.12%201.45l-.527.737c-.25.35-.272.806-.107%201.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94%201.109v1.094c0%20.55-.397%201.02-.94%201.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107%201.204l.527.738c.32.447.269%201.06-.12%201.45l-.774.773a1.125%201.125%200%200%201-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55%200-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125%201.125%200%200%201-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125%201.125%200%200%201%20.12-1.45l.773-.773a1.125%201.125%200%200%201%201.45-.12l.737.527c.35.25.807.272%201.204.107.397-.165.71-.505.78-.929l.15-.894Z'%20/%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M15%2012a3%203%200%201%201-6%200%203%203%200%200%201%206%200Z'%20/%3e%3c/svg%3e",rI=[{name:"Home",link:"/edelgram/",icon:YT},{name:"Add photos",link:"/edelgram/createpost",icon:JT},{name:"My photos",link:"/edelgram/myphotos",icon:QT},{name:"Profile",link:"/edelgram/profile",icon:ZT},{name:"Notifications",link:"#",icon:eI},{name:"Direct",link:"#",icon:tI},{name:"Settings",link:"#",icon:nI}];var fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},iI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},d1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,I=c&63;u||(I=64,o||(m=64)),r.push(n[h],n[p],n[m],n[I])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):iI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const p=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new sI;const m=s<<2|a>>4;if(r.push(m),c!==64){const I=a<<4&240|c>>2;if(r.push(I),p!==64){const b=c<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oI=function(e){const t=c1(e);return d1.encodeByteArray(t,!0)},Du=function(e){return oI(e).replace(/\./g,"")},h1=function(e){try{return d1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=()=>lI().__FIREBASE_DEFAULTS__,uI=()=>{if(typeof process>"u"||typeof fv>"u")return;const e=fv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&h1(e[1]);return t&&JSON.parse(t)},np=()=>{try{return aI()||uI()||cI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},f1=e=>{var t,n;return(n=(t=np())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},dI=e=>{const t=f1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p1=()=>{var e;return(e=np())===null||e===void 0?void 0:e.config},m1=e=>{var t;return(t=np())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Du(JSON.stringify(n)),Du(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function mI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function gI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vI(){const e=bt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="FirebaseError";class vr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=wI,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?bI(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vr(i,a,r)}}function bI(e,t){return e.replace(EI,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const EI=/\{\$([^}]+)}/g;function CI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(pv(s)&&pv(o)){if(!Mu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function rl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function SI(e,t){const n=new TI(e,t);return n.subscribe.bind(n)}class TI{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");II(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=wd),i.error===void 0&&(i.error=wd),i.complete===void 0&&(i.complete=wd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function II(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(e){return e&&e._delegate?e._delegate:e}class Xi{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new hI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AI(t))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Pi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pi){return this.instances.has(t)}getOptions(t=Pi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pi){return this.component?this.component.multipleInstances?t:Pi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kI(e){return e===Pi?void 0:e}function AI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new xI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ve||(ve={}));const RI={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},OI=ve.INFO,LI={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},NI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=LI[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rp{constructor(t){this.name=t,this._logLevel=OI,this._logHandler=NI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const DI=(e,t)=>t.some(n=>e instanceof n);let mv,gv;function MI(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g1=new WeakMap,Dh=new WeakMap,v1=new WeakMap,bd=new WeakMap,ip=new WeakMap;function UI(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Qr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&g1.set(n,e)}).catch(()=>{}),ip.set(t,e),t}function FI(e){if(Dh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Dh.set(e,t)}let Mh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Dh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||v1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jI(e){Mh=e(Mh)}function zI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ed(this),t,...n);return v1.set(r,t.sort?t.sort():[t]),Qr(r)}:$I().includes(e)?function(...t){return e.apply(Ed(this),t),Qr(g1.get(this))}:function(...t){return Qr(e.apply(Ed(this),t))}}function VI(e){return typeof e=="function"?zI(e):(e instanceof IDBTransaction&&FI(e),DI(e,MI())?new Proxy(e,Mh):e)}function Qr(e){if(e instanceof IDBRequest)return UI(e);if(bd.has(e))return bd.get(e);const t=VI(e);return t!==e&&(bd.set(e,t),ip.set(t,e)),t}const Ed=e=>ip.get(e);function BI(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Qr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Qr(o.result),u.oldVersion,u.newVersion,Qr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const HI=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],Cd=new Map;function vv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=WI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HI.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Cd.set(t,s),s}jI(e=>({...e,get:(t,n,r)=>vv(t,n)||e.get(t,n,r),has:(t,n)=>!!vv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $h="@firebase/app",yv="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new rp("@firebase/app"),XI="@firebase/app-compat",qI="@firebase/analytics-compat",YI="@firebase/analytics",JI="@firebase/app-check-compat",QI="@firebase/app-check",ZI="@firebase/auth",ex="@firebase/auth-compat",tx="@firebase/database",nx="@firebase/database-compat",rx="@firebase/functions",ix="@firebase/functions-compat",sx="@firebase/installations",ox="@firebase/installations-compat",lx="@firebase/messaging",ax="@firebase/messaging-compat",ux="@firebase/performance",cx="@firebase/performance-compat",dx="@firebase/remote-config",hx="@firebase/remote-config-compat",fx="@firebase/storage",px="@firebase/storage-compat",mx="@firebase/firestore",gx="@firebase/vertexai-preview",vx="@firebase/firestore-compat",yx="firebase",_x="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="[DEFAULT]",wx={[$h]:"fire-core",[XI]:"fire-core-compat",[YI]:"fire-analytics",[qI]:"fire-analytics-compat",[QI]:"fire-app-check",[JI]:"fire-app-check-compat",[ZI]:"fire-auth",[ex]:"fire-auth-compat",[tx]:"fire-rtdb",[nx]:"fire-rtdb-compat",[rx]:"fire-fn",[ix]:"fire-fn-compat",[sx]:"fire-iid",[ox]:"fire-iid-compat",[lx]:"fire-fcm",[ax]:"fire-fcm-compat",[ux]:"fire-perf",[cx]:"fire-perf-compat",[dx]:"fire-rc",[hx]:"fire-rc-compat",[fx]:"fire-gcs",[px]:"fire-gcs-compat",[mx]:"fire-fst",[vx]:"fire-fst-compat",[gx]:"fire-vertex","fire-js":"fire-js",[yx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,bx=new Map,Fh=new Map;function _v(e,t){try{e.container.addComponent(t)}catch(n){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function io(e){const t=e.name;if(Fh.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;Fh.set(t,e);for(const n of $u.values())_v(n,e);for(const n of bx.values())_v(n,e);return!0}function sp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wn(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Kl("app","Firebase",Ex);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=_x;function y1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Uh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=p1()),!n)throw Zr.create("no-options");const s=$u.get(i);if(s){if(Mu(n,s.options)&&Mu(r,s.config))return s;throw Zr.create("duplicate-app",{appName:i})}const o=new PI(i);for(const u of Fh.values())o.addComponent(u);const a=new Cx(n,r,o);return $u.set(i,a),a}function _1(e=Uh){const t=$u.get(e);if(!t&&e===Uh&&p1())return y1();if(!t)throw Zr.create("no-app",{appName:e});return t}function ei(e,t,n){var r;let i=(r=wx[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(a.join(" "));return}io(new Xi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebase-heartbeat-database",Tx=1,$l="firebase-heartbeat-store";let Sd=null;function w1(){return Sd||(Sd=BI(Sx,Tx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(e=>{throw Zr.create("idb-open",{originalErrorMessage:e.message})})),Sd}async function Ix(e){try{const n=(await w1()).transaction($l),r=await n.objectStore($l).get(b1(e));return await n.done,r}catch(t){if(t instanceof vr)qi.warn(t.message);else{const n=Zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(n.message)}}}async function wv(e,t){try{const r=(await w1()).transaction($l,"readwrite");await r.objectStore($l).put(t,b1(e)),await r.done}catch(n){if(n instanceof vr)qi.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function b1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=1024,kx=30*24*60*60*1e3;class Ax{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bv();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=kx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bv(),{heartbeatsToSend:r,unsentEntries:i}=Px(this._heartbeatsCache.heartbeats),s=Du(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function bv(){return new Date().toISOString().substring(0,10)}function Px(e,t=xx){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ev(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ev(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ix(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ev(e){return Du(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e){io(new Xi("platform-logger",t=>new GI(t),"PRIVATE")),io(new Xi("heartbeat",t=>new Ax(t),"PRIVATE")),ei($h,yv,e),ei($h,yv,"esm2017"),ei("fire-js","")}Ox("");var Lx="firebase",Nx="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(Lx,Nx,"app");function op(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function E1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dx=E1,C1=new Kl("auth","Firebase",E1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new rp("@firebase/auth");function Mx(e,...t){Uu.logLevel<=ve.WARN&&Uu.warn(`Auth (${go}): ${e}`,...t)}function nu(e,...t){Uu.logLevel<=ve.ERROR&&Uu.error(`Auth (${go}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e,...t){throw ap(e,...t)}function Cn(e,...t){return ap(e,...t)}function lp(e,t,n){const r=Object.assign(Object.assign({},Dx()),{[t]:n});return new Kl("auth","Firebase",r).create(t,{appName:e.name})}function lr(e){return lp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $x(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&cn(e,"argument-error"),lp(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ap(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return C1.create(e,...t)}function ee(e,t,...n){if(!e)throw ap(t,...n)}function nr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nu(t),new Error(t)}function hr(e,t){e||nr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Ux(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ux()||mI()||"connection"in navigator)?navigator.onLine:!0}function jx(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,hr(n>t,"Short delay should be less than long delay!"),this.isMobile=pI()||gI()}get(){return Fx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(e,t){hr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new ql(3e4,6e4);function pi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mi(e,t,n,r,i={}){return T1(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Xl(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),S1.fetch()(I1(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function T1(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},zx),t);try{const i=new Hx(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $a(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $a(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw $a(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw $a(e,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lp(e,h,c);cn(e,h)}}catch(i){if(i instanceof vr)throw i;cn(e,"network-request-failed",{message:String(i)})}}async function Yl(e,t,n,r,i={}){const s=await mi(e,t,n,r,i);return"mfaPendingCredential"in s&&cn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function I1(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?up(e.config,i):`${e.config.apiScheme}://${i}`}function Bx(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hx{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),Vx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $a(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cn(e,t,r);return i.customData._tokenResponse=n,i}function Sv(e){return e!==void 0&&e.enterprise!==void 0}class Wx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Bx(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Gx(e,t){return mi(e,"GET","/v2/recaptchaConfig",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(e,t){return mi(e,"POST","/v1/accounts:delete",t)}async function x1(e,t){return mi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xx(e,t=!1){const n=yr(e),r=await n.getIdToken(t),i=cp(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vl(Td(i.auth_time)),issuedAtTime:vl(Td(i.iat)),expirationTime:vl(Td(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Td(e){return Number(e)*1e3}function cp(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const i=h1(n);return i?JSON.parse(i):(nu("Failed to decode base64 JWT payload"),null)}catch(i){return nu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Tv(e){const t=cp(e);return ee(t,"internal-error"),ee(typeof t.exp<"u","internal-error"),ee(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof vr&&qx(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function qx({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ul(e,x1(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?k1(s.providerUserInfo):[],a=Qx(e.providerData,o),u=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zh(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,p)}async function Jx(e){const t=yr(e);await Fu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Qx(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function k1(e){return e.map(t=>{var{providerId:n}=t,r=op(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(e,t){const n=await T1(e,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=I1(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ek(e,t){return mi(e,"POST","/v2/accounts:revokeToken",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ee(t.idToken,"internal-error"),ee(typeof t.idToken<"u","internal-error"),ee(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ee(t.length!==0,"internal-error");const n=Tv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Zx(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bs;return r&&(ee(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(e,t){ee(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class rr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=op(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Xx(this,t)}reload(){return Jx(this)}_assign(t){this!==t&&(ee(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new rr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Fu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(lr(this.auth));const t=await this.getIdToken();return await Ul(this,Kx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,L=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:$,isAnonymous:j,providerData:B,stsTokenManager:g}=n;ee(S&&g,t,"internal-error");const v=Bs.fromJSON(this.name,g);ee(typeof S=="string",t,"internal-error"),Rr(p,t.name),Rr(m,t.name),ee(typeof $=="boolean",t,"internal-error"),ee(typeof j=="boolean",t,"internal-error"),Rr(I,t.name),Rr(b,t.name),Rr(x,t.name),Rr(L,t.name),Rr(C,t.name),Rr(_,t.name);const w=new rr({uid:S,auth:t,email:m,emailVerified:$,displayName:p,isAnonymous:j,photoURL:b,phoneNumber:I,tenantId:x,stsTokenManager:v,createdAt:C,lastLoginAt:_});return B&&Array.isArray(B)&&(w.providerData=B.map(E=>Object.assign({},E))),L&&(w._redirectEventId=L),w}static async _fromIdTokenResponse(t,n,r=!1){const i=new Bs;i.updateFromServerResponse(n);const s=new rr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Fu(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?k1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Bs;a.updateFromIdToken(r);const u=new rr({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;function ir(e){hr(e instanceof Function,"Expected a class definition");let t=Iv.get(e);return t?(hr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Iv.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}A1.type="NONE";const xv=A1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(e,t,n){return`firebase:${e}:${t}:${n}`}class Hs{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ru(this.userKey,i.apiKey,s),this.fullPersistenceKey=ru("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?rr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Hs(ir(xv),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ir(xv);const o=ru(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const p=rr._fromJSON(t,h);c!==s&&(a=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Hs(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Hs(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(O1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(N1(t))return"Blackberry";if(D1(t))return"Webos";if(dp(t))return"Safari";if((t.includes("chrome/")||R1(t))&&!t.includes("edge/"))return"Chrome";if(L1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P1(e=bt()){return/firefox\//i.test(e)}function dp(e=bt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function R1(e=bt()){return/crios\//i.test(e)}function O1(e=bt()){return/iemobile/i.test(e)}function L1(e=bt()){return/android/i.test(e)}function N1(e=bt()){return/blackberry/i.test(e)}function D1(e=bt()){return/webos/i.test(e)}function mc(e=bt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tk(e=bt()){var t;return mc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function nk(){return vI()&&document.documentMode===10}function M1(e=bt()){return mc(e)||L1(e)||D1(e)||N1(e)||/windows phone/i.test(e)||O1(e)}function rk(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(e,t=[]){let n;switch(e){case"Browser":n=kv(bt());break;case"Worker":n=`${kv(bt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(e,t={}){return mi(e,"GET","/v2/passwordPolicy",pi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=6;class lk{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ok,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await x1(this,{idToken:t}),r=await rr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Fu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wn(this.app))return Promise.reject(lr(this));const n=t?yr(t):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ee(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sk(this),n=new lk(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ek(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ir(t)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Mx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gi(e){return yr(e)}class Av{constructor(t){this.auth=t,this.observer=null,this.addObserver=SI(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uk(e){gc=e}function U1(e){return gc.loadJS(e)}function ck(){return gc.recaptchaEnterpriseScript}function dk(){return gc.gapiScript}function hk(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const fk="recaptcha-enterprise",pk="NO_RECAPTCHA";class mk{constructor(t){this.type=fk,this.auth=gi(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Gx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Wx(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;Sv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(pk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Sv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ck();u.length!==0&&(u+=a),U1(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Pv(e,t,n,r=!1){const i=new mk(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Vh(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Pv(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Pv(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(e,t){const n=sp(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mu(s,t??{}))return i;cn(i,"already-initialized")}return n.initialize({options:t})}function vk(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ir);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function yk(e,t,n){const r=gi(e);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=F1(t),{host:o,port:a}=_k(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),wk()}function F1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _k(e){const t=F1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Rv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Rv(o)}}}function Rv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wk(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(t){return nr("not implemented")}_linkToIdToken(t,n){return nr("not implemented")}_getReauthenticationResolver(t){return nr("not implemented")}}async function bk(e,t){return mi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(e,t){return Yl(e,"POST","/v1/accounts:signInWithPassword",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(e,t){return Yl(e,"POST","/v1/accounts:signInWithEmailLink",pi(e,t))}async function Sk(e,t){return Yl(e,"POST","/v1/accounts:signInWithEmailLink",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends hp{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Fl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Fl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vh(t,n,"signInWithPassword",Ek);case"emailLink":return Ck(t,{email:this._email,oobCode:this._password});default:cn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vh(t,r,"signUpPassword",bk);case"emailLink":return Sk(t,{idToken:n,email:this._email,oobCode:this._password});default:cn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(e,t){return Yl(e,"POST","/v1/accounts:signInWithIdp",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="http://localhost";class Yi extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Yi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=op(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Ws(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ws(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ws(t,n)}buildRequest(){const t={requestUri:Tk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xk(e){const t=nl(rl(e)).link,n=t?nl(rl(t)).deep_link_id:null,r=nl(rl(e)).deep_link_id;return(r?nl(rl(r)).link:null)||r||n||t||e}class fp{constructor(t){var n,r,i,s,o,a;const u=nl(rl(t)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Ik((i=u.mode)!==null&&i!==void 0?i:null);ee(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=xk(t);try{return new fp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(t,n){return Fl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=fp.parseLink(n);return ee(r,"argument-error"),Fl._fromEmailAndCode(t,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends pp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Jl{constructor(){super("facebook.com")}static credential(t){return Yi._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Yi._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qn.credentialFromTaggedObject(t)}static credentialFromError(t){return Qn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Jl{constructor(){super("github.com")}static credential(t){return Yi._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Jl{constructor(){super("twitter.com")}static credential(t,n){return Yi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(e,t){return Yl(e,"POST","/v1/accounts:signUp",pi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await rr._fromIdTokenResponse(t,r,i),o=Ov(r);return new Ji({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Ov(r);return new Ji({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Ov(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends vr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new ju(t,n,r,i)}}function j1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(e,s,t,r):s})}async function Ak(e,t,n=!1){const r=await Ul(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ji._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(e,t,n=!1){const{auth:r}=e;if(wn(r.app))return Promise.reject(lr(r));const i="reauthenticate";try{const s=await Ul(e,j1(r,i,t,e),n);ee(s.idToken,r,"internal-error");const o=cp(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(e.uid===a,r,"user-mismatch"),Ji._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&cn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(e,t,n=!1){if(wn(e.app))return Promise.reject(lr(e));const r="signIn",i=await j1(e,r,t),s=await Ji._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Rk(e,t){return z1(gi(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(e){const t=gi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ok(e,t,n){if(wn(e.app))return Promise.reject(lr(e));const r=gi(e),o=await Vh(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kk).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&V1(e),u}),a=await Ji._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Lk(e,t,n){return wn(e.app)?Promise.reject(lr(e)):Rk(yr(e),vo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V1(e),r})}function Nk(e,t,n,r){return yr(e).onIdTokenChanged(t,n,r)}function Dk(e,t,n){return yr(e).beforeAuthStateChanged(t,n)}function B1(e,t,n,r){return yr(e).onAuthStateChanged(t,n,r)}function Mk(e){return yr(e).signOut()}const zu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zu,"1"),this.storage.removeItem(zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(){const e=bt();return dp(e)||mc(e)}const Uk=1e3,Fk=10;class W1 extends H1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$k()&&rk(),this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);nk()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Fk):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Uk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}W1.type="LOCAL";const jk=W1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends H1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}G1.type="SESSION";const K1=G1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new vc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await zk(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=mp("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function Bk(e){$n().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function Hk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wk(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Gk(){return X1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebaseLocalStorageDb",Kk=1,Vu="firebaseLocalStorage",Y1="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yc(e,t){return e.transaction([Vu],t?"readwrite":"readonly").objectStore(Vu)}function Xk(){const e=indexedDB.deleteDatabase(q1);return new Ql(e).toPromise()}function Bh(){const e=indexedDB.open(q1,Kk);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Vu,{keyPath:Y1})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Vu)?t(r):(r.close(),await Xk(),t(await Bh()))})})}async function Lv(e,t,n){const r=yc(e,!0).put({[Y1]:t,value:n});return new Ql(r).toPromise()}async function qk(e,t){const n=yc(e,!1).get(t),r=await new Ql(n).toPromise();return r===void 0?null:r.value}function Nv(e,t){const n=yc(e,!0).delete(t);return new Ql(n).toPromise()}const Yk=800,Jk=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bh(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Jk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vc._getInstance(Gk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Hk(),!this.activeServiceWorker)return;this.sender=new Vk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Wk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bh();return await Lv(t,zu,"1"),await Nv(t,zu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>qk(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=yc(i,!1).getAll();return new Ql(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const Qk=J1;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(e,t){return t?ir(t):(ee(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends hp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ws(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ws(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ws(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Zk(e){return z1(e.auth,new gp(e),e.bypassAuthState)}function eA(e){const{auth:t,user:n}=e;return ee(n,t,"internal-error"),Pk(n,new gp(e),e.bypassAuthState)}async function tA(e){const{auth:t,user:n}=e;return ee(n,t,"internal-error"),Ak(n,new gp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Zk;case"linkViaPopup":case"linkViaRedirect":return tA;case"reauthViaPopup":case"reauthViaRedirect":return eA;default:cn(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new ql(2e3,1e4);async function rA(e,t,n){if(wn(e.app))return Promise.reject(Cn(e,"operation-not-supported-in-this-environment"));const r=gi(e);$x(e,t,pp);const i=Q1(r,n);return new $i(r,"signInViaPopup",t,i).executeNotNull()}class $i extends Z1{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$i.currentPopupAction&&$i.currentPopupAction.cancel(),$i.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ee(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$i.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nA.get())};t()}}$i.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="pendingRedirect",iu=new Map;class sA extends Z1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=iu.get(this.auth._key());if(!t){try{const r=await oA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}iu.set(this.auth._key(),t)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oA(e,t){const n=uA(t),r=aA(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lA(e,t){iu.set(e._key(),t)}function aA(e){return ir(e._redirectPersistence)}function uA(e){return ru(iA,e.config.apiKey,e.name)}async function cA(e,t,n=!1){if(wn(e.app))return Promise.reject(lr(e));const r=gi(e),i=Q1(r,t),o=await new sA(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=10*60*1e3;class hA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fA(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!ew(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(t))}saveEventToCache(t){this.cachedEventUids.add(Dv(t)),this.lastProcessedEventTime=Date.now()}}function Dv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ew({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function fA(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ew(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(e,t={}){return mi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gA=/^https?/;async function vA(e){if(e.config.emulator)return;const{authorizedDomains:t}=await pA(e);for(const n of t)try{if(yA(n))return}catch{}cn(e,"unauthorized-domain")}function yA(e){const t=jh(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gA.test(n))return!1;if(mA.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new ql(3e4,6e4);function Mv(){const e=$n().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function wA(e){return new Promise((t,n)=>{var r,i,s;function o(){Mv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mv(),n(Cn(e,"network-request-failed"))},timeout:_A.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)o();else{const a=hk("iframefcb");return $n()[a]=()=>{gapi.load?o():n(Cn(e,"network-request-failed"))},U1(`${dk()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw su=null,t})}let su=null;function bA(e){return su=su||wA(e),su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new ql(5e3,15e3),CA="__/auth/iframe",SA="emulator/auth/iframe",TA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xA(e){const t=e.config;ee(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?up(t,SA):`https://${e.config.authDomain}/${CA}`,r={apiKey:t.apiKey,appName:e.name,v:go},i=IA.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xl(r).slice(1)}`}async function kA(e){const t=await bA(e),n=$n().gapi;return ee(n,e,"internal-error"),t.open({where:document.body,url:xA(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cn(e,"network-request-failed"),a=$n().setTimeout(()=>{s(o)},EA.get());function u(){$n().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PA=500,RA=600,OA="_blank",LA="http://localhost";class $v{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NA(e,t,n,r=PA,i=RA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},AA),{width:r.toString(),height:i.toString(),top:s,left:o}),c=bt().toLowerCase();n&&(a=R1(c)?OA:n),P1(c)&&(t=t||LA,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[I,b])=>`${m}${I}=${b},`,"");if(tk(c)&&a!=="_self")return DA(t||"",a),new $v(null);const p=window.open(t||"",a,h);ee(p,e,"popup-blocked");try{p.focus()}catch{}return new $v(p)}function DA(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="__/auth/handler",$A="emulator/auth/handler",UA=encodeURIComponent("fac");async function Uv(e,t,n,r,i,s){ee(e.config.authDomain,e,"auth-domain-config-required"),ee(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:go,eventId:i};if(t instanceof pp){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",CI(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(t instanceof Jl){const h=t.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await e._getAppCheckToken(),c=u?`#${UA}=${encodeURIComponent(u)}`:"";return`${FA(e)}?${Xl(a).slice(1)}${c}`}function FA({config:e}){return e.emulator?up(e,$A):`https://${e.authDomain}/${MA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class jA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=cA,this._overrideRedirectResult=lA}async _openPopup(t,n,r,i){var s;hr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Uv(t,n,r,jh(),i);return NA(t,o,mp())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await Uv(t,n,r,jh(),i);return Bk(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await kA(t),r=new hA(t);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Id,{type:Id},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Id];o!==void 0&&n(!!o),cn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vA(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||dp()||mc()}}const zA=jA;var Fv="@firebase/auth",jv="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HA(e){io(new Xi("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(e)},c=new ak(r,i,s,u);return vk(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),io(new Xi("auth-internal",t=>{const n=gi(t.getProvider("auth").getImmediate());return(r=>new VA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(Fv,jv,BA(e)),ei(Fv,jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=5*60,GA=m1("authIdTokenMaxAge")||WA;let zv=null;const KA=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GA)return;const i=n==null?void 0:n.token;zv!==i&&(zv=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tw(e=_1()){const t=sp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=gk(e,{popupRedirectResolver:zA,persistence:[Qk,jk,K1]}),r=m1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=KA(s.toString());Dk(n,o,()=>o(n.currentUser)),Nk(n,a=>o(a))}}const i=f1("auth");return i&&yk(n,`http://${i}`),n}function XA(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}uk({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Cn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HA("Browser");var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(g,v){function w(){}w.prototype=v.prototype,g.D=v.prototype,g.prototype=new w,g.prototype.constructor=g,g.C=function(E,k,A){for(var T=Array(arguments.length-2),me=2;me<arguments.length;me++)T[me-2]=arguments[me];return v.prototype[k].apply(E,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(g,v,w){w||(w=0);var E=Array(16);if(typeof v=="string")for(var k=0;16>k;++k)E[k]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(k=0;16>k;++k)E[k]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=g.g[0],w=g.g[1],k=g.g[2];var A=g.g[3],T=v+(A^w&(k^A))+E[0]+3614090360&4294967295;v=w+(T<<7&4294967295|T>>>25),T=A+(k^v&(w^k))+E[1]+3905402710&4294967295,A=v+(T<<12&4294967295|T>>>20),T=k+(w^A&(v^w))+E[2]+606105819&4294967295,k=A+(T<<17&4294967295|T>>>15),T=w+(v^k&(A^v))+E[3]+3250441966&4294967295,w=k+(T<<22&4294967295|T>>>10),T=v+(A^w&(k^A))+E[4]+4118548399&4294967295,v=w+(T<<7&4294967295|T>>>25),T=A+(k^v&(w^k))+E[5]+1200080426&4294967295,A=v+(T<<12&4294967295|T>>>20),T=k+(w^A&(v^w))+E[6]+2821735955&4294967295,k=A+(T<<17&4294967295|T>>>15),T=w+(v^k&(A^v))+E[7]+4249261313&4294967295,w=k+(T<<22&4294967295|T>>>10),T=v+(A^w&(k^A))+E[8]+1770035416&4294967295,v=w+(T<<7&4294967295|T>>>25),T=A+(k^v&(w^k))+E[9]+2336552879&4294967295,A=v+(T<<12&4294967295|T>>>20),T=k+(w^A&(v^w))+E[10]+4294925233&4294967295,k=A+(T<<17&4294967295|T>>>15),T=w+(v^k&(A^v))+E[11]+2304563134&4294967295,w=k+(T<<22&4294967295|T>>>10),T=v+(A^w&(k^A))+E[12]+1804603682&4294967295,v=w+(T<<7&4294967295|T>>>25),T=A+(k^v&(w^k))+E[13]+4254626195&4294967295,A=v+(T<<12&4294967295|T>>>20),T=k+(w^A&(v^w))+E[14]+2792965006&4294967295,k=A+(T<<17&4294967295|T>>>15),T=w+(v^k&(A^v))+E[15]+1236535329&4294967295,w=k+(T<<22&4294967295|T>>>10),T=v+(k^A&(w^k))+E[1]+4129170786&4294967295,v=w+(T<<5&4294967295|T>>>27),T=A+(w^k&(v^w))+E[6]+3225465664&4294967295,A=v+(T<<9&4294967295|T>>>23),T=k+(v^w&(A^v))+E[11]+643717713&4294967295,k=A+(T<<14&4294967295|T>>>18),T=w+(A^v&(k^A))+E[0]+3921069994&4294967295,w=k+(T<<20&4294967295|T>>>12),T=v+(k^A&(w^k))+E[5]+3593408605&4294967295,v=w+(T<<5&4294967295|T>>>27),T=A+(w^k&(v^w))+E[10]+38016083&4294967295,A=v+(T<<9&4294967295|T>>>23),T=k+(v^w&(A^v))+E[15]+3634488961&4294967295,k=A+(T<<14&4294967295|T>>>18),T=w+(A^v&(k^A))+E[4]+3889429448&4294967295,w=k+(T<<20&4294967295|T>>>12),T=v+(k^A&(w^k))+E[9]+568446438&4294967295,v=w+(T<<5&4294967295|T>>>27),T=A+(w^k&(v^w))+E[14]+3275163606&4294967295,A=v+(T<<9&4294967295|T>>>23),T=k+(v^w&(A^v))+E[3]+4107603335&4294967295,k=A+(T<<14&4294967295|T>>>18),T=w+(A^v&(k^A))+E[8]+1163531501&4294967295,w=k+(T<<20&4294967295|T>>>12),T=v+(k^A&(w^k))+E[13]+2850285829&4294967295,v=w+(T<<5&4294967295|T>>>27),T=A+(w^k&(v^w))+E[2]+4243563512&4294967295,A=v+(T<<9&4294967295|T>>>23),T=k+(v^w&(A^v))+E[7]+1735328473&4294967295,k=A+(T<<14&4294967295|T>>>18),T=w+(A^v&(k^A))+E[12]+2368359562&4294967295,w=k+(T<<20&4294967295|T>>>12),T=v+(w^k^A)+E[5]+4294588738&4294967295,v=w+(T<<4&4294967295|T>>>28),T=A+(v^w^k)+E[8]+2272392833&4294967295,A=v+(T<<11&4294967295|T>>>21),T=k+(A^v^w)+E[11]+1839030562&4294967295,k=A+(T<<16&4294967295|T>>>16),T=w+(k^A^v)+E[14]+4259657740&4294967295,w=k+(T<<23&4294967295|T>>>9),T=v+(w^k^A)+E[1]+2763975236&4294967295,v=w+(T<<4&4294967295|T>>>28),T=A+(v^w^k)+E[4]+1272893353&4294967295,A=v+(T<<11&4294967295|T>>>21),T=k+(A^v^w)+E[7]+4139469664&4294967295,k=A+(T<<16&4294967295|T>>>16),T=w+(k^A^v)+E[10]+3200236656&4294967295,w=k+(T<<23&4294967295|T>>>9),T=v+(w^k^A)+E[13]+681279174&4294967295,v=w+(T<<4&4294967295|T>>>28),T=A+(v^w^k)+E[0]+3936430074&4294967295,A=v+(T<<11&4294967295|T>>>21),T=k+(A^v^w)+E[3]+3572445317&4294967295,k=A+(T<<16&4294967295|T>>>16),T=w+(k^A^v)+E[6]+76029189&4294967295,w=k+(T<<23&4294967295|T>>>9),T=v+(w^k^A)+E[9]+3654602809&4294967295,v=w+(T<<4&4294967295|T>>>28),T=A+(v^w^k)+E[12]+3873151461&4294967295,A=v+(T<<11&4294967295|T>>>21),T=k+(A^v^w)+E[15]+530742520&4294967295,k=A+(T<<16&4294967295|T>>>16),T=w+(k^A^v)+E[2]+3299628645&4294967295,w=k+(T<<23&4294967295|T>>>9),T=v+(k^(w|~A))+E[0]+4096336452&4294967295,v=w+(T<<6&4294967295|T>>>26),T=A+(w^(v|~k))+E[7]+1126891415&4294967295,A=v+(T<<10&4294967295|T>>>22),T=k+(v^(A|~w))+E[14]+2878612391&4294967295,k=A+(T<<15&4294967295|T>>>17),T=w+(A^(k|~v))+E[5]+4237533241&4294967295,w=k+(T<<21&4294967295|T>>>11),T=v+(k^(w|~A))+E[12]+1700485571&4294967295,v=w+(T<<6&4294967295|T>>>26),T=A+(w^(v|~k))+E[3]+2399980690&4294967295,A=v+(T<<10&4294967295|T>>>22),T=k+(v^(A|~w))+E[10]+4293915773&4294967295,k=A+(T<<15&4294967295|T>>>17),T=w+(A^(k|~v))+E[1]+2240044497&4294967295,w=k+(T<<21&4294967295|T>>>11),T=v+(k^(w|~A))+E[8]+1873313359&4294967295,v=w+(T<<6&4294967295|T>>>26),T=A+(w^(v|~k))+E[15]+4264355552&4294967295,A=v+(T<<10&4294967295|T>>>22),T=k+(v^(A|~w))+E[6]+2734768916&4294967295,k=A+(T<<15&4294967295|T>>>17),T=w+(A^(k|~v))+E[13]+1309151649&4294967295,w=k+(T<<21&4294967295|T>>>11),T=v+(k^(w|~A))+E[4]+4149444226&4294967295,v=w+(T<<6&4294967295|T>>>26),T=A+(w^(v|~k))+E[11]+3174756917&4294967295,A=v+(T<<10&4294967295|T>>>22),T=k+(v^(A|~w))+E[2]+718787259&4294967295,k=A+(T<<15&4294967295|T>>>17),T=w+(A^(k|~v))+E[9]+3951481745&4294967295,g.g[0]=g.g[0]+v&4294967295,g.g[1]=g.g[1]+(k+(T<<21&4294967295|T>>>11))&4294967295,g.g[2]=g.g[2]+k&4294967295,g.g[3]=g.g[3]+A&4294967295}r.prototype.u=function(g,v){v===void 0&&(v=g.length);for(var w=v-this.blockSize,E=this.B,k=this.h,A=0;A<v;){if(k==0)for(;A<=w;)i(this,g,A),A+=this.blockSize;if(typeof g=="string"){for(;A<v;)if(E[k++]=g.charCodeAt(A++),k==this.blockSize){i(this,E),k=0;break}}else for(;A<v;)if(E[k++]=g[A++],k==this.blockSize){i(this,E),k=0;break}}this.h=k,this.o+=v},r.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var v=1;v<g.length-8;++v)g[v]=0;var w=8*this.o;for(v=g.length-8;v<g.length;++v)g[v]=w&255,w/=256;for(this.u(g),g=Array(16),v=w=0;4>v;++v)for(var E=0;32>E;E+=8)g[w++]=this.g[v]>>>E&255;return g};function s(g,v){var w=a;return Object.prototype.hasOwnProperty.call(w,g)?w[g]:w[g]=v(g)}function o(g,v){this.h=v;for(var w=[],E=!0,k=g.length-1;0<=k;k--){var A=g[k]|0;E&&A==v||(w[k]=A,E=!1)}this.g=w}var a={};function u(g){return-128<=g&&128>g?s(g,function(v){return new o([v|0],0>v?-1:0)}):new o([g|0],0>g?-1:0)}function c(g){if(isNaN(g)||!isFinite(g))return p;if(0>g)return L(c(-g));for(var v=[],w=1,E=0;g>=w;E++)v[E]=g/w|0,w*=4294967296;return new o(v,0)}function h(g,v){if(g.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(g.charAt(0)=="-")return L(h(g.substring(1),v));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(v,8)),E=p,k=0;k<g.length;k+=8){var A=Math.min(8,g.length-k),T=parseInt(g.substring(k,k+A),v);8>A?(A=c(Math.pow(v,A)),E=E.j(A).add(c(T))):(E=E.j(w),E=E.add(c(T)))}return E}var p=u(0),m=u(1),I=u(16777216);e=o.prototype,e.m=function(){if(x(this))return-L(this).m();for(var g=0,v=1,w=0;w<this.g.length;w++){var E=this.i(w);g+=(0<=E?E:4294967296+E)*v,v*=4294967296}return g},e.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(b(this))return"0";if(x(this))return"-"+L(this).toString(g);for(var v=c(Math.pow(g,6)),w=this,E="";;){var k=$(w,v).g;w=C(w,k.j(v));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(g);if(w=k,b(w))return A+E;for(;6>A.length;)A="0"+A;E=A+E}},e.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function b(g){if(g.h!=0)return!1;for(var v=0;v<g.g.length;v++)if(g.g[v]!=0)return!1;return!0}function x(g){return g.h==-1}e.l=function(g){return g=C(this,g),x(g)?-1:b(g)?0:1};function L(g){for(var v=g.g.length,w=[],E=0;E<v;E++)w[E]=~g.g[E];return new o(w,~g.h).add(m)}e.abs=function(){return x(this)?L(this):this},e.add=function(g){for(var v=Math.max(this.g.length,g.g.length),w=[],E=0,k=0;k<=v;k++){var A=E+(this.i(k)&65535)+(g.i(k)&65535),T=(A>>>16)+(this.i(k)>>>16)+(g.i(k)>>>16);E=T>>>16,A&=65535,T&=65535,w[k]=T<<16|A}return new o(w,w[w.length-1]&-2147483648?-1:0)};function C(g,v){return g.add(L(v))}e.j=function(g){if(b(this)||b(g))return p;if(x(this))return x(g)?L(this).j(L(g)):L(L(this).j(g));if(x(g))return L(this.j(L(g)));if(0>this.l(I)&&0>g.l(I))return c(this.m()*g.m());for(var v=this.g.length+g.g.length,w=[],E=0;E<2*v;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var k=0;k<g.g.length;k++){var A=this.i(E)>>>16,T=this.i(E)&65535,me=g.i(k)>>>16,We=g.i(k)&65535;w[2*E+2*k]+=T*We,_(w,2*E+2*k),w[2*E+2*k+1]+=A*We,_(w,2*E+2*k+1),w[2*E+2*k+1]+=T*me,_(w,2*E+2*k+1),w[2*E+2*k+2]+=A*me,_(w,2*E+2*k+2)}for(E=0;E<v;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=v;E<2*v;E++)w[E]=0;return new o(w,0)};function _(g,v){for(;(g[v]&65535)!=g[v];)g[v+1]+=g[v]>>>16,g[v]&=65535,v++}function S(g,v){this.g=g,this.h=v}function $(g,v){if(b(v))throw Error("division by zero");if(b(g))return new S(p,p);if(x(g))return v=$(L(g),v),new S(L(v.g),L(v.h));if(x(v))return v=$(g,L(v)),new S(L(v.g),v.h);if(30<g.g.length){if(x(g)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=v;0>=E.l(g);)w=j(w),E=j(E);var k=B(w,1),A=B(E,1);for(E=B(E,2),w=B(w,2);!b(E);){var T=A.add(E);0>=T.l(g)&&(k=k.add(w),A=T),E=B(E,1),w=B(w,1)}return v=C(g,k.j(v)),new S(k,v)}for(k=p;0<=g.l(v);){for(w=Math.max(1,Math.floor(g.m()/v.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),A=c(w),T=A.j(v);x(T)||0<T.l(g);)w-=E,A=c(w),T=A.j(v);b(A)&&(A=m),k=k.add(A),g=C(g,T)}return new S(k,g)}e.A=function(g){return $(this,g).h},e.and=function(g){for(var v=Math.max(this.g.length,g.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)&g.i(E);return new o(w,this.h&g.h)},e.or=function(g){for(var v=Math.max(this.g.length,g.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)|g.i(E);return new o(w,this.h|g.h)},e.xor=function(g){for(var v=Math.max(this.g.length,g.g.length),w=[],E=0;E<v;E++)w[E]=this.i(E)^g.i(E);return new o(w,this.h^g.h)};function j(g){for(var v=g.g.length+1,w=[],E=0;E<v;E++)w[E]=g.i(E)<<1|g.i(E-1)>>>31;return new o(w,g.h)}function B(g,v){var w=v>>5;v%=32;for(var E=g.g.length-w,k=[],A=0;A<E;A++)k[A]=0<v?g.i(A+w)>>>v|g.i(A+w+1)<<32-v:g.i(A+w);return new o(k,g.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,nw=o}).apply(typeof Vv<"u"?Vv:typeof self<"u"?self:typeof window<"u"?window:{});var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ua=="object"&&Ua];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var f=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var O=l[y];if(!(O in f))break e;f=f[O]}l=l[l.length-1],y=f[l],d=d(y),d!=y&&d!=null&&t(f,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var f=0,y=!1,O={next:function(){if(!y&&f<l.length){var U=f++;return{value:d(U,l[U]),done:!1}}return y=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,f){return l.call.apply(l.bind,arguments)}function p(l,d,f){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,y),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function m(l,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function I(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function b(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(y,O,U){for(var W=Array(arguments.length-2),be=2;be<arguments.length;be++)W[be-2]=arguments[be];return d.prototype[O].apply(y,W)}}function x(l){const d=l.length;if(0<d){const f=Array(d);for(let y=0;y<d;y++)f[y]=l[y];return f}return[]}function L(l,d){for(let f=1;f<arguments.length;f++){const y=arguments[f];if(u(y)){const O=l.length||0,U=y.length||0;l.length=O+U;for(let W=0;W<U;W++)l[O+W]=y[W]}else l.push(y)}}class C{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function $(l){return $[" "](l),l}$[" "]=function(){};var j=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function B(l,d,f){for(const y in l)d.call(f,l[y],y,l)}function g(l,d){for(const f in l)d.call(void 0,l[f],f,l)}function v(l){const d={};for(const f in l)d[f]=l[f];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(l,d){let f,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(f in y)l[f]=y[f];for(let U=0;U<w.length;U++)f=w[U],Object.prototype.hasOwnProperty.call(y,f)&&(l[f]=y[f])}}function k(l){var d=1;l=l.split(":");const f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function A(l){a.setTimeout(()=>{throw l},0)}function T(){var l=Y;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class me{constructor(){this.h=this.g=null}add(d,f){const y=We.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var We=new C(()=>new Et,l=>l.reset());class Et{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,z=!1,Y=new me,Q=()=>{const l=a.Promise.resolve(void 0);tt=()=>{l.then(de)}};var de=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(f){A(f)}var d=We;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Ct=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return l}();function qe(l,d){if(we.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(j){e:{try{$(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:nt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&qe.aa.h.call(this)}}b(qe,we);var nt={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),bo=0;function Lc(l,d,f,y,O){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=O,this.key=++bo,this.da=this.fa=!1}function rs(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function is(l){this.src=l,this.g={},this.h=0}is.prototype.add=function(l,d,f,y,O){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var W=Fn(l,d,y,O);return-1<W?(d=l[W],f||(d.fa=!1)):(d=new Lc(d,this.src,U,!!y,O),d.fa=f,l.push(d)),d};function it(l,d){var f=d.type;if(f in l.g){var y=l.g[f],O=Array.prototype.indexOf.call(y,d,void 0),U;(U=0<=O)&&Array.prototype.splice.call(y,O,1),U&&(rs(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Fn(l,d,f,y){for(var O=0;O<l.length;++O){var U=l[O];if(!U.da&&U.listener==d&&U.capture==!!f&&U.ha==y)return O}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),Eo={};function In(l,d,f,y,O){if(Array.isArray(d)){for(var U=0;U<d.length;U++)In(l,d[U],f,y,O);return null}return f=ls(f),l&&l[rt]?l.K(d,f,c(y)?!!y.capture:!!y,O):Nc(l,d,f,!1,y,O)}function Nc(l,d,f,y,O,U){if(!d)throw Error("Invalid event type");var W=c(O)?!!O.capture:!!O,be=jn(l);if(be||(l[ss]=be=new is(l)),f=be.add(d,f,y,W,U),f.proxy)return f;if(y=Dc(),f.proxy=y,y.src=l,y.listener=f,l.addEventListener)Ct||(O=W),O===void 0&&(O=!1),l.addEventListener(d.toString(),y,O);else if(l.attachEvent)l.attachEvent(oa(d.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Dc(){function l(f){return d.call(l.src,l.listener,f)}const d=_i;return l}function sa(l,d,f,y,O){if(Array.isArray(d))for(var U=0;U<d.length;U++)sa(l,d[U],f,y,O);else y=c(y)?!!y.capture:!!y,f=ls(f),l&&l[rt]?(l=l.i,d=String(d).toString(),d in l.g&&(U=l.g[d],f=Fn(U,f,y,O),-1<f&&(rs(U[f]),Array.prototype.splice.call(U,f,1),U.length==0&&(delete l.g[d],l.h--)))):l&&(l=jn(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Fn(d,f,y,O)),(f=-1<l?d[l]:null)&&Co(f))}function Co(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[rt])it(d.i,l);else{var f=l.type,y=l.proxy;d.removeEventListener?d.removeEventListener(f,y,l.capture):d.detachEvent?d.detachEvent(oa(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=jn(d))?(it(f,l),f.h==0&&(f.src=null,d[ss]=null)):rs(l)}}}function oa(l){return l in Eo?Eo[l]:Eo[l]="on"+l}function _i(l,d){if(l.da)l=!0;else{d=new qe(d,this);var f=l.listener,y=l.ha||l.src;l.fa&&Co(l),l=f.call(y,d)}return l}function jn(l){return l=l[ss],l instanceof is?l:null}var os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(l){return typeof l=="function"?l:(l[os]||(l[os]=function(d){return l.handleEvent(d)}),l[os])}function Te(){re.call(this),this.i=new is(this),this.M=this,this.F=null}b(Te,re),Te.prototype[rt]=!0,Te.prototype.removeEventListener=function(l,d,f,y){sa(this,l,d,f,y)};function je(l,d){var f,y=l.F;if(y)for(f=[];y;y=y.F)f.push(y);if(l=l.M,y=d.type||d,typeof d=="string")d=new we(d,l);else if(d instanceof we)d.target=d.target||l;else{var O=d;d=new we(y,l),E(d,O)}if(O=!0,f)for(var U=f.length-1;0<=U;U--){var W=d.g=f[U];O=wi(W,y,!0,d)&&O}if(W=d.g=l,O=wi(W,y,!0,d)&&O,O=wi(W,y,!1,d)&&O,f)for(U=0;U<f.length;U++)W=d.g=f[U],O=wi(W,y,!1,d)&&O}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],y=0;y<f.length;y++)rs(f[y]);delete l.g[d],l.h--}}this.F=null},Te.prototype.K=function(l,d,f,y){return this.i.add(String(l),d,!1,f,y)},Te.prototype.L=function(l,d,f,y){return this.i.add(String(l),d,!0,f,y)};function wi(l,d,f,y){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,U=0;U<d.length;++U){var W=d[U];if(W&&!W.da&&W.capture==f){var be=W.listener,lt=W.ha||W.src;W.fa&&it(l.i,W),O=be.call(lt,y)!==!1&&O}}return O&&!y.defaultPrevented}function bi(l,d,f){if(typeof l=="function")f&&(l=m(l,f));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function la(l){l.g=bi(()=>{l.g=null,l.i&&(l.i=!1,la(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class xn extends re{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:la(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(l){re.call(this),this.h=l,this.g={}}b(wr,re);var So=[];function To(l){B(l.g,function(d,f){this.g.hasOwnProperty(f)&&Co(d)},l),l.g={}}wr.prototype.N=function(){wr.aa.N.call(this),To(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Io=a.JSON.stringify,aa=a.JSON.parse,as=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function us(){}us.prototype.h=null;function cs(l){return l.h||(l.h=l.i())}function Mc(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xo(){we.call(this,"d")}b(xo,we);function ds(){we.call(this,"c")}b(ds,we);var Er={},R=null;function D(){return R=R||new Te}Er.La="serverreachability";function F(l){we.call(this,Er.La,l)}b(F,we);function H(l){const d=D();je(d,new F(d))}Er.STAT_EVENT="statevent";function K(l,d){we.call(this,Er.STAT_EVENT,l),this.stat=d}b(K,we);function q(l){const d=D();je(d,new K(d,l))}Er.Ma="timingevent";function J(l,d){we.call(this,Er.Ma,l),this.size=d}b(J,we);function G(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function te(){this.g=!0}te.prototype.xa=function(){this.g=!1};function ne(l,d,f,y,O,U){l.info(function(){if(l.g)if(U)for(var W="",be=U.split("&"),lt=0;lt<be.length;lt++){var ge=be[lt].split("=");if(1<ge.length){var ht=ge[0];ge=ge[1];var ft=ht.split("_");W=2<=ft.length&&ft[1]=="type"?W+(ht+"="+ge+"&"):W+(ht+"=redacted&")}}else W=null;else W=U;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+d+`
`+f+`
`+W})}function Ye(l,d,f,y,O,U,W){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+d+`
`+f+`
`+U+" "+W})}function Pe(l,d,f,y){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ce(l,f)+(y?" "+y:"")})}function Z(l,d){l.info(function(){return"TIMEOUT: "+d})}te.prototype.info=function(){};function Ce(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var y=f[l];if(!(2>y.length)){var O=y[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return Io(f)}catch{return d}}var Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xt;function hn(){}b(hn,us),hn.prototype.g=function(){return new XMLHttpRequest},hn.prototype.i=function(){return{}},Xt=new hn;function St(l,d,f,y){this.j=l,this.i=d,this.l=f,this.R=y||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var jt={},Cr={};function Sr(l,d,f){l.L=1,l.v=da(Hn(d)),l.m=f,l.P=!0,Ci(l,null)}function Ci(l,d){l.F=Date.now(),ot(l),l.A=Hn(l.v);var f=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),hm(f.i,"t",y),l.C=0,f=l.j.J,l.h=new zn,l.g=Pm(l.j,f?d:null,!l.m),0<l.O&&(l.M=new xn(m(l.Y,l,l.g),l.O)),d=l.U,f=l.g,y=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(So[0]=O.toString()),O=So);for(var U=0;U<O.length;U++){var W=In(f,O[U],y||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),H(),ne(l.i,l.u,l.A,l.l,l.R,l.m)}St.prototype.ca=function(l){l=l.target;const d=this.M;d&&Wn(l)==3?d.j():this.Y(l)},St.prototype.Y=function(l){try{if(l==this.g)e:{const ft=Wn(this.g);var d=this.g.Ba();const ps=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||_m(this.g)))){this.J||ft!=4||d==7||(d==8||0>=ps?H(3):H(2)),Vn(this);var f=this.g.Z();this.X=f;t:if(ue(this)){var y=_m(this.g);l="";var O=y.length,U=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Tr(this);var W="";break t}this.h.i=new a.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(y[d],{stream:!(U&&d==O-1)});y.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=f==200,Ye(this.i,this.u,this.A,this.l,this.R,ft,f),this.o){if(this.T&&!this.K){t:{if(this.g){var be,lt=this.g;if((be=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(be)){var ge=be;break t}}ge=null}if(f=ge)Pe(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$c(this,f);else{this.o=!1,this.s=3,q(12),Bn(this),Tr(this);break e}}if(this.P){f=!0;let fn;for(;!this.J&&this.C<W.length;)if(fn=st(this,W),fn==Cr){ft==4&&(this.s=4,q(14),f=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==jt){this.s=4,q(15),Pe(this.i,this.l,W,"[Invalid Chunk]"),f=!1;break}else Pe(this.i,this.l,fn,null),$c(this,fn);if(ue(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||W.length!=0||this.h.h||(this.s=1,q(16),f=!1),this.o=this.o&&f,!f)Pe(this.i,this.l,W,"[Invalid Chunked Response]"),Bn(this),Tr(this);else if(0<W.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Bc(ht),ht.M=!0,q(11))}}else Pe(this.i,this.l,W,null),$c(this,W);ft==4&&Bn(this),this.o&&!this.J&&(ft==4?Im(this.j,this):(this.o=!1,ot(this)))}else eb(this.g),f==400&&0<W.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),Bn(this),Tr(this)}}}catch{}finally{}};function ue(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function st(l,d){var f=l.C,y=d.indexOf(`
`,f);return y==-1?Cr:(f=Number(d.substring(f,y)),isNaN(f)?jt:(y+=1,y+f>d.length?Cr:(d=d.slice(y,y+f),l.C=y+f,d)))}St.prototype.cancel=function(){this.J=!0,Bn(this)};function ot(l){l.S=Date.now()+l.I,Ge(l,l.I)}function Ge(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=G(m(l.ba,l),d)}function Vn(l){l.B&&(a.clearTimeout(l.B),l.B=null)}St.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Z(this.i,this.A),this.L!=2&&(H(),q(17)),Bn(this),this.s=2,Tr(this)):Ge(this,this.S-l)};function Tr(l){l.j.G==0||l.J||Im(l.j,l)}function Bn(l){Vn(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,To(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function $c(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||Uc(f.h,l))){if(!l.K&&Uc(f.h,l)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)va(f),ma(f);else break e;Vc(f),q(18)}}else f.za=O[1],0<f.za-f.T&&37500>O[2]&&f.F&&f.v==0&&!f.C&&(f.C=G(m(f.Za,f),6e3));if(1>=rm(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ti(f,11)}else if((l.K||f.g==l)&&va(f),!_(d))for(O=f.Da.g.parse(d),d=0;d<O.length;d++){let ge=O[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];const ht=ge[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));const ft=ge[4];ft!=null&&(f.Aa=ft,f.j.info("SVER="+f.Aa));const ps=ge[5];ps!=null&&typeof ps=="number"&&0<ps&&(y=1.5*ps,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const fn=l.g;if(fn){const ya=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var U=y.h;U.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Fc(U,U.h),U.h=null))}if(y.D){const Hc=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hc&&(y.ya=Hc,Ie(y.I,y.D,Hc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var W=l;if(y.qa=Am(y,y.J?y.ia:null,y.W),W.K){im(y.h,W);var be=W,lt=y.L;lt&&(be.I=lt),be.B&&(Vn(be),ot(be)),y.g=W}else Sm(y);0<f.i.length&&ga(f)}else ge[0]!="stop"&&ge[0]!="close"||Ti(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Ti(f,7):zc(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}H(4)}catch{}}var U2=class{constructor(l,d){this.g=l,this.map=d}};function tm(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function rm(l){return l.h?1:l.g?l.g.size:0}function Uc(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Fc(l,d){l.g?l.g.add(d):l.h=d}function im(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}tm.prototype.cancel=function(){if(this.i=sm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function sm(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const f of l.g.values())d=d.concat(f.D);return d}return x(l.i)}function F2(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],f=l.length,y=0;y<f;y++)d.push(l[y]);return d}d=[],f=0;for(y in l)d[f++]=l[y];return d}function j2(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(const y in l)d[f++]=y;return d}}}function om(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=j2(l),y=F2(l),O=y.length,U=0;U<O;U++)d.call(void 0,y[U],f&&f[U],l)}var lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z2(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var y=l[f].indexOf("="),O=null;if(0<=y){var U=l[f].substring(0,y);O=l[f].substring(y+1)}else U=l[f];d(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Si(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Si){this.h=l.h,ua(this,l.j),this.o=l.o,this.g=l.g,ca(this,l.s),this.l=l.l;var d=l.i,f=new Po;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),am(this,f),this.m=l.m}else l&&(d=String(l).match(lm))?(this.h=!1,ua(this,d[1]||"",!0),this.o=ko(d[2]||""),this.g=ko(d[3]||"",!0),ca(this,d[4]),this.l=ko(d[5]||"",!0),am(this,d[6]||"",!0),this.m=ko(d[7]||"")):(this.h=!1,this.i=new Po(null,this.h))}Si.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ao(d,um,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ao(d,um,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Ao(f,f.charAt(0)=="/"?H2:B2,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Ao(f,G2)),l.join("")};function Hn(l){return new Si(l)}function ua(l,d,f){l.j=f?ko(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function ca(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function am(l,d,f){d instanceof Po?(l.i=d,K2(l.i,l.h)):(f||(d=Ao(d,W2)),l.i=new Po(d,l.h))}function Ie(l,d,f){l.i.set(d,f)}function da(l){return Ie(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ko(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ao(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,V2),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function V2(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var um=/[#\/\?@]/g,B2=/[#\?:]/g,H2=/[#\?]/g,W2=/[#\?@]/g,G2=/#/g;function Po(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Ir(l){l.g||(l.g=new Map,l.h=0,l.i&&z2(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}e=Po.prototype,e.add=function(l,d){Ir(this),this.i=null,l=hs(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function cm(l,d){Ir(l),d=hs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function dm(l,d){return Ir(l),d=hs(l,d),l.g.has(d)}e.forEach=function(l,d){Ir(this),this.g.forEach(function(f,y){f.forEach(function(O){l.call(d,O,y,this)},this)},this)},e.na=function(){Ir(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){const O=l[y];for(let U=0;U<O.length;U++)f.push(d[y])}return f},e.V=function(l){Ir(this);let d=[];if(typeof l=="string")dm(this,l)&&(d=d.concat(this.g.get(hs(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},e.set=function(l,d){return Ir(this),this.i=null,l=hs(this,l),dm(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},e.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function hm(l,d,f){cm(l,d),0<f.length&&(l.i=null,l.g.set(hs(l,d),x(f)),l.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];const U=encodeURIComponent(String(y)),W=this.V(y);for(y=0;y<W.length;y++){var O=U;W[y]!==""&&(O+="="+encodeURIComponent(String(W[y]))),l.push(O)}}return this.i=l.join("&")};function hs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function K2(l,d){d&&!l.j&&(Ir(l),l.i=null,l.g.forEach(function(f,y){var O=y.toLowerCase();y!=O&&(cm(this,y),hm(this,O,f))},l)),l.j=d}function X2(l,d){const f=new te;if(a.Image){const y=new Image;y.onload=I(xr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=I(xr,f,"TestLoadImage: error",!1,d,y),y.onabort=I(xr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=I(xr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else d(!1)}function q2(l,d){const f=new te,y=new AbortController,O=setTimeout(()=>{y.abort(),xr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:y.signal}).then(U=>{clearTimeout(O),U.ok?xr(f,"TestPingServer: ok",!0,d):xr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),xr(f,"TestPingServer: error",!1,d)})}function xr(l,d,f,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(f)}catch{}}function Y2(){this.g=new as}function J2(l,d,f){const y=f||"";try{om(l,function(O,U){let W=O;c(O)&&(W=Io(O)),d.push(y+U+"="+encodeURIComponent(W))})}catch(O){throw d.push(y+"type="+encodeURIComponent("_badmap")),O}}function ha(l){this.l=l.Ub||null,this.j=l.eb||!1}b(ha,us),ha.prototype.g=function(){return new fa(this.l,this.j)},ha.prototype.i=function(l){return function(){return l}}({});function fa(l,d){Te.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(fa,Te),e=fa.prototype,e.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Oo(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fm(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function fm(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ro(this):Oo(this),this.readyState==3&&fm(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Ro(this))},e.Qa=function(l){this.g&&(this.response=l,Ro(this))},e.ga=function(){this.g&&Ro(this)};function Ro(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Oo(l)}e.setRequestHeader=function(l,d){this.u.append(l,d)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function Oo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function pm(l){let d="";return B(l,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function jc(l,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=pm(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Ie(l,d,f))}function ze(l){Te.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ze,Te);var Q2=/^https?$/i,Z2=["POST","PUT"];e=ze.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xt.g(),this.v=this.o?cs(this.o):cs(Xt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(U){mm(this,U);return}if(l=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)f.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const U of y.keys())f.set(U,y.get(U));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(U=>U.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Z2,d,void 0))||y||O||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,W]of f)this.g.setRequestHeader(U,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ym(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){mm(this,U)}};function mm(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,gm(l),pa(l)}function gm(l){l.A||(l.A=!0,je(l,"complete"),je(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,je(this,"complete"),je(this,"abort"),pa(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),ze.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?vm(this):this.bb())},e.bb=function(){vm(this)};function vm(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Wn(l)!=4||l.Z()!=2)){if(l.u&&Wn(l)==4)bi(l.Ea,0,l);else if(je(l,"readystatechange"),Wn(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=W===0){var O=String(l.D).match(lm)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),y=!Q2.test(O?O.toLowerCase():"")}f=y}if(f)je(l,"complete"),je(l,"success");else{l.m=6;try{var U=2<Wn(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",gm(l)}}finally{pa(l)}}}}function pa(l,d){if(l.g){ym(l);const f=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||je(l,"ready");try{f.onreadystatechange=y}catch{}}}function ym(l){l.I&&(a.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function Wn(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),aa(d)}};function _m(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function eb(l){const d={};l=(l.g&&2<=Wn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(_(l[y]))continue;var f=k(l[y]);const O=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const U=d[O]||[];d[O]=U,U.push(f)}g(d,function(y){return y.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function wm(l){this.Aa=0,this.i=[],this.j=new te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,l),this.cb=Lo("retryDelaySeedMs",1e4,l),this.Wa=Lo("forwardChannelMaxRetries",2,l),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new tm(l&&l.concurrentRequestLimit),this.Da=new Y2,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=wm.prototype,e.la=8,e.G=1,e.connect=function(l,d,f,y){q(0),this.W=l,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=Am(this,null,this.W),ga(this)};function zc(l){if(bm(l),l.G==3){var d=l.U++,f=Hn(l.I);if(Ie(f,"SID",l.K),Ie(f,"RID",d),Ie(f,"TYPE","terminate"),No(l,f),d=new St(l,l.j,d),d.L=2,d.v=da(Hn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Pm(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ot(d)}km(l)}function ma(l){l.g&&(Bc(l),l.g.cancel(),l.g=null)}function bm(l){ma(l),l.u&&(a.clearTimeout(l.u),l.u=null),va(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ga(l){if(!nm(l.h)&&!l.s){l.s=!0;var d=l.Ga;tt||Q(),z||(tt(),z=!0),Y.add(d,l),l.B=0}}function tb(l,d){return rm(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=G(m(l.Ga,l,d),xm(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new St(this,this.j,l);let U=this.o;if(this.S&&(U?(U=v(U),E(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Cm(this,O,d),f=Hn(this.I),Ie(f,"RID",l),Ie(f,"CVER",22),this.D&&Ie(f,"X-HTTP-Session-Id",this.D),No(this,f),U&&(this.O?d="headers="+encodeURIComponent(String(pm(U)))+"&"+d:this.m&&jc(f,this.m,U)),Fc(this.h,O),this.Ua&&Ie(f,"TYPE","init"),this.P?(Ie(f,"$req",d),Ie(f,"SID","null"),O.T=!0,Sr(O,f,null)):Sr(O,f,d),this.G=2}}else this.G==3&&(l?Em(this,l):this.i.length==0||nm(this.h)||Em(this))};function Em(l,d){var f;d?f=d.l:f=l.U++;const y=Hn(l.I);Ie(y,"SID",l.K),Ie(y,"RID",f),Ie(y,"AID",l.T),No(l,y),l.m&&l.o&&jc(y,l.m,l.o),f=new St(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Cm(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Fc(l.h,f),Sr(f,y,d)}function No(l,d){l.H&&B(l.H,function(f,y){Ie(d,y,f)}),l.l&&om({},function(f,y){Ie(d,y,f)})}function Cm(l,d,f){f=Math.min(l.i.length,f);var y=l.l?m(l.l.Na,l.l,l):null;e:{var O=l.i;let U=-1;for(;;){const W=["count="+f];U==-1?0<f?(U=O[0].g,W.push("ofs="+U)):U=0:W.push("ofs="+U);let be=!0;for(let lt=0;lt<f;lt++){let ge=O[lt].g;const ht=O[lt].map;if(ge-=U,0>ge)U=Math.max(0,O[lt].g-100),be=!1;else try{J2(ht,W,"req"+ge+"_")}catch{y&&y(ht)}}if(be){y=W.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,y}function Sm(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;tt||Q(),z||(tt(),z=!0),Y.add(d,l),l.v=0}}function Vc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=G(m(l.Fa,l),xm(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Tm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=G(m(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),ma(this),Tm(this))};function Bc(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Tm(l){l.g=new St(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Hn(l.qa);Ie(d,"RID","rpc"),Ie(d,"SID",l.K),Ie(d,"AID",l.T),Ie(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ie(d,"TO",l.ja),Ie(d,"TYPE","xmlhttp"),No(l,d),l.m&&l.o&&jc(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=da(Hn(d)),f.m=null,f.P=!0,Ci(f,l)}e.Za=function(){this.C!=null&&(this.C=null,ma(this),Vc(this),q(19))};function va(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Im(l,d){var f=null;if(l.g==d){va(l),Bc(l),l.g=null;var y=2}else if(Uc(l.h,d))f=d.D,im(l.h,d),y=1;else return;if(l.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;y=D(),je(y,new J(y,f)),ga(l)}else Sm(l);else if(O=d.s,O==3||O==0&&0<d.X||!(y==1&&tb(l,d)||y==2&&Vc(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),O){case 1:Ti(l,5);break;case 4:Ti(l,10);break;case 3:Ti(l,6);break;default:Ti(l,2)}}}function xm(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function Ti(l,d){if(l.j.info("Error code "+d),d==2){var f=m(l.fb,l),y=l.Xa;const O=!y;y=new Si(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ua(y,"https"),da(y),O?X2(y.toString(),f):q2(y.toString(),f)}else q(2);l.G=0,l.l&&l.l.sa(d),km(l),bm(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function km(l){if(l.G=0,l.ka=[],l.l){const d=sm(l.h);(d.length!=0||l.i.length!=0)&&(L(l.ka,d),L(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function Am(l,d,f){var y=f instanceof Si?Hn(f):new Si(f);if(y.g!="")d&&(y.g=d+"."+y.g),ca(y,y.s);else{var O=a.location;y=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var U=new Si(null);y&&ua(U,y),d&&(U.g=d),O&&ca(U,O),f&&(U.l=f),y=U}return f=l.D,d=l.ya,f&&d&&Ie(y,f,d),Ie(y,"VER",l.la),No(l,y),y}function Pm(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new ze(new ha({eb:f})):new ze(l.pa),d.Ha(l.J),d}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rm(){}e=Rm.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function qt(l,d){Te.call(this),this.g=new wm(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!_(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new fs(this)}b(qt,Te),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){zc(this.g)},qt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Io(l),l=f);d.i.push(new U2(d.Ya++,l)),d.G==3&&ga(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,qt.aa.N.call(this)};function Om(l){xo.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}b(Om,xo);function Lm(){ds.call(this),this.status=1}b(Lm,ds);function fs(l){this.g=l}b(fs,Rm),fs.prototype.ua=function(){je(this.g,"a")},fs.prototype.ta=function(l){je(this.g,new Om(l))},fs.prototype.sa=function(l){je(this.g,new Lm)},fs.prototype.ra=function(){je(this.g,"b")},qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,Ei.COMPLETE="complete",Mc.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",Te.prototype.listen=Te.prototype.K,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha}).apply(typeof Ua<"u"?Ua:typeof self<"u"?self:typeof window<"u"?window:{});const Bv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new rp("@firebase/firestore");function Bt(e,...t){if(so.logLevel<=ve.DEBUG){const n=t.map(yp);so.debug(`Firestore (${Zl}): ${e}`,...n)}}function vp(e,...t){if(so.logLevel<=ve.ERROR){const n=t.map(yp);so.error(`Firestore (${Zl}): ${e}`,...n)}}function qA(e,...t){if(so.logLevel<=ve.WARN){const n=t.map(yp);so.warn(`Firestore (${Zl}): ${e}`,...n)}}function yp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(e="Unexpected state"){const t=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: `+e;throw vp(t),new Error(t)}function Hh(e,t){e||_p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends vr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class JA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QA{constructor(t){this.t=t,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gs,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gs)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hh(typeof r.accessToken=="string"),new rw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Hh(t===null||typeof t=="string"),new gt(t)}}class ZA{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class e4{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZA(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t4{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n4{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Bt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Hh(typeof n.token=="string"),this.R=n.token,new t4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=r4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function iw(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,n,r,i,s,o,a,u,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Bu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Bu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hv,he;(he=Hv||(Hv={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new nw([4294967295,4294967295],0);function xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t,n,r=1e3,i=1.5,s=6e4){this.oi=t,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Bt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new wp(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(yt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l4(e,t){if(vp("AsyncQueue",`${t}: ${e}`),iw(e))return new _t(yt.UNAVAILABLE,`${t}: ${e}`);throw e}var Wv,Gv;(Gv=Wv||(Wv={})).J_="default",Gv.Cache="cache";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=i4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Bt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Bt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _t(yt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=l4(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;function u4(e,t,n,r){if(t===!0&&r===!0)throw new _t(yt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function c4(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_p()}function d4(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _t(yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=c4(e);throw new _t(yt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new _t(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}u4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sw((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ow{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _t(yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new _t(yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YA;switch(r.type){case"firstParty":return new e4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Kv.get(n);r&&(Bt("ComponentProvider","Removing Datastore"),Kv.delete(n),r.terminate())}(this),Promise.resolve()}}function h4(e,t,n,r={}){var i;const s=(e=d4(e,ow))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qA("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=gt.MOCK_USER;else{a=fI(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new _t(yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gt(c)}e._authCredentials=new JA(new rw(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new o4(this,"async_queue_retry"),this.hu=()=>{const n=xd();n&&Bt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const t=xd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Gs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!iw(t))throw t;Bt("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vp("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const i=wp.createAndSchedule(this,t,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&_p()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class p4 extends ow{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new f4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||g4(this),this._firestoreClient.terminate()}}function m4(e,t){const n=typeof e=="object"?e:_1(),r=typeof e=="string"?e:"(default)",i=sp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dI("firestore");s&&h4(i,...s)}return i}function g4(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,c,h){return new s4(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sw(h.experimentalLongPollingOptions),h.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new a4(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(t,n=!0){(function(i){Zl=i})(go),io(new Xi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new p4(new QA(r.getProvider("auth-internal")),new n4(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new _t(yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ei(Bv,"4.6.3",t),ei(Bv,"4.6.3","esm2017")})();const v4={apiKey:"AIzaSyDKuvPzNmeXlqxNRyciKVdLetWxjNVjDnQ",authDomain:"edelgram-e14a7.firebaseapp.com",projectId:"edelgram-e14a7",storageBucket:"edelgram-e14a7.appspot.com",messagingSenderId:"524024204359",appId:"1:524024204359:web:23b7b1b859d1cc81e13562"},lw=y1(v4),ea=tw(lw);m4(lw);const aw=(e,t)=>Lk(ea,e,t),uw=(e,t)=>Ok(ea,e,t),cw=()=>{Mk(ea)},dw=()=>{const e=new Qn;return rA(ea,e)},hw=M.createContext({user:null,logIn:aw,signUp:uw,logOut:cw,googleSignIn:dw}),y4=({children:e})=>{const[t,n]=M.useState(null);M.useEffect(()=>{const i=B1(ea,s=>(s&&(console.log("The logged in user state is:",s),n(s)),()=>{i()}))},[]);const r={user:t,logIn:aw,signUp:uw,logOut:cw,googleSignIn:dw};return P.jsx(hw.Provider,{value:r,children:e})},_c=()=>M.useContext(hw),_4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20stroke-width='1.5'%20stroke='currentColor'%20class='size-6'%3e%3cpath%20stroke-linecap='round'%20stroke-linejoin='round'%20d='M8.25%209V5.25A2.25%202.25%200%200%201%2010.5%203h6a2.25%202.25%200%200%201%202.25%202.25v13.5A2.25%202.25%200%200%201%2016.5%2021h-6a2.25%202.25%200%200%201-2.25-2.25V15m-3%200-3-3m0%200%203-3m-3%203H15'%20/%3e%3c/svg%3e",w4=()=>{const{pathname:e}=ts(),{logOut:t}=_c();return P.jsxs("nav",{className:"flex flex-col relative h-screen max-w-sm w-full",children:[P.jsx("div",{className:"flex justify-center m-5",children:P.jsx("div",{className:"text-white text-lg",children:"Edelgram"})}),rI.map(n=>P.jsx("div",{className:un(Nh({variant:"default"}),e===n.link?"bg-white text-white-800 hover:bg-white rounded-none":"hover:bg-slate-950 hover:text-white bg-transparent rounded-none","justify-start"),children:P.jsxs(Nu,{to:n.link,className:"flex",children:[P.jsx("span",{children:P.jsx("img",{src:n.icon,alt:n.name,className:"w-5 h-5 mr-2",style:{filter:`${e===n.link?"invert(0)":"invert(1)"}`}})}),P.jsx("span",{children:n.name})]})},n.name)),P.jsx("div",{className:un(Nh({variant:"default"}),e==="/edelgram/login"?"bg-white text-white-800 hover:bg-white rounded-none":"hover:bg-slate-950 hover:text-white bg-transparent rounded-none","justify-start"),children:P.jsxs(Nu,{to:"/edelgram/login",className:"flex",onClick:t,children:[P.jsx("span",{children:P.jsx("img",{src:_4,className:"w-5 h-5 mr-2",alt:"Logout",style:{filter:`${e==="/edelgram/login"?"invert(0)":"invert(1)"}`}})}),P.jsx("span",{children:"Logout"})]})})]})},b4=()=>P.jsx("div",{children:"UserList"}),wc=({children:e})=>P.jsxs("div",{className:"flex bg-white",children:[P.jsx("aside",{className:"flex gap-x-4 bg-gray-800 fixed top-0 left-0 z-40 lg:w-60 h-screen",children:P.jsx(w4,{})}),P.jsx("div",{className:"lg:ml-60 lg:mr-60 p-8 flex-1 ml-36",children:e}),P.jsx("aside",{className:"hidden lg:block bg-gray-800 fixed top-0 right-0 z-40 lg:w-60 h-screen",children:P.jsx(b4,{})})]}),E4=()=>P.jsx(wc,{children:P.jsx("div",{children:"Home"})}),vs=()=>P.jsx("div",{children:"Error"}),bp=M.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:un("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));bp.displayName="Card";const Ep=M.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:un("flex flex-col space-y-1.5 p-6",e),...t}));Ep.displayName="CardHeader";const Cp=M.forwardRef(({className:e,...t},n)=>P.jsx("h3",{ref:n,className:un("text-2xl font-semibold leading-none tracking-tight",e),...t}));Cp.displayName="CardTitle";const Sp=M.forwardRef(({className:e,...t},n)=>P.jsx("p",{ref:n,className:un("text-sm text-muted-foreground",e),...t}));Sp.displayName="CardDescription";const Tp=M.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:un("p-6 pt-0",e),...t}));Tp.displayName="CardContent";const Ip=M.forwardRef(({className:e,...t},n)=>P.jsx("div",{ref:n,className:un("flex items-center p-6 pt-0",e),...t}));Ip.displayName="CardFooter";const Ks=M.forwardRef(({className:e,type:t,...n},r)=>P.jsx("input",{type:t,className:un("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Ks.displayName="Input";const C4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],S4=C4.reduce((e,t)=>{const n=M.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?tp:t;return M.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),M.createElement(a,no({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),T4=M.forwardRef((e,t)=>M.createElement(S4.label,no({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),fw=T4,I4=u1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ti=M.forwardRef(({className:e,...t},n)=>P.jsx(fw,{ref:n,className:un(I4(),e),...t}));ti.displayName=fw.displayName;const pw={logo:e=>P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",...e,children:[P.jsx("rect",{width:"256",height:"256",fill:"none"}),P.jsx("line",{x1:"208",y1:"128",x2:"128",y2:"208",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),P.jsx("line",{x1:"192",y1:"40",x2:"40",y2:"192",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]}),twitter:e=>P.jsx("svg",{...e,height:"23",viewBox:"0 0 1200 1227",width:"23",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"})}),gitHub:e=>P.jsx("svg",{viewBox:"0 0 438.549 438.549",...e,children:P.jsx("path",{fill:"currentColor",d:"M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z"})}),radix:e=>P.jsxs("svg",{viewBox:"0 0 25 25",fill:"none",...e,children:[P.jsx("path",{d:"M12 25C7.58173 25 4 21.4183 4 17C4 12.5817 7.58173 9 12 9V25Z",fill:"currentcolor"}),P.jsx("path",{d:"M12 0H4V8H12V0Z",fill:"currentcolor"}),P.jsx("path",{d:"M17 8C19.2091 8 21 6.20914 21 4C21 1.79086 19.2091 0 17 0C14.7909 0 13 1.79086 13 4C13 6.20914 14.7909 8 17 8Z",fill:"currentcolor"})]}),aria:e=>P.jsx("svg",{role:"img",viewBox:"0 0 24 24",fill:"currentColor",...e,children:P.jsx("path",{d:"M13.966 22.624l-1.69-4.281H8.122l3.892-9.144 5.662 13.425zM8.884 1.376H0v21.248zm15.116 0h-8.884L24 22.624Z"})}),npm:e=>P.jsx("svg",{viewBox:"0 0 24 24",...e,children:P.jsx("path",{d:"M1.763 0C.786 0 0 .786 0 1.763v20.474C0 23.214.786 24 1.763 24h20.474c.977 0 1.763-.786 1.763-1.763V1.763C24 .786 23.214 0 22.237 0zM5.13 5.323l13.837.019-.009 13.836h-3.464l.01-10.382h-3.456L12.04 19.17H5.113z",fill:"currentColor"})}),yarn:e=>P.jsx("svg",{viewBox:"0 0 24 24",...e,children:P.jsx("path",{d:"M12 0C5.375 0 0 5.375 0 12s5.375 12 12 12 12-5.375 12-12S18.625 0 12 0zm.768 4.105c.183 0 .363.053.525.157.125.083.287.185.755 1.154.31-.088.468-.042.551-.019.204.056.366.19.463.375.477.917.542 2.553.334 3.605-.241 1.232-.755 2.029-1.131 2.576.324.329.778.899 1.117 1.825.278.774.31 1.478.273 2.015a5.51 5.51 0 0 0 .602-.329c.593-.366 1.487-.917 2.553-.931.714-.009 1.269.445 1.353 1.103a1.23 1.23 0 0 1-.945 1.362c-.649.158-.95.278-1.821.843-1.232.797-2.539 1.242-3.012 1.39a1.686 1.686 0 0 1-.704.343c-.737.181-3.266.315-3.466.315h-.046c-.783 0-1.214-.241-1.45-.491-.658.329-1.51.19-2.122-.134a1.078 1.078 0 0 1-.58-1.153 1.243 1.243 0 0 1-.153-.195c-.162-.25-.528-.936-.454-1.946.056-.723.556-1.367.88-1.71a5.522 5.522 0 0 1 .408-2.256c.306-.727.885-1.348 1.32-1.737-.32-.537-.644-1.367-.329-2.21.227-.602.412-.936.82-1.08h-.005c.199-.074.389-.153.486-.259a3.418 3.418 0 0 1 2.298-1.103c.037-.093.079-.185.125-.283.31-.658.639-1.029 1.024-1.168a.94.94 0 0 1 .328-.06zm.006.7c-.507.016-1.001 1.519-1.001 1.519s-1.27-.204-2.266.871c-.199.218-.468.334-.746.44-.079.028-.176.023-.417.672-.371.991.625 2.094.625 2.094s-1.186.839-1.626 1.881c-.486 1.144-.338 2.261-.338 2.261s-.843.732-.899 1.487c-.051.663.139 1.2.343 1.515.227.343.51.176.51.176s-.561.653-.037.931c.477.25 1.283.394 1.71-.037.31-.31.371-1.001.486-1.283.028-.065.12.111.209.199.097.093.264.195.264.195s-.755.324-.445 1.066c.102.246.468.403 1.066.398.222-.005 2.664-.139 3.313-.296.375-.088.505-.283.505-.283s1.566-.431 2.998-1.357c.917-.598 1.293-.76 2.034-.936.612-.148.57-1.098-.241-1.084-.839.009-1.575.44-2.196.825-1.163.718-1.742.672-1.742.672l-.018-.032c-.079-.13.371-1.293-.134-2.678-.547-1.515-1.413-1.881-1.344-1.997.297-.5 1.038-1.297 1.334-2.78.176-.899.13-2.377-.269-3.151-.074-.144-.732.241-.732.241s-.616-1.371-.788-1.483a.271.271 0 0 0-.157-.046z",fill:"currentColor"})}),pnpm:e=>P.jsx("svg",{viewBox:"0 0 24 24",...e,children:P.jsx("path",{d:"M0 0v7.5h7.5V0zm8.25 0v7.5h7.498V0zm8.25 0v7.5H24V0zM8.25 8.25v7.5h7.498v-7.5zm8.25 0v7.5H24v-7.5zM0 16.5V24h7.5v-7.5zm8.25 0V24h7.498v-7.5zm8.25 0V24H24v-7.5z",fill:"currentColor"})}),react:e=>P.jsx("svg",{viewBox:"0 0 24 24",...e,children:P.jsx("path",{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z",fill:"currentColor"})}),tailwind:e=>P.jsx("svg",{viewBox:"0 0 24 24",...e,children:P.jsx("path",{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z",fill:"currentColor"})}),google:e=>P.jsx("svg",{role:"img",viewBox:"0 0 24 24",...e,children:P.jsx("path",{fill:"currentColor",d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})}),apple:e=>P.jsx("svg",{role:"img",viewBox:"0 0 24 24",...e,children:P.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701",fill:"currentColor"})}),paypal:e=>P.jsx("svg",{role:"img",viewBox:"0 0 24 24",...e,children:P.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.076-.026.175-.041.254-.93 4.778-4.005 7.201-9.138 7.201h-2.19a.563.563 0 0 0-.556.479l-1.187 7.527h-.506l-.24 1.516a.56.56 0 0 0 .554.647h3.882c.46 0 .85-.334.922-.788.06-.26.76-4.852.816-5.09a.932.932 0 0 1 .923-.788h.58c3.76 0 6.705-1.528 7.565-5.946.36-1.847.174-3.388-.777-4.471z",fill:"currentColor"})}),spinner:e=>P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:P.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})},mw="/edelgram/assets/image1-CoqYZn9M.jpg",gw="/edelgram/assets/image2-n_CPjltO.jpg",vw="/edelgram/assets/image3-DgA0XuPA.jpg",yw="/edelgram/assets/image4-C82QDRdx.jpg",x4={email:"",password:""},k4=()=>{const{logIn:e,googleSignIn:t}=_c(),[n,r]=M.useState(x4),i=pc(),s=async a=>{a.preventDefault();try{console.log("The user info is : ",n),await e(n.email,n.password),i("/edelgram/")}catch(u){console.log("Error: ",u)}},o=async a=>{a.preventDefault();try{await t(),i("/edelgram/")}catch(u){console.log("Error: ",u)}};return P.jsx("div",{className:"bg-slate-800 w-full h-screen",children:P.jsx("div",{className:"container mx-auto p-6 flex h-full",children:P.jsxs("div",{className:"flex justify-center items-center w-full",children:[P.jsx("div",{className:"p-6 w-2/3 hidden lg:block",children:P.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[P.jsx("img",{className:"w-2/3 h-auto aspect-video rounded-3xl place-self-end",src:gw}),P.jsx("img",{className:"w-2/4 h-auto aspect-auto rounded-3xl",src:mw}),P.jsx("img",{className:"w-2/4 h-auto aspect-auto rounded-3xl place-self-end",src:yw}),P.jsx("img",{className:"w-2/3 h-auto aspect-video rounded-3xl",src:vw})]})}),P.jsx("div",{className:"max-w-sm rounded-xl border bg-card text-card-foreground shadow-sm",children:P.jsx(bp,{children:P.jsxs("form",{onSubmit:s,children:[P.jsxs(Ep,{className:"space-y-1",children:[P.jsx(Cp,{className:"text-2xl",children:"Edelgram"}),P.jsx(Sp,{children:"Enter your email below to create your account"})]}),P.jsxs(Tp,{className:"grid gap-4",children:[P.jsx("div",{className:"grid",children:P.jsxs(ro,{variant:"outline",onClick:o,children:[P.jsx(pw.google,{className:"mr-2 h-4 w-4"}),"Google"]})}),P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"absolute inset-0 flex items-center",children:P.jsx("span",{className:"w-full border-t"})}),P.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:P.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),P.jsxs("div",{className:"grid gap-2",children:[P.jsx(ti,{htmlFor:"email",children:"Email"}),P.jsx(Ks,{id:"email",type:"email",placeholder:"edelweisss21@example.com",value:n.email,onChange:a=>r({...n,email:a.target.value})})]}),P.jsxs("div",{className:"grid gap-2",children:[P.jsx(ti,{htmlFor:"password",children:"Password"}),P.jsx(Ks,{id:"password",type:"password",value:n.password,onChange:a=>r({...n,password:a.target.value})})]})]}),P.jsxs(Ip,{className:"flex flex-col",children:[P.jsx(ro,{className:"w-full",type:"submit",children:"Login"}),P.jsxs("p",{className:"mt-3 text-sm text-center",children:["Don't have an account?",P.jsx(Nu,{to:"/edelgram/signup",children:" Sign up"})]})]})]})})})]})})})},A4=()=>P.jsx(wc,{children:"MyPhotos"}),P4=()=>P.jsx(wc,{children:"Profile"}),R4={email:"",password:"",confirmPassword:""},O4=()=>{const{signUp:e,googleSignIn:t}=_c(),[n,r]=M.useState(R4),i=pc(),s=async a=>{a.preventDefault();try{console.log("The user info is : ",n),await e(n.email,n.password),i("/edelgram/")}catch(u){console.log("Error: ",u)}},o=async a=>{a.preventDefault();try{await t(),i("/edelgram/")}catch(u){console.log("Error: ",u)}};return P.jsx("div",{className:"bg-slate-800 w-full h-screen",children:P.jsx("div",{className:"container mx-auto p-6 flex h-full",children:P.jsxs("div",{className:"flex justify-center items-center w-full",children:[P.jsx("div",{className:"p-6 w-2/3 hidden lg:block",children:P.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[P.jsx("img",{className:"w-2/3 h-auto aspect-video rounded-3xl place-self-end",src:gw}),P.jsx("img",{className:"w-2/4 h-auto aspect-auto rounded-3xl",src:mw}),P.jsx("img",{className:"w-2/4 h-auto aspect-auto rounded-3xl place-self-end",src:yw}),P.jsx("img",{className:"w-2/3 h-auto aspect-video rounded-3xl",src:vw})]})}),P.jsx("div",{className:"max-w-sm rounded-xl border bg-card text-card-foreground shadow-sm",children:P.jsx(bp,{children:P.jsxs("form",{onSubmit:s,children:[P.jsxs(Ep,{className:"space-y-1",children:[P.jsx(Cp,{className:"text-2xl",children:"Edelgram"}),P.jsx(Sp,{children:"Enter your email below to create your account"})]}),P.jsxs(Tp,{className:"grid gap-4",children:[P.jsx("div",{className:"grid",children:P.jsxs(ro,{variant:"outline",onClick:o,children:[P.jsx(pw.google,{className:"mr-2 h-4 w-4"}),"Google"]})}),P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"absolute inset-0 flex items-center",children:P.jsx("span",{className:"w-full border-t"})}),P.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:P.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),P.jsxs("div",{className:"grid gap-2",children:[P.jsx(ti,{htmlFor:"email",children:"Email"}),P.jsx(Ks,{id:"email",type:"email",placeholder:"edelweisss21@example.com",value:n.email,onChange:a=>r({...n,email:a.target.value})})]}),P.jsxs("div",{className:"grid gap-2",children:[P.jsx(ti,{htmlFor:"password",children:"Password"}),P.jsx(Ks,{id:"password",type:"password",value:n.password,onChange:a=>r({...n,password:a.target.value})})]}),P.jsxs("div",{className:"grid gap-2",children:[P.jsx(ti,{htmlFor:"confirmpassword",children:"Confirm password"}),P.jsx(Ks,{id:"confirmpassword",type:"password",value:n.confirmPassword,onChange:a=>r({...n,confirmPassword:a.target.value})})]})]}),P.jsxs(Ip,{className:"flex flex-col",children:[P.jsx(ro,{className:"w-full",type:"submit",children:"Sign Up"}),P.jsxs("p",{className:"mt-3 text-sm text-center",children:["Already have an account?",P.jsx(Nu,{to:"/edelgram/login",children:" Login"})]})]})]})})})]})})})};var L4=Object.defineProperty,N4=(e,t,n)=>t in e?L4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xp=(e,t,n)=>(N4(e,typeof t!="symbol"?t+"":t,n),n);function D4(e){let t=n=>{var r;for(let i in n)((r=n[i])==null?void 0:r.constructor)===Object&&(n[i]=t(n[i]));return{...n}};return t(e)}var ye=class{constructor(e){e.constructor===Object?this.store=D4(e):(this._storeIsProxy=!0,this.store=e),this.callbackMap=Object.create(null)}static warn(e,t){console.warn(`Symbiote Data: cannot ${e}. Prop name: `+t)}read(e){return!this._storeIsProxy&&!this.store.hasOwnProperty(e)?(ye.warn("read",e),null):this.store[e]}has(e){return this._storeIsProxy?this.store[e]!==void 0:this.store.hasOwnProperty(e)}add(e,t,n=!1){!n&&Object.keys(this.store).includes(e)||(this.store[e]=t,this.notify(e))}pub(e,t){if(!this._storeIsProxy&&!this.store.hasOwnProperty(e)){ye.warn("publish",e);return}this.store[e]=t,this.notify(e)}multiPub(e){for(let t in e)this.pub(t,e[t])}notify(e){this.callbackMap[e]&&this.callbackMap[e].forEach(t=>{t(this.store[e])})}sub(e,t,n=!0){return!this._storeIsProxy&&!this.store.hasOwnProperty(e)?(ye.warn("subscribe",e),null):(this.callbackMap[e]||(this.callbackMap[e]=new Set),this.callbackMap[e].add(t),n&&t(this.store[e]),{remove:()=>{this.callbackMap[e].delete(t),this.callbackMap[e].size||delete this.callbackMap[e]},callback:t})}static registerCtx(e,t=Symbol()){let n=ye.globalStore.get(t);return n?console.warn('State: context UID "'+t+'" already in use'):(n=new ye(e),ye.globalStore.set(t,n)),n}static deleteCtx(e){ye.globalStore.delete(e)}static getCtx(e,t=!0){return ye.globalStore.get(e)||(t&&console.warn('State: wrong context UID - "'+e+'"'),null)}};ye.globalStore=new Map;var oe=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CTX_OWNER_ATTR:"ctx-owner",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym",REPEAT_ATTR:"repeat",REPEAT_ITEM_TAG_ATTR:"repeat-item-tag",SET_LATER_KEY:"__toSetLater__",USE_TPL:"use-template",ROOT_STYLE_ATTR_NAME:"sym-component"}),_w="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",M4=_w.length-1,ta=class{static generate(e="XXXXXXXXX-XXX"){let t="";for(let n=0;n<e.length;n++)t+=e[n]==="-"?e[n]:_w.charAt(Math.random()*M4);return t}};function ww(e,t,n){let r=!0,i,s=t.split(".");return s.forEach((o,a)=>{a<s.length-1?e=e[o]:i=o}),e?e[i]=n:r=!1,r}function $4(e){return e.split("-").map((t,n)=>t&&n?t[0].toUpperCase()+t.slice(1):t).join("").split("_").map((t,n)=>t&&n?t.toUpperCase():t).join("")}function U4(e,t){[...e.querySelectorAll(`[${oe.REPEAT_ATTR}]`)].forEach(n=>{let r=n.getAttribute(oe.REPEAT_ITEM_TAG_ATTR),i;if(r&&(i=window.customElements.get(r)),!i){i=class extends t.BaseComponent{constructor(){super(),r||(this.style.display="contents")}};let o=n.innerHTML;i.template=o,i.reg(r)}for(;n.firstChild;)n.firstChild.remove();let s=n.getAttribute(oe.REPEAT_ATTR);t.sub(s,o=>{if(!o){for(;n.firstChild;)n.firstChild.remove();return}let a=[...n.children],u,c=h=>{h.forEach((m,I)=>{if(a[I])if(a[I].set$)setTimeout(()=>{a[I].set$(m)});else for(let b in m)a[I][b]=m[b];else{u||(u=new DocumentFragment);let b=new i;Object.assign(b.init$,m),u.appendChild(b)}}),u&&n.appendChild(u);let p=a.slice(h.length,a.length);for(let m of p)m.remove()};if(o.constructor===Array)c(o);else if(o.constructor===Object){let h=[];for(let p in o){let m=o[p];Object.defineProperty(m,"_KEY_",{value:p,enumerable:!0}),h.push(m)}c(h)}else console.warn("Symbiote repeat data type error:"),console.log(o)}),n.removeAttribute(oe.REPEAT_ATTR),n.removeAttribute(oe.REPEAT_ITEM_TAG_ATTR)})}var qv="__default__";function F4(e,t){if(t.shadowRoot)return;let n=[...e.querySelectorAll("slot")];if(!n.length)return;let r={};n.forEach(i=>{let s=i.getAttribute("name")||qv;r[s]={slot:i,fr:document.createDocumentFragment()}}),t.initChildren.forEach(i=>{var s;let o=qv;i instanceof Element&&i.hasAttribute("slot")&&(o=i.getAttribute("slot"),i.removeAttribute("slot")),(s=r[o])==null||s.fr.appendChild(i)}),Object.values(r).forEach(i=>{if(i.fr.childNodes.length)i.slot.parentNode.replaceChild(i.fr,i.slot);else if(i.slot.childNodes.length){let s=document.createDocumentFragment();s.append(...i.slot.childNodes),i.slot.parentNode.replaceChild(s,i.slot)}else i.slot.remove()})}function j4(e,t){[...e.querySelectorAll(`[${oe.EL_REF_ATTR}]`)].forEach(n=>{let r=n.getAttribute(oe.EL_REF_ATTR);t.ref[r]=n,n.removeAttribute(oe.EL_REF_ATTR)})}function z4(e,t){[...e.querySelectorAll(`[${oe.BIND_ATTR}]`)].forEach(n=>{let i=n.getAttribute(oe.BIND_ATTR).split(";");[...n.attributes].forEach(s=>{if(s.name.startsWith("-")&&s.value){let o=$4(s.name.replace("-",""));i.push(o+":"+s.value),n.removeAttribute(s.name)}}),i.forEach(s=>{if(!s)return;let o=s.split(":").map(h=>h.trim()),a=o[0],u;a.indexOf(oe.ATTR_BIND_PRFX)===0&&(u=!0,a=a.replace(oe.ATTR_BIND_PRFX,""));let c=o[1].split(",").map(h=>h.trim());for(let h of c){let p;h.startsWith("!!")?(p="double",h=h.replace("!!","")):h.startsWith("!")&&(p="single",h=h.replace("!","")),t.sub(h,m=>{p==="double"?m=!!m:p==="single"&&(m=!m),u?(m==null?void 0:m.constructor)===Boolean?m?n.setAttribute(a,""):n.removeAttribute(a):n.setAttribute(a,m):ww(n,a,m)||(n[oe.SET_LATER_KEY]||(n[oe.SET_LATER_KEY]=Object.create(null)),n[oe.SET_LATER_KEY][a]=m)})}}),n.removeAttribute(oe.BIND_ATTR)})}var ou="{{",il="}}",V4="skip-text";function B4(e){let t,n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:i=>{var s;return!((s=i.parentElement)!=null&&s.hasAttribute(V4))&&i.textContent.includes(ou)&&i.textContent.includes(il)&&1}});for(;t=r.nextNode();)n.push(t);return n}var H4=function(e,t){B4(e).forEach(r=>{let i=[],s;for(;r.textContent.includes(il);)r.textContent.startsWith(ou)?(s=r.textContent.indexOf(il)+il.length,r.splitText(s),i.push(r)):(s=r.textContent.indexOf(ou),r.splitText(s)),r=r.nextSibling;i.forEach(o=>{let a=o.textContent.replace(ou,"").replace(il,"");o.textContent="",t.sub(a,u=>{o.textContent=u})})})},W4=[U4,F4,j4,z4,H4],Hu="'",oo='"',G4=/\\([0-9a-fA-F]{1,6} ?)/g;function K4(e){return(e[0]===oo||e[0]===Hu)&&(e[e.length-1]===oo||e[e.length-1]===Hu)}function X4(e){return(e[0]===oo||e[0]===Hu)&&(e=e.slice(1)),(e[e.length-1]===oo||e[e.length-1]===Hu)&&(e=e.slice(0,-1)),e}function q4(e){let t="",n="";for(var r=0;r<e.length;r++){const i=e[r+1];e[r]==="\\"&&i==='"'?(t+='\\"',r++):e[r]==='"'&&n!=="\\"?t+='\\"':t+=e[r],n=e[r]}return t}function Y4(e){let t=e;K4(e)&&(t=X4(t),t=t.replace(G4,(n,r)=>String.fromCodePoint(parseInt(r.trim(),16))),t=t.replaceAll(`\\
`,"\\n"),t=q4(t),t=oo+t+oo);try{return JSON.parse(t)}catch{throw new Error(`Failed to parse CSS property value: ${t}. Original input: ${e}`)}}var Yv=0,ys=null,Kn=null,Lr=class extends HTMLElement{constructor(){super(),xp(this,"updateCssData",()=>{var e;this.dropCssDataCache(),(e=this.__boundCssProps)==null||e.forEach(t=>{let n=this.getCssData(this.__extractCssName(t),!0);n!==null&&this.$[t]!==n&&(this.$[t]=n)})}),this.init$=Object.create(null),this.cssInit$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1,this.allowCustomTemplate=!1,this.ctxOwner=!1}get BaseComponent(){return Lr}initCallback(){}__initCallback(){var e;this.__initialized||(this.__initialized=!0,(e=this.initCallback)==null||e.call(this))}render(e,t=this.renderShadow){let n;if((t||this.constructor.__shadowStylesUrl)&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.allowCustomTemplate){let i=this.getAttribute(oe.USE_TPL);if(i){let s=this.getRootNode(),o=(s==null?void 0:s.querySelector(i))||document.querySelector(i);o?e=o.content.cloneNode(!0):console.warn(`Symbiote template "${i}" is not found...`)}}if(this.processInnerHtml)for(let i of this.tplProcessors)i(this,this);if(e||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),(e==null?void 0:e.constructor)===DocumentFragment)n=e;else if((e==null?void 0:e.constructor)===String){let i=document.createElement("template");i.innerHTML=e,n=i.content.cloneNode(!0)}else this.constructor.__tpl&&(n=this.constructor.__tpl.content.cloneNode(!0));for(let i of this.tplProcessors)i(n,this)}let r=()=>{n&&(t&&this.shadowRoot.appendChild(n)||this.appendChild(n)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){t=!0;let i=document.createElement("link");i.rel="stylesheet",i.href=this.constructor.__shadowStylesUrl,i.onload=r,this.shadowRoot.prepend(i)}else r()}addTemplateProcessor(e){this.tplProcessors.add(e)}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=ta.generate(),this.style.setProperty(oe.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(oe.CSS_CTX_PROP,!0)}get ctxName(){var e;let t=((e=this.getAttribute(oe.CTX_NAME_ATTR))==null?void 0:e.trim())||this.cssCtxName||this.__cachedCtxName||this.autoCtxName;return this.__cachedCtxName=t,t}get localCtx(){return this.__localCtx||(this.__localCtx=ye.registerCtx({},this)),this.__localCtx}get nodeCtx(){return ye.getCtx(this.ctxName,!1)||ye.registerCtx({},this.ctxName)}static __parseProp(e,t){let n,r;if(e.startsWith(oe.EXT_DATA_CTX_PRFX))n=t.nodeCtx,r=e.replace(oe.EXT_DATA_CTX_PRFX,"");else if(e.includes(oe.NAMED_DATA_CTX_SPLTR)){let i=e.split(oe.NAMED_DATA_CTX_SPLTR);n=ye.getCtx(i[0]),r=i[1]}else n=t.localCtx,r=e;return{ctx:n,name:r}}sub(e,t,n=!0){let r=s=>{this.isConnected&&t(s)},i=Lr.__parseProp(e,this);i.ctx.has(i.name)?this.allSubs.add(i.ctx.sub(i.name,r,n)):window.setTimeout(()=>{this.allSubs.add(i.ctx.sub(i.name,r,n))})}notify(e){let t=Lr.__parseProp(e,this);t.ctx.notify(t.name)}has(e){let t=Lr.__parseProp(e,this);return t.ctx.has(t.name)}add(e,t,n=!1){let r=Lr.__parseProp(e,this);r.ctx.add(r.name,t,n)}add$(e,t=!1){for(let n in e)this.add(n,e[n],t)}get $(){if(!this.__stateProxy){let e=Object.create(null);this.__stateProxy=new Proxy(e,{set:(t,n,r)=>{let i=Lr.__parseProp(n,this);return i.ctx.pub(i.name,r),!0},get:(t,n)=>{let r=Lr.__parseProp(n,this);return r.ctx.read(r.name)}})}return this.__stateProxy}set$(e,t=!1){for(let n in e){let r=e[n];t||![String,Number,Boolean].includes(r==null?void 0:r.constructor)?this.$[n]=r:this.$[n]!==r&&(this.$[n]=r)}}get __ctxOwner(){return this.ctxOwner||this.hasAttribute(oe.CTX_OWNER_ATTR)&&this.getAttribute(oe.CTX_OWNER_ATTR)!=="false"}__initDataCtx(){let e=this.constructor.__attrDesc;if(e)for(let t of Object.values(e))Object.keys(this.init$).includes(t)||(this.init$[t]="");for(let t in this.init$)if(t.startsWith(oe.EXT_DATA_CTX_PRFX))this.nodeCtx.add(t.replace(oe.EXT_DATA_CTX_PRFX,""),this.init$[t],this.__ctxOwner);else if(t.includes(oe.NAMED_DATA_CTX_SPLTR)){let n=t.split(oe.NAMED_DATA_CTX_SPLTR),r=n[0].trim(),i=n[1].trim();if(r&&i){let s=ye.getCtx(r,!1);s||(s=ye.registerCtx({},r)),s.add(i,this.init$[t])}}else this.localCtx.add(t,this.init$[t]);for(let t in this.cssInit$)this.bindCssData(t,this.cssInit$[t]);this.__dataCtxInitialized=!0}connectedCallback(){var e;if(this.isConnected){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let t=(e=this.getAttribute(oe.CTX_NAME_ATTR))==null?void 0:e.trim();if(t&&this.style.setProperty(oe.CSS_CTX_PROP,`'${t}'`),this.__initDataCtx(),this[oe.SET_LATER_KEY]){for(let n in this[oe.SET_LATER_KEY])ww(this,n,this[oe.SET_LATER_KEY][n]);delete this[oe.SET_LATER_KEY]}this.initChildren=[...this.childNodes];for(let n of W4)this.addTemplateProcessor(n);if(this.pauseRender)this.__initCallback();else if(this.constructor.__rootStylesLink){let n=this.getRootNode();if(!n)return;if(n==null?void 0:n.querySelector(`link[${oe.ROOT_STYLE_ATTR_NAME}="${this.constructor.is}"]`)){this.render();return}let i=this.constructor.__rootStylesLink.cloneNode(!0);i.setAttribute(oe.ROOT_STYLE_ATTR_NAME,this.constructor.is),i.onload=()=>{this.render()},n.nodeType===Node.DOCUMENT_NODE?n.head.appendChild(i):n.prepend(i)}else this.render()}this.connectedOnce=!0}}destroyCallback(){}disconnectedCallback(){this.connectedOnce&&(this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout(()=>{this.destroyCallback();for(let e of this.allSubs)e.remove(),this.allSubs.delete(e);for(let e of this.tplProcessors)this.tplProcessors.delete(e);Kn==null||Kn.delete(this.updateCssData),Kn!=null&&Kn.size||(ys==null||ys.disconnect(),ys=null,Kn=null)},100)))}static reg(e,t=!1){e||(Yv++,e=`${oe.AUTO_TAG_PRFX}-${Yv}`),this.__tag=e;let n=window.customElements.get(e);if(n){!t&&n!==this&&console.warn([`Element with tag name "${e}" already registered.`,`You're trying to override it with another class "${this.name}".`,"This is most likely a mistake.","New element will not be registered."].join(`
`));return}window.customElements.define(e,t?class extends this{}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(e){this.observedAttributes=Object.keys(e),this.__attrDesc=e}attributeChangedCallback(e,t,n){var r;if(t===n)return;let i=(r=this.constructor.__attrDesc)==null?void 0:r[e];i?this.__dataCtxInitialized?this.$[i]=n:this.init$[i]=n:this[e]=n}getCssData(e,t=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(e)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let n=this.__computedStyle.getPropertyValue(e).trim();try{this.__cssDataCache[e]=Y4(n)}catch{!t&&console.warn(`CSS Data error: ${e}`),this.__cssDataCache[e]=null}}return this.__cssDataCache[e]}__extractCssName(e){return e.split("--").map((t,n)=>n===0?"":t).join("--")}__initStyleAttrObserver(){Kn||(Kn=new Set),Kn.add(this.updateCssData),ys||(ys=new MutationObserver(e=>{e[0].type==="attributes"&&Kn.forEach(t=>{t()})}),ys.observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]}))}bindCssData(e,t=""){this.__boundCssProps||(this.__boundCssProps=new Set),this.__boundCssProps.add(e);let n=this.getCssData(this.__extractCssName(e),!0);n===null&&(n=t),this.add(e,n),this.__initStyleAttrObserver()}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(e,t,n){let r="__"+e;this[r]=this[e],Object.defineProperty(this,e,{set:i=>{this[r]=i,n?window.setTimeout(()=>{t==null||t(i)}):t==null||t(i)},get:()=>this[r]}),this[e]=this[r]}static set shadowStyles(e){let t=new Blob([e],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(t)}static set rootStyles(e){if(!this.__rootStylesLink){let t=new Blob([e],{type:"text/css"}),n=URL.createObjectURL(t),r=document.createElement("link");r.href=n,r.rel="stylesheet",this.__rootStylesLink=r}}},bc=Lr;xp(bc,"template");function bw(e,t){for(let n in t)n.includes("-")?e.style.setProperty(n,t[n]):e.style[n]=t[n]}function J4(e,t){for(let n in t)t[n].constructor===Boolean?t[n]?e.setAttribute(n,""):e.removeAttribute(n):e.setAttribute(n,t[n])}function kp(e={tag:"div"}){let t=document.createElement(e.tag);if(e.attributes&&J4(t,e.attributes),e.styles&&bw(t,e.styles),e.properties)for(let n in e.properties)t[n]=e.properties[n];return e.processors&&e.processors.forEach(n=>{n(t)}),e.children&&e.children.forEach(n=>{let r=kp(n);t.appendChild(r)}),t}var Ew="idb-store-ready",Q4="symbiote-db",Z4="symbiote-idb-update_",eP=class{_notifyWhenReady(e=null){window.dispatchEvent(new CustomEvent(Ew,{detail:{dbName:this.name,storeName:this.storeName,event:e}}))}get _updEventName(){return Z4+this.name}_getUpdateEvent(e){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:e}})}_notifySubscribers(e){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,e),window.dispatchEvent(this._getUpdateEvent(e))}constructor(e,t){this.name=e,this.storeName=t,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=n=>{this.db=n.target.result,this.objStore=this.db.createObjectStore(t,{keyPath:"_key"}),this.objStore.transaction.oncomplete=r=>{this._notifyWhenReady(r)}},this.request.onsuccess=n=>{this.db=n.target.result,this._notifyWhenReady(n)},this.request.onerror=n=>{console.error(n)},this._subscriptionsMap={},this._updateHandler=n=>{n.key===this.name&&this._subscriptionsMap[n.newValue]&&this._subscriptionsMap[n.newValue].forEach(async i=>{i(await this.read(n.newValue))})},this._localUpdateHandler=n=>{this._updateHandler(n.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(e){let n=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(e);return new Promise((r,i)=>{n.onsuccess=s=>{var o;(o=s.target.result)!=null&&o._value?r(s.target.result._value):(r(null),console.warn(`IDB: cannot read "${e}"`))},n.onerror=s=>{i(s)}})}write(e,t,n=!1){let r={_key:e,_value:t},s=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(r);return new Promise((o,a)=>{s.onsuccess=u=>{n||this._notifySubscribers(e),o(u.target.result)},s.onerror=u=>{a(u)}})}delete(e,t=!1){let r=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);return new Promise((i,s)=>{r.onsuccess=o=>{t||this._notifySubscribers(e),i(o)},r.onerror=o=>{s(o)}})}getAll(){let t=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise((n,r)=>{t.onsuccess=i=>{let s=i.target.result;n(s.map(o=>o._value))},t.onerror=i=>{r(i)}})}subscribe(e,t){this._subscriptionsMap[e]||(this._subscriptionsMap[e]=new Set);let n=this._subscriptionsMap[e];return n.add(t),{remove:()=>{n.delete(t),n.size||delete this._subscriptionsMap[e]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,Cw.clear(this.name)}},Cw=class{static get readyEventName(){return Ew}static open(e=Q4,t="store"){let n=e+"/"+t;return this._reg[n]||(this._reg[n]=new eP(e,t)),this._reg[n]}static clear(e){window.indexedDB.deleteDatabase(e);for(let t in this._reg)t.split("/")[0]===e&&delete this._reg[t]}};xp(Cw,"_reg",Object.create(null));const tP=20,Ve=Object.freeze({FILE_ADDED:"file-added",FILE_REMOVED:"file-removed",FILE_UPLOAD_START:"file-upload-start",FILE_UPLOAD_PROGRESS:"file-upload-progress",FILE_UPLOAD_SUCCESS:"file-upload-success",FILE_UPLOAD_FAILED:"file-upload-failed",FILE_URL_CHANGED:"file-url-changed",MODAL_OPEN:"modal-open",MODAL_CLOSE:"modal-close",DONE_CLICK:"done-click",UPLOAD_CLICK:"upload-click",ACTIVITY_CHANGE:"activity-change",COMMON_UPLOAD_START:"common-upload-start",COMMON_UPLOAD_PROGRESS:"common-upload-progress",COMMON_UPLOAD_SUCCESS:"common-upload-success",COMMON_UPLOAD_FAILED:"common-upload-failed",CHANGE:"change",GROUP_CREATED:"group-created"});class nP{constructor(t){N(this,"_timeoutStore",new Map);N(this,"_targets",new Set);N(this,"_debugPrint",null);this._debugPrint=t}bindTarget(t){this._targets.add(t)}unbindTarget(t){this._targets.delete(t)}_dispatch(t,n){var r;for(const i of this._targets)i.dispatchEvent(new CustomEvent(t,{detail:n}));(r=this._debugPrint)==null||r.call(this,()=>{const i=n&&typeof n=="object"?{...n}:n;return[`event "${t}"`,i]})}emit(t,n,{debounce:r}={}){if(typeof r!="number"&&!r){this._dispatch(t,typeof n=="function"?n():n);return}this._timeoutStore.has(t)&&window.clearTimeout(this._timeoutStore.get(t));const i=typeof r=="number"?r:tP,s=window.setTimeout(()=>{this._dispatch(t,typeof n=="function"?n():n),this._timeoutStore.delete(t)},i);this._timeoutStore.set(t,s)}}function dn(e,t){let n;const r=(...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)};return r.cancel=()=>{clearTimeout(n)},r}const Jv="--uploadcare-blocks-window-height";class Wu{static registerClient(t){this.clientsRegistry.size===0&&this.attachTracker(),this.clientsRegistry.add(t)}static unregisterClient(t){this.clientsRegistry.delete(t),this.clientsRegistry.size===0&&this.detachTracker()}static attachTracker(){window.addEventListener("resize",this.flush,{passive:!0,capture:!0}),this.flush()}static detachTracker(){window.removeEventListener("resize",this.flush,{capture:!0}),document.documentElement.style.removeProperty(Jv)}}N(Wu,"clientsRegistry",new Set),N(Wu,"flush",dn(()=>{document.documentElement.style.setProperty(Jv,`${window.innerHeight}px`)},100));const rP=e=>{var r;const t=new Intl.Locale(e);let n="ltr";return typeof t.getTextInfo=="function"&&t.getTextInfo().direction?n=t.getTextInfo().direction:"textInfo"in t&&((r=t.textInfo)!=null&&r.direction)&&(n=t.textInfo.direction),n},Sw=(e,t)=>new Intl.PluralRules(e).select(t),iP=e=>e,Wh="{{",Tw="}}",Qv="plural:";function Gh(e,t,n={}){var o;let{openToken:r=Wh,closeToken:i=Tw,transform:s=iP}=n;for(let a in t){let u=(o=t[a])==null?void 0:o.toString();e=e.replaceAll(r+a+i,typeof u=="string"?s(u):u)}return e}function sP(e){const t=[];let n=e.indexOf(Wh);for(;n!==-1;){const r=e.indexOf(Tw,n),i=e.substring(n+2,r);if(i.startsWith(Qv)){const s=e.substring(n+2,r).replace(Qv,""),o=s.substring(0,s.indexOf("(")),a=s.substring(s.indexOf("(")+1,s.indexOf(")"));t.push({variable:i,pluralKey:o,countVariable:a})}n=e.indexOf(Wh,r)}return t}const oP=({element:e,attribute:t,onSuccess:n,onTimeout:r,timeout:i=300})=>{const s=e.getAttribute(t);if(s!==null){n(s);return}const o=new MutationObserver(c=>{const h=c[c.length-1];u(h)});o.observe(e,{attributes:!0,attributeFilter:[t]});const a=setTimeout(()=>{o.disconnect(),r()},i),u=c=>{const h=e.getAttribute(t);c.type==="attributes"&&c.attributeName===t&&h!==null&&(clearTimeout(a),o.disconnect(),n(h))}};function Zv(e){return Object.prototype.toString.call(e)==="[object Object]"}const lP=/\W|_/g;function aP(e){return e.split(lP).map((t,n)=>t.charAt(0)[n>0?"toUpperCase":"toLowerCase"]()+t.slice(1)).join("")}function e0(e,{ignoreKeys:t}={ignoreKeys:[]}){return Array.isArray(e)?e.map(n=>_r(n,{ignoreKeys:t})):e}function _r(e,{ignoreKeys:t}={ignoreKeys:[]}){if(Array.isArray(e))return e0(e,{ignoreKeys:t});if(!Zv(e))return e;const n={};for(const r of Object.keys(e)){let i=e[r];if(t.includes(r)){n[r]=i;continue}Zv(i)?i=_r(i,{ignoreKeys:t}):Array.isArray(i)&&(i=e0(i,{ignoreKeys:t})),n[aP(r)]=i}return n}const uP=e=>new Promise(t=>setTimeout(t,e));function Iw({libraryName:e,libraryVersion:t,userAgent:n,publicKey:r="",integration:i=""}){const s="JavaScript";if(typeof n=="string")return n;if(typeof n=="function")return n({publicKey:r,libraryName:e,libraryVersion:t,languageName:s,integration:i});const o=[e,t,r].filter(Boolean).join("/"),a=[s,i].filter(Boolean).join("; ");return`${o} (${a})`}const cP={factor:2,time:100};function dP(e,t=cP){let n=0;function r(i){const s=Math.round(t.time*t.factor**n);return i({attempt:n,retry:a=>uP(a??s).then(()=>(n+=1,r(i)))})}return r(e)}class Ap extends Error{}class na extends Ap{constructor(n){super();N(this,"originalProgressEvent");this.name="NetworkError",this.message="Network error",Object.setPrototypeOf(this,na.prototype),this.originalProgressEvent=n}}const Ec=(e,t)=>{e&&(e.aborted?Promise.resolve().then(t):e.addEventListener("abort",()=>t(),{once:!0}))};class Qi extends Ap{constructor(n="Request canceled"){super(n);N(this,"isCancel",!0);this.name="CancelError",Object.setPrototypeOf(this,Qi.prototype)}}const hP=500,xw=({check:e,interval:t=hP,timeout:n,signal:r})=>new Promise((i,s)=>{let o,a;Ec(r,()=>{o&&clearTimeout(o),s(new Qi("Poll cancelled"))}),n&&(a=setTimeout(()=>{o&&clearTimeout(o),s(new Qi("Timed out"))},n));const u=()=>{try{Promise.resolve(e(r)).then(c=>{c?(a&&clearTimeout(a),i(c)):o=setTimeout(u,t)}).catch(c=>{a&&clearTimeout(a),s(c)})}catch(c){a&&clearTimeout(a),s(c)}};o=setTimeout(u,0)}),fe={baseCDN:"https://ucarecdn.com",baseURL:"https://upload.uploadcare.com",maxContentLength:50*1024*1024,retryThrottledRequestMaxTimes:1,retryNetworkErrorMaxTimes:3,multipartMinFileSize:25*1024*1024,multipartChunkSize:5*1024*1024,multipartMinLastPartSize:1024*1024,maxConcurrentRequests:4,pollingTimeoutMilliseconds:1e4,pusherKey:"79ae88bd931ea68464d9"},Cc="application/octet-stream",kw="original",vi=({method:e,url:t,data:n,headers:r={},signal:i,onProgress:s})=>new Promise((o,a)=>{const u=new XMLHttpRequest,c=(e==null?void 0:e.toUpperCase())||"GET";let h=!1;u.open(c,t,!0),r&&Object.entries(r).forEach(p=>{const[m,I]=p;typeof I<"u"&&!Array.isArray(I)&&u.setRequestHeader(m,I)}),u.responseType="text",Ec(i,()=>{h=!0,u.abort(),a(new Qi)}),u.onload=()=>{if(u.status!=200)a(new Error(`Error ${u.status}: ${u.statusText}`));else{const p={method:c,url:t,data:n,headers:r||void 0,signal:i,onProgress:s},m=u.getAllResponseHeaders().trim().split(/[\r\n]+/),I={};m.forEach(function(L){const C=L.split(": "),_=C.shift(),S=C.join(": ");_&&typeof _<"u"&&(I[_]=S)});const b=u.response,x=u.status;o({request:p,data:b,headers:I,status:x})}},u.onerror=p=>{h||a(new na(p))},s&&typeof s=="function"&&(u.upload.onprogress=p=>{p.lengthComputable?s({isComputable:!0,value:p.loaded/p.total}):s({isComputable:!1})}),n?u.send(n):u.send()});function fP(e,...t){return e}const pP=({name:e})=>e?[e]:[],mP=fP;var gP=()=>new FormData;const Aw=e=>!1,Sc=e=>typeof Blob<"u"&&e instanceof Blob,Tc=e=>typeof File<"u"&&e instanceof File,Ic=e=>!!e&&typeof e=="object"&&!Array.isArray(e)&&"uri"in e&&typeof e.uri=="string",yo=e=>Sc(e)||Tc(e)||Aw()||Ic(e),vP=e=>typeof e=="string"||typeof e=="number"||typeof e>"u",yP=e=>!!e&&typeof e=="object"&&!Array.isArray(e),_P=e=>!!e&&typeof e=="object"&&"data"in e&&yo(e.data);function Pw(e,t,n){if(Array.isArray(n))for(const r of n)Pw(e,`${t}[]`,r);else if(_P(n)){const{name:r,contentType:i}=n,s=mP(n.data,r,i??Cc),o=pP({name:r,contentType:i});e.push([t,s,...o])}else if(yP(n))for(const[r,i]of Object.entries(n))typeof i<"u"&&e.push([`${t}[${r}]`,String(i)]);else vP(n)&&n&&e.push([t,n.toString()])}function wP(e){const t=[];for(const[n,r]of Object.entries(e))Pw(t,n,r);return t}function xc(e){const t=gP(),n=wP(e);for(const r of n){const[i,s,...o]=r;t.append(i,s,...o)}return t}class Ft extends Ap{constructor(n,r,i,s,o){super();N(this,"code");N(this,"request");N(this,"response");N(this,"headers");this.name="UploadError",this.message=n,this.code=r,this.request=i,this.response=s,this.headers=o,Object.setPrototypeOf(this,Ft.prototype)}}const bP=e=>{const t=new URLSearchParams;for(const[n,r]of Object.entries(e))r&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).filter(i=>i[1]??!1).forEach(i=>t.set(`${n}[${i[0]}]`,String(i[1]))):Array.isArray(r)?r.forEach(i=>{t.append(`${n}[]`,i)}):typeof r=="string"&&r?t.set(n,r):typeof r=="number"&&t.set(n,r.toString());return t.toString()},fr=(e,t,n)=>{const r=new URL(e);return r.pathname=(r.pathname+t).replace("//","/"),n&&(r.search=bP(n)),r.toString()};var EP="6.14.1";const CP="UploadcareUploadClient",SP=EP;function ns(e){return Iw({libraryName:CP,libraryVersion:SP,...e})}const TP="RequestThrottledError",t0=15e3,IP=1e3;function xP(e){const{headers:t}=e||{};if(!t||typeof t["retry-after"]!="string")return t0;const n=parseInt(t["retry-after"],10);return Number.isFinite(n)?n*1e3:t0}function yi(e,t){const{retryThrottledRequestMaxTimes:n,retryNetworkErrorMaxTimes:r}=t;return dP(({attempt:i,retry:s})=>e().catch(o=>{if("response"in o&&(o==null?void 0:o.code)===TP&&i<n)return s(xP(o));if(o instanceof na&&i<r)return s((i+1)*IP);throw o}))}const Rw=e=>{let t="";return(Sc(e)||Tc(e)||Ic(e))&&(t=e.type),t||Cc},Ow=e=>{let t="";return Tc(e)&&e.name?t=e.name:Sc(e)||Aw()?t="":Ic(e)&&e.name&&(t=e.name),t||kw};function Pp(e){return typeof e>"u"||e==="auto"?"auto":e?"1":"0"}function kP(e,{publicKey:t,fileName:n,contentType:r,baseURL:i=fe.baseURL,secureSignature:s,secureExpire:o,store:a,signal:u,onProgress:c,source:h="local",integration:p,userAgent:m,retryThrottledRequestMaxTimes:I=fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:b=fe.retryNetworkErrorMaxTimes,metadata:x}){return yi(()=>vi({method:"POST",url:fr(i,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":ns({publicKey:t,integration:p,userAgent:m})},data:xc({file:{data:e,name:n||Ow(e),contentType:r||Rw(e)},UPLOADCARE_PUB_KEY:t,UPLOADCARE_STORE:Pp(a),signature:s,expire:o,source:h,metadata:x}),signal:u,onProgress:c}).then(({data:L,headers:C,request:_})=>{const S=_r(JSON.parse(L));if("error"in S)throw new Ft(S.error.content,S.error.errorCode,_,S,C);return S}),{retryNetworkErrorMaxTimes:b,retryThrottledRequestMaxTimes:I})}var Kh;(function(e){e.Token="token",e.FileInfo="file_info"})(Kh||(Kh={}));function AP(e,{publicKey:t,baseURL:n=fe.baseURL,store:r,fileName:i,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:u,source:c="url",signal:h,integration:p,userAgent:m,retryThrottledRequestMaxTimes:I=fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:b=fe.retryNetworkErrorMaxTimes,metadata:x}){return yi(()=>vi({method:"POST",headers:{"X-UC-User-Agent":ns({publicKey:t,integration:p,userAgent:m})},url:fr(n,"/from_url/",{jsonerrors:1,pub_key:t,source_url:e,store:Pp(r),filename:i,check_URL_duplicates:s?1:void 0,save_URL_duplicates:o?1:void 0,signature:a,expire:u,source:c,metadata:x}),signal:h}).then(({data:L,headers:C,request:_})=>{const S=_r(JSON.parse(L));if("error"in S)throw new Ft(S.error.content,S.error.errorCode,_,S,C);return S}),{retryNetworkErrorMaxTimes:b,retryThrottledRequestMaxTimes:I})}var Nt;(function(e){e.Unknown="unknown",e.Waiting="waiting",e.Progress="progress",e.Error="error",e.Success="success"})(Nt||(Nt={}));const PP=e=>"status"in e&&e.status===Nt.Error;function RP(e,{publicKey:t,baseURL:n=fe.baseURL,signal:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:o=fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:a=fe.retryNetworkErrorMaxTimes}={}){return yi(()=>vi({method:"GET",headers:t?{"X-UC-User-Agent":ns({publicKey:t,integration:i,userAgent:s})}:void 0,url:fr(n,"/from_url/status/",{jsonerrors:1,token:e}),signal:r}).then(({data:u,headers:c,request:h})=>{const p=_r(JSON.parse(u));if("error"in p&&!PP(p))throw new Ft(p.error.content,p.error.errorCode,h,p,c);return p}),{retryNetworkErrorMaxTimes:a,retryThrottledRequestMaxTimes:o})}function OP(e,{publicKey:t,baseURL:n=fe.baseURL,jsonpCallback:r,secureSignature:i,secureExpire:s,signal:o,source:a,integration:u,userAgent:c,retryThrottledRequestMaxTimes:h=fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:p=fe.retryNetworkErrorMaxTimes}){return yi(()=>vi({method:"POST",headers:{"X-UC-User-Agent":ns({publicKey:t,integration:u,userAgent:c})},url:fr(n,"/group/",{jsonerrors:1}),data:xc({files:e,callback:r,pub_key:t,signature:i,expire:s,source:a}),signal:o}).then(({data:m,headers:I,request:b})=>{const x=_r(JSON.parse(m));if("error"in x)throw new Ft(x.error.content,x.error.errorCode,b,x,I);return x}),{retryNetworkErrorMaxTimes:p,retryThrottledRequestMaxTimes:h})}function Lw(e,{publicKey:t,baseURL:n=fe.baseURL,signal:r,source:i,integration:s,userAgent:o,retryThrottledRequestMaxTimes:a=fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:u=fe.retryNetworkErrorMaxTimes}){return yi(()=>vi({method:"GET",headers:{"X-UC-User-Agent":ns({publicKey:t,integration:s,userAgent:o})},url:fr(n,"/info/",{jsonerrors:1,pub_key:t,file_id:e,source:i}),signal:r}).then(({data:c,headers:h,request:p})=>{const m=_r(JSON.parse(c));if("error"in m)throw new Ft(m.error.content,m.error.errorCode,p,m,h);return m}),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:u})}function LP(e,{publicKey:t,contentType:n,fileName:r,multipartChunkSize:i=fe.multipartChunkSize,baseURL:s="",secureSignature:o,secureExpire:a,store:u,signal:c,source:h="local",integration:p,userAgent:m,retryThrottledRequestMaxTimes:I=fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:b=fe.retryNetworkErrorMaxTimes,metadata:x}){return yi(()=>vi({method:"POST",url:fr(s,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":ns({publicKey:t,integration:p,userAgent:m})},data:xc({filename:r||kw,size:e,content_type:n||Cc,part_size:i,UPLOADCARE_STORE:Pp(u),UPLOADCARE_PUB_KEY:t,signature:o,expire:a,source:h,metadata:x}),signal:c}).then(({data:L,headers:C,request:_})=>{const S=_r(JSON.parse(L));if("error"in S)throw new Ft(S.error.content,S.error.errorCode,_,S,C);return S.parts=Object.keys(S.parts).map($=>S.parts[Number($)]),S}),{retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b})}function NP(e,t,{contentType:n,signal:r,onProgress:i,retryThrottledRequestMaxTimes:s=fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:o=fe.retryNetworkErrorMaxTimes}){return yi(()=>vi({method:"PUT",url:t,data:e,onProgress:i,signal:r,headers:{"Content-Type":n||Cc}}).then(a=>(i&&i({isComputable:!0,value:1}),a)).then(({status:a})=>({code:a})),{retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:o})}function DP(e,{publicKey:t,baseURL:n=fe.baseURL,source:r="local",signal:i,integration:s,userAgent:o,retryThrottledRequestMaxTimes:a=fe.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:u=fe.retryNetworkErrorMaxTimes}){return yi(()=>vi({method:"POST",url:fr(n,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":ns({publicKey:t,integration:s,userAgent:o})},data:xc({uuid:e,UPLOADCARE_PUB_KEY:t,source:r}),signal:i}).then(({data:c,headers:h,request:p})=>{const m=_r(JSON.parse(c));if("error"in m)throw new Ft(m.error.content,m.error.errorCode,p,m,h);return m}),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:u})}function Rp(e,{publicKey:t,baseURL:n,source:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:a,signal:u,onProgress:c}){return xw({check:h=>Lw(e,{publicKey:t,baseURL:n,signal:h,source:r,integration:i,userAgent:s,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:a}).then(p=>p.isReady?p:(c&&c({isComputable:!0,value:1}),!1)),signal:u})}function MP(e){return"defaultEffects"in e}class _o{constructor(t,{baseCDN:n=fe.baseCDN,fileName:r}={}){N(this,"uuid");N(this,"name",null);N(this,"size",null);N(this,"isStored",null);N(this,"isImage",null);N(this,"mimeType",null);N(this,"cdnUrl",null);N(this,"s3Url",null);N(this,"originalFilename",null);N(this,"imageInfo",null);N(this,"videoInfo",null);N(this,"contentInfo",null);N(this,"metadata",null);N(this,"s3Bucket",null);N(this,"defaultEffects",null);const{uuid:i,s3Bucket:s}=t,o=fr(n,`${i}/`),a=s?fr(`https://${s}.s3.amazonaws.com/`,`${i}/${t.filename}`):null;this.uuid=i,this.name=r||t.filename,this.size=t.size,this.isStored=t.isStored,this.isImage=t.isImage,this.mimeType=t.mimeType,this.cdnUrl=o,this.originalFilename=t.originalFilename,this.imageInfo=t.imageInfo,this.videoInfo=t.videoInfo,this.contentInfo=t.contentInfo,this.metadata=t.metadata||null,this.s3Bucket=s||null,this.s3Url=a,MP(t)&&(this.defaultEffects=t.defaultEffects)}}const $P=(e,{publicKey:t,fileName:n,baseURL:r,secureSignature:i,secureExpire:s,store:o,contentType:a,signal:u,onProgress:c,source:h,integration:p,userAgent:m,retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b,baseCDN:x,metadata:L})=>kP(e,{publicKey:t,fileName:n,contentType:a,baseURL:r,secureSignature:i,secureExpire:s,store:o,signal:u,onProgress:c,source:h,integration:p,userAgent:m,retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b,metadata:L}).then(({file:C})=>Rp(C,{publicKey:t,baseURL:r,source:h,integration:p,userAgent:m,retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b,onProgress:c,signal:u})).then(C=>new _o(C,{baseCDN:x})),UP=(e,{publicKey:t,fileName:n,baseURL:r,signal:i,onProgress:s,source:o,integration:a,userAgent:u,retryThrottledRequestMaxTimes:c,retryNetworkErrorMaxTimes:h,baseCDN:p})=>Lw(e,{publicKey:t,baseURL:r,signal:i,source:o,integration:a,userAgent:u,retryThrottledRequestMaxTimes:c,retryNetworkErrorMaxTimes:h}).then(m=>new _o(m,{baseCDN:p,fileName:n})).then(m=>(s&&s({isComputable:!0,value:1}),m)),FP=(e,{signal:t}={})=>{let n=null,r=null;const i=e.map(()=>new AbortController),s=o=>()=>{r=o,i.forEach((a,u)=>u!==o&&a.abort())};return Ec(t,()=>{i.forEach(o=>o.abort())}),Promise.all(e.map((o,a)=>{const u=s(a);return Promise.resolve().then(()=>o({stopRace:u,signal:i[a].signal})).then(c=>(u(),c)).catch(c=>(n=c,null))})).then(o=>{if(r===null)throw n;return o[r]})};var jP=window.WebSocket;class zP{constructor(){N(this,"events",Object.create({}))}emit(t,n){var r;(r=this.events[t])==null||r.forEach(i=>i(n))}on(t,n){this.events[t]=this.events[t]||[],this.events[t].push(n)}off(t,n){n?this.events[t]=this.events[t].filter(r=>r!==n):this.events[t]=[]}}const VP=(e,t)=>e==="success"?{status:Nt.Success,...t}:e==="progress"?{status:Nt.Progress,...t}:{status:Nt.Error,...t};class BP{constructor(t,n=3e4){N(this,"key");N(this,"disconnectTime");N(this,"ws");N(this,"queue",[]);N(this,"isConnected",!1);N(this,"subscribers",0);N(this,"emmitter",new zP);N(this,"disconnectTimeoutId",null);this.key=t,this.disconnectTime=n}connect(){if(this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),!this.isConnected&&!this.ws){const t=`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`;this.ws=new jP(t),this.ws.addEventListener("error",n=>{this.emmitter.emit("error",new Error(n.message))}),this.emmitter.on("connected",()=>{this.isConnected=!0,this.queue.forEach(n=>this.send(n.event,n.data)),this.queue=[]}),this.ws.addEventListener("message",n=>{const r=JSON.parse(n.data.toString());switch(r.event){case"pusher:connection_established":{this.emmitter.emit("connected",void 0);break}case"pusher:ping":{this.send("pusher:pong",{});break}case"progress":case"success":case"fail":this.emmitter.emit(r.channel,VP(r.event,JSON.parse(r.data)))}})}}disconnect(){const t=()=>{var n;(n=this.ws)==null||n.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout(()=>{t()},this.disconnectTime):t()}send(t,n){var i;const r=JSON.stringify({event:t,data:n});(i=this.ws)==null||i.send(r)}subscribe(t,n){this.subscribers+=1,this.connect();const r=`task-status-${t}`,i={event:"pusher:subscribe",data:{channel:r}};this.emmitter.on(r,n),this.isConnected?this.send(i.event,i.data):this.queue.push(i)}unsubscribe(t){this.subscribers-=1;const n=`task-status-${t}`,r={event:"pusher:unsubscribe",data:{channel:n}};this.emmitter.off(n),this.isConnected?this.send(r.event,r.data):this.queue=this.queue.filter(i=>i.data.channel!==n),this.subscribers===0&&this.disconnect()}onError(t){return this.emmitter.on("error",t),()=>this.emmitter.off("error",t)}}let kd=null;const Op=e=>{if(!kd){const t=typeof window>"u"?0:3e4;kd=new BP(e,t)}return kd},HP=e=>{Op(e).connect()};function WP({token:e,publicKey:t,baseURL:n,integration:r,userAgent:i,retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:o,onProgress:a,signal:u}){return xw({check:c=>RP(e,{publicKey:t,baseURL:n,integration:r,userAgent:i,retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:o,signal:c}).then(h=>{switch(h.status){case Nt.Error:return new Ft(h.error,h.errorCode);case Nt.Waiting:return!1;case Nt.Unknown:return new Ft(`Token "${e}" was not found.`);case Nt.Progress:return a&&(h.total==="unknown"?a({isComputable:!1}):a({isComputable:!0,value:h.done/h.total})),!1;case Nt.Success:return a&&a({isComputable:!0,value:h.done/h.total}),h;default:throw new Error("Unknown status")}}),signal:u})}const GP=({token:e,pusherKey:t,signal:n,onProgress:r})=>new Promise((i,s)=>{const o=Op(t),a=o.onError(s),u=()=>{a(),o.unsubscribe(e)};Ec(n,()=>{u(),s(new Qi("pusher cancelled"))}),o.subscribe(e,c=>{switch(c.status){case Nt.Progress:{r&&(c.total==="unknown"?r({isComputable:!1}):r({isComputable:!0,value:c.done/c.total}));break}case Nt.Success:{u(),r&&r({isComputable:!0,value:c.done/c.total}),i(c);break}case Nt.Error:u(),s(new Ft(c.msg,c.error_code))}})}),KP=(e,{publicKey:t,fileName:n,baseURL:r,baseCDN:i,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:u,store:c,signal:h,onProgress:p,source:m,integration:I,userAgent:b,retryThrottledRequestMaxTimes:x,pusherKey:L=fe.pusherKey,metadata:C})=>Promise.resolve(HP(L)).then(()=>AP(e,{publicKey:t,fileName:n,baseURL:r,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:u,store:c,signal:h,source:m,integration:I,userAgent:b,retryThrottledRequestMaxTimes:x,metadata:C})).catch(_=>{const S=Op(L);return S==null||S.disconnect(),Promise.reject(_)}).then(_=>_.type===Kh.FileInfo?_:FP([({signal:S})=>WP({token:_.token,publicKey:t,baseURL:r,integration:I,userAgent:b,retryThrottledRequestMaxTimes:x,onProgress:p,signal:S}),({signal:S})=>GP({token:_.token,pusherKey:L,signal:S,onProgress:p})],{signal:h})).then(_=>{if(_ instanceof Ft)throw _;return _}).then(_=>Rp(_.uuid,{publicKey:t,baseURL:r,integration:I,userAgent:b,retryThrottledRequestMaxTimes:x,onProgress:p,signal:h})).then(_=>new _o(_,{baseCDN:i})),Ad=new WeakMap,XP=async e=>{if(Ad.has(e))return Ad.get(e);const t=await fetch(e.uri).then(n=>n.blob());return Ad.set(e,t),t},Nw=async e=>{if(Tc(e)||Sc(e))return e.size;if(Ic(e))return(await XP(e)).size;throw new Error("Unknown file type. Cannot determine file size.")},qP=(e,t=fe.multipartMinFileSize)=>e>=t,Dw=e=>{const t="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}",n=new RegExp(t);return!yo(e)&&n.test(e)},Lp=e=>{const t="^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$",n=new RegExp(t);return!yo(e)&&n.test(e)},YP=(e,t)=>new Promise((n,r)=>{const i=[];let s=!1,o=t.length;const a=[...t],u=()=>{const c=t.length-a.length,h=a.shift();h&&h().then(p=>{s||(i[c]=p,o-=1,o?u():n(i))}).catch(p=>{s=!0,r(p)})};for(let c=0;c<e;c++)u()}),JP=(e,t,n,r)=>{const i=r*t,s=Math.min(i+r,n);return e.slice(i,s)},QP=async(e,t,n)=>r=>JP(e,r,t,n),ZP=(e,t,{publicKey:n,contentType:r,onProgress:i,signal:s,integration:o,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:u})=>NP(e,t,{publicKey:n,contentType:r,onProgress:i,signal:s,integration:o,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:u}),eR=async(e,{publicKey:t,fileName:n,fileSize:r,baseURL:i,secureSignature:s,secureExpire:o,store:a,signal:u,onProgress:c,source:h,integration:p,userAgent:m,retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b,contentType:x,multipartChunkSize:L=fe.multipartChunkSize,maxConcurrentRequests:C=fe.maxConcurrentRequests,baseCDN:_,metadata:S})=>{const $=r??await Nw(e);let j;const B=(g,v)=>{if(!c)return;j||(j=Array(g).fill(0));const w=E=>E.reduce((k,A)=>k+A,0);return E=>{E.isComputable&&(j[v]=E.value,c({isComputable:!0,value:w(j)/g}))}};return x||(x=Rw(e)),LP($,{publicKey:t,contentType:x,fileName:n||Ow(e),baseURL:i,secureSignature:s,secureExpire:o,store:a,signal:u,source:h,integration:p,userAgent:m,retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b,metadata:S}).then(async({uuid:g,parts:v})=>{const w=await QP(e,$,L);return Promise.all([g,YP(C,v.map((E,k)=>()=>ZP(w(k),E,{publicKey:t,contentType:x,onProgress:B(v.length,k),signal:u,integration:p,retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b})))])}).then(([g])=>DP(g,{publicKey:t,baseURL:i,source:h,integration:p,userAgent:m,retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b})).then(g=>g.isReady?g:Rp(g.uuid,{publicKey:t,baseURL:i,source:h,integration:p,userAgent:m,retryThrottledRequestMaxTimes:I,retryNetworkErrorMaxTimes:b,onProgress:c,signal:u})).then(g=>new _o(g,{baseCDN:_}))};async function Mw(e,{publicKey:t,fileName:n,baseURL:r=fe.baseURL,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:u,source:c,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,retryNetworkErrorMaxTimes:I,contentType:b,multipartMinFileSize:x,multipartChunkSize:L,maxConcurrentRequests:C,baseCDN:_=fe.baseCDN,checkForUrlDuplicates:S,saveUrlForRecurrentUploads:$,pusherKey:j,metadata:B}){if(yo(e)){const g=await Nw(e);return qP(g,x)?eR(e,{publicKey:t,contentType:b,multipartChunkSize:L,fileSize:g,fileName:n,baseURL:r,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:u,source:c,integration:h,userAgent:p,maxConcurrentRequests:C,retryThrottledRequestMaxTimes:m,retryNetworkErrorMaxTimes:I,baseCDN:_,metadata:B}):$P(e,{publicKey:t,fileName:n,contentType:b,baseURL:r,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:u,source:c,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,retryNetworkErrorMaxTimes:I,baseCDN:_,metadata:B})}if(Lp(e))return KP(e,{publicKey:t,fileName:n,baseURL:r,baseCDN:_,checkForUrlDuplicates:S,saveUrlForRecurrentUploads:$,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:u,source:c,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,retryNetworkErrorMaxTimes:I,pusherKey:j,metadata:B});if(Dw(e))return UP(e,{publicKey:t,fileName:n,baseURL:r,signal:a,onProgress:u,source:c,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,retryNetworkErrorMaxTimes:I,baseCDN:_});throw new TypeError(`File uploading from "${e}" is not supported`)}class tR{constructor(t,{baseCDN:n=fe.baseCDN}={}){N(this,"uuid");N(this,"filesCount");N(this,"totalSize");N(this,"isStored");N(this,"isImage");N(this,"cdnUrl");N(this,"files");N(this,"createdAt");N(this,"storedAt",null);this.uuid=t.id,this.filesCount=t.filesCount;const r=t.files.filter(Boolean);this.totalSize=Object.values(r).reduce((i,s)=>i+s.size,0),this.isStored=!!t.datetimeStored,this.isImage=!!Object.values(r).filter(i=>i.isImage).length,this.cdnUrl=t.cdnUrl,this.files=r.map(i=>new _o(i,{baseCDN:n})),this.createdAt=t.datetimeCreated,this.storedAt=t.datetimeStored}}const nR=e=>{for(const t of e)if(!yo(t))return!1;return!0},rR=e=>{for(const t of e)if(!Dw(t))return!1;return!0},iR=e=>{for(const t of e)if(!Lp(t))return!1;return!0};function sR(e,{publicKey:t,fileName:n,baseURL:r=fe.baseURL,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:u,source:c,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,retryNetworkErrorMaxTimes:I,contentType:b,multipartChunkSize:x=fe.multipartChunkSize,baseCDN:L=fe.baseCDN,checkForUrlDuplicates:C,saveUrlForRecurrentUploads:_,jsonpCallback:S}){if(!nR(e)&&!iR(e)&&!rR(e))throw new TypeError(`Group uploading from "${e}" is not supported`);let $,j=!0;const B=e.length,g=(v,w)=>{if(!u)return;$||($=Array(v).fill(0));const E=k=>k.reduce((A,T)=>A+T)/v;return k=>{if(!k.isComputable||!j){j=!1,u({isComputable:!1});return}$[w]=k.value,u({isComputable:!0,value:E($)})}};return Promise.all(e.map((v,w)=>yo(v)||Lp(v)?Mw(v,{publicKey:t,fileName:n,baseURL:r,secureSignature:i,secureExpire:s,store:o,signal:a,onProgress:g(B,w),source:c,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,retryNetworkErrorMaxTimes:I,contentType:b,multipartChunkSize:x,baseCDN:L,checkForUrlDuplicates:C,saveUrlForRecurrentUploads:_}).then(E=>E.uuid):v)).then(v=>OP(v,{publicKey:t,baseURL:r,jsonpCallback:S,secureSignature:i,secureExpire:s,signal:a,source:c,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,retryNetworkErrorMaxTimes:I}).then(w=>new tR(w,{baseCDN:L})).then(w=>(u&&u({isComputable:!0,value:1}),w)))}class oR{constructor(t){N(this,"_concurrency",1);N(this,"_pending",[]);N(this,"_running",0);N(this,"_resolvers",new Map);N(this,"_rejectors",new Map);this._concurrency=t}_run(){const t=this._concurrency-this._running;for(let n=0;n<t;n++){const r=this._pending.shift();if(!r)return;const i=this._resolvers.get(r),s=this._rejectors.get(r);if(!i||!s)throw new Error("Unexpected behavior: resolver or rejector is undefined");this._running+=1,r().finally(()=>{this._resolvers.delete(r),this._rejectors.delete(r),this._running-=1,this._run()}).then(o=>i(o)).catch(o=>s(o))}}add(t){return new Promise((n,r)=>{this._resolvers.set(t,n),this._rejectors.set(t,r),this._pending.push(t),this._run()})}get pending(){return this._pending.length}get running(){return this._running}set concurrency(t){this._concurrency=t,this._run()}get concurrency(){return this._concurrency}}const $w=()=>({}),Uw=e=>({...$w(),"*currentActivity":"","*currentActivityParams":{},"*history":[],"*historyBack":null,"*closeModal":()=>{e.set$({"*modalActive":!1,"*currentActivity":""})}}),Fw=e=>({...Uw(e),"*commonProgress":0,"*uploadList":[],"*focusedEntry":null,"*uploadMetadata":null,"*uploadQueue":new oR(1),"*uploadCollection":null,"*collectionErrors":[],"*collectionState":null,"*groupInfo":null,"*uploadTrigger":new Set}),Np={"locale-id":"en","social-source-lang":"en","upload-file":"Upload file","upload-files":"Upload files","choose-file":"Choose file","choose-files":"Choose files","drop-files-here":"Drop files here","select-file-source":"Select file source",selected:"Selected",upload:"Upload","add-more":"Add more",cancel:"Cancel","start-from-cancel":"Cancel",clear:"Clear","camera-shot":"Shot","upload-url":"Import","upload-url-placeholder":"Paste link here","edit-image":"Edit image","edit-detail":"Details",back:"Back",done:"Done",ok:"Ok","remove-from-list":"Remove",no:"No",yes:"Yes","confirm-your-action":"Confirm your action","are-you-sure":"Are you sure?","selected-count":"Selected:","upload-error":"Upload error","validation-error":"Validation error","no-files":"No files selected",browse:"Browse","not-uploaded-yet":"Not uploaded yet...",file__one:"file",file__other:"files",error__one:"error",error__other:"errors","header-uploading":"Uploading {{count}} {{plural:file(count)}}","header-failed":"{{count}} {{plural:error(count)}}","header-succeed":"{{count}} {{plural:file(count)}} uploaded","header-total":"{{count}} {{plural:file(count)}} selected","src-type-local":"From device","src-type-from-url":"From link","src-type-camera":"Camera","src-type-draw":"Draw","src-type-facebook":"Facebook","src-type-dropbox":"Dropbox","src-type-gdrive":"Google Drive","src-type-gphotos":"Google Photos","src-type-instagram":"Instagram","src-type-flickr":"Flickr","src-type-vk":"VK","src-type-evernote":"Evernote","src-type-box":"Box","src-type-onedrive":"Onedrive","src-type-huddle":"Huddle","src-type-other":"Other","caption-from-url":"Import from link","caption-camera":"Camera","caption-draw":"Draw","caption-edit-file":"Edit file","file-no-name":"No name...","toggle-fullscreen":"Toggle fullscreen","toggle-guides":"Toggle guides",rotate:"Rotate","flip-vertical":"Flip vertical","flip-horizontal":"Flip horizontal",apply:"Apply",brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",exposure:"Exposure",gamma:"Gamma",vibrance:"Vibrance",warmth:"Warmth",enhance:"Enhance",original:"Original",resize:"Resize image",crop:"Crop","select-color":"Select color",text:"Text",draw:"Draw","cancel-edit":"Cancel edit","tab-view":"Preview","tab-details":"Details","file-name":"Name","file-size":"Size","cdn-url":"CDN URL","file-size-unknown":"Unknown","camera-permissions-denied":"Camera access denied","camera-permissions-prompt":"Please allow access to the camera","camera-permissions-request":"Request access","files-count-limit-error-title":"Files count limit overflow","files-count-limit-error-too-few":"Youve chosen {{total}} {{plural:file(total)}}. At least {{min}} {{plural:file(min)}} required.","files-count-limit-error-too-many":"Youve chosen too many files. {{max}} {{plural:file(max)}} is maximum.","files-max-size-limit-error":"File is too big. Max file size is {{maxFileSize}}.","has-validation-errors":"File validation error ocurred. Please, check your files before upload.","images-only-accepted":"Only image files are accepted.","file-type-not-allowed":"Uploading of these file types is not allowed.","some-files-were-not-uploaded":"Some files were not uploaded."},Gu=new Map,Xh=new Map,jw=(e,t)=>{Gu.has(e)&&console.log(`Locale ${e} is already defined. Overwriting...`),Gu.set(e,{...Np,...t})},lR=(e,t)=>{Xh.set(e,t)},zw=(e,t)=>{typeof t=="function"?lR(e,t):jw(e,t)},aR=async e=>{if(!Gu.has(e)){if(!Xh.has(e))throw new Error(`Locale ${e} is not defined`);const n=await Xh.get(e)();jw(e,n)}return Gu.get(e)};zw("en",Np);const ji=e=>`*l10n/${e}`,uR="en";class cR{constructor(t){N(this,"_blockInstance",null);N(this,"_localeName","");N(this,"_callbacks",new Set);N(this,"_boundBlocks",new Map);this._blockInstance=t;for(let[n,r]of Object.entries(Np))this._blockInstance.add(ji(n),r,!1);setTimeout(()=>{t.subConfigValue("localeName",async n=>{var s;if(!this._blockInstance||!n)return;this._localeName=n;const r=await aR(n);if(n!==uR&&this._localeName!==n)return;const i=(s=this._blockInstance.cfg.localeDefinitionOverride)==null?void 0:s[n];for(const[o,a]of Object.entries(r)){const u=i==null?void 0:i[o];this._blockInstance.add(ji(o),u??a,!0);for(const c of this._callbacks)c()}}),t.subConfigValue("localeDefinitionOverride",n=>{var i;if(!n)return;const r=n[this._localeName];if(r)for(const[s,o]of Object.entries(r)){(i=this._blockInstance)==null||i.add(ji(s),o,!0);for(const a of this._callbacks)a()}})})}onLocaleChange(t){const n=dn(t,0);return this._callbacks.add(n),()=>{this._callbacks.delete(n)}}bindL10n(t,n,r){var s,o,a;t.$[n]=r(),this._boundBlocks.has(t)||this._boundBlocks.set(t,new Map),(o=(s=this._boundBlocks.get(t))==null?void 0:s.get(n))==null||o();const i=this.onLocaleChange(()=>{t.$[n]=r()});(a=this._boundBlocks.get(t))==null||a.set(n,i)}destroyL10nBindings(t){const n=this._boundBlocks.get(t);if(n){for(const r of n.values())r();this._boundBlocks.delete(t)}}destroy(){this._callbacks.clear()}}function dR(e,t){[...e.querySelectorAll("[l10n]")].forEach(n=>{let r=n.getAttribute("l10n");if(!r)return;let i="textContent",s=!1;if(r.includes(":")){const u=r.split(":");i=u[0],r=u[1],i.startsWith("@")&&(i=i.slice(1),s=!0)}const o=r;t.has(o)&&t.sub(o,u=>{if(!u)return;t.l10nProcessorSubs.has(o)||t.l10nProcessorSubs.set(o,new Set);const c=t.l10nProcessorSubs.get(o);c==null||c.forEach(m=>{m.remove(),c.delete(m),t.allSubs.delete(m)});const h=ji(u).replace("*","");t.nodeCtx.has(h)||t.nodeCtx.add(h,u);const p=t.nodeCtx.sub(h,()=>{n[i]=t.l10n(u)});c==null||c.add(p),t.allSubs.add(p),n.removeAttribute("l10n")});const a=ji(r);t.has(a)||t.add(a,""),t.sub(a,()=>{r=r,s?n.setAttribute(i,t.l10n(r)):n[i]=t.l10n(r)}),n.removeAttribute("l10n")})}const nn=e=>`*cfg/${e}`,Dp="blocks",Mp="0.39.1",Vw=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t},$p=(...e)=>e.filter(t=>typeof t=="string"&&t).map(t=>Vw(t)).join("/-/"),li=(...e)=>{let t=$p(...e);return t?`-/${t}/`:""};function Bw(e){let t=new URL(e),n=t.pathname+t.search+t.hash,r=n.lastIndexOf("http"),i=n.lastIndexOf("/"),s="";return r>=0?s=n.slice(r):i>=0&&(s=n.slice(i+1)),s}function hR(e){let t=new URL(e),{pathname:n}=t;const r=n.indexOf("/"),i=n.indexOf("/",r+1);return n.substring(r+1,i)}function fR(e){let t=Hw(e),n=new URL(t),r=n.pathname.indexOf("/-/");return r===-1?[]:n.pathname.substring(r).split("/-/").filter(Boolean).map(s=>Vw(s))}function Hw(e){let t=new URL(e),n=Bw(e),r=Ww(n)?Gw(n).pathname:n;return t.pathname=t.pathname.replace(r,""),t.search="",t.hash="",t.toString()}function Ww(e){return e.startsWith("http")}function Gw(e){let t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}const rn=(e,t,n)=>{let r=new URL(Hw(e));if(n=n||Bw(e),r.pathname.startsWith("//")&&(r.pathname=r.pathname.replace("//","/")),Ww(n)){let i=Gw(n);r.pathname=r.pathname+(t||"")+(i.pathname||""),r.search=i.search,r.hash=i.hash}else r.pathname=r.pathname+(t||"")+(n||"");return r.toString()},jl=(e,t)=>{let n=new URL(e);return n.pathname=t+"/",n.toString()},pr=(e,t=",")=>e.trim().split(t).map(n=>n.trim()).filter(n=>n.length>0),Jt=Object.freeze({brightness:0,exposure:0,gamma:100,contrast:0,saturation:0,vibrance:0,warmth:0,enhance:0,filter:0,rotate:0,mirror:!1,flip:!1,crop:void 0}),Kw=["enhance","brightness","exposure","gamma","contrast","saturation","vibrance","warmth","filter","mirror","flip","rotate","crop"];function pR(e,t){if(typeof t=="number"){const n=t;return Jt[e]!==n?`${e}/${n}`:""}if(typeof t=="boolean"){const n=t;return Jt[e]!==n?`${e}`:""}if(e==="filter"&&t){const{name:n,amount:r}=t;return Jt.filter===r?"":`${e}/${n}/${r}`}if(e==="crop"&&t){let{dimensions:n,coords:r}=t;return`${e}/${n.join("x")}/${r.join(",")}`}return""}function kc(e){return $p(...Kw.filter(t=>typeof e[t]<"u"&&e[t]!==null).map(t=>{let n=e[t];return pR(t,n)}).filter(t=>!!t))}const Xw=$p("format/auto","progressive/yes"),Xn=([e])=>typeof e<"u"?Number(e):void 0,n0=()=>!0,mR=([e,t])=>({name:e,amount:typeof t<"u"?Number(t):100}),gR=([e,t])=>{if(!/\d+x\d+/.test(e)||!/\d+,\d+/.test(t))throw new Error("Crop by aspect ratio, percentage or alignment shortcuts is not supported.");return{dimensions:pr(e,"x").map(Number),coords:pr(t).map(Number)}},vR=Object.freeze({enhance:Xn,brightness:Xn,exposure:Xn,gamma:Xn,contrast:Xn,saturation:Xn,vibrance:Xn,warmth:Xn,filter:mR,mirror:n0,flip:n0,rotate:Xn,crop:gR});function yR(e){const t={};for(const n of e){const[r,...i]=n.split("/");if(!Kw.includes(r))continue;const s=r,o=vR[s];try{const a=o(i);t[s]=a}catch(a){console.warn([`Failed to parse URL operation "${n}". It will be ignored.`,a instanceof Error?`Error message: "${a.message}"`:a,"If you need this functionality, please feel free to open an issue at https://github.com/uploadcare/blocks/issues/new"].join(`
`))}}return t}const It=Object.freeze({CROP:"crop",TUNING:"tuning",FILTERS:"filters"}),Un=[It.CROP,It.TUNING,It.FILTERS],_R=["brightness","exposure","gamma","contrast","saturation","vibrance","warmth","enhance"],wR=["adaris","briaril","calarel","carris","cynarel","cyren","elmet","elonni","enzana","erydark","fenralan","ferand","galen","gavin","gethriel","iorill","iothari","iselva","jadis","lavra","misiara","namala","nerion","nethari","pamaya","sarnar","sedis","sewen","sorahel","sorlen","tarian","thellassan","varriel","varven","vevera","virkas","yedis","yllara","zatvel","zevcen"],bR=["rotate","mirror","flip"],lo=Object.freeze({brightness:{zero:Jt.brightness,range:[-100,100],keypointsNumber:2},exposure:{zero:Jt.exposure,range:[-500,500],keypointsNumber:2},gamma:{zero:Jt.gamma,range:[0,1e3],keypointsNumber:2},contrast:{zero:Jt.contrast,range:[-100,500],keypointsNumber:2},saturation:{zero:Jt.saturation,range:[-100,500],keypointsNumber:1},vibrance:{zero:Jt.vibrance,range:[-100,500],keypointsNumber:1},warmth:{zero:Jt.warmth,range:[-100,100],keypointsNumber:1},enhance:{zero:Jt.enhance,range:[0,100],keypointsNumber:1},filter:{zero:Jt.filter,range:[0,100],keypointsNumber:1}}),ER=e=>e?e.split(",").map(t=>t.trim()):[],Up=e=>e?e.join(","):"",CR="https://ucarecdn.com",SR="https://upload.uploadcare.com",TR="https://social.uploadcare.com",ni={pubkey:"",multiple:!0,multipleMin:0,multipleMax:Number.MAX_SAFE_INTEGER,confirmUpload:!1,imgOnly:!1,accept:"",externalSourcesPreferredTypes:"",store:"auto",cameraMirror:!1,cameraCapture:"",sourceList:"local, url, camera, dropbox, gdrive",cloudImageEditorTabs:Up(Un),maxLocalFileSizeBytes:0,thumbSize:76,showEmptyList:!1,useLocalImageEditor:!1,useCloudImageEditor:!0,removeCopyright:!1,cropPreset:"",imageShrink:"",modalScrollLock:!0,modalBackdropStrokes:!1,sourceListWrap:!0,remoteTabSessionKey:"",cdnCname:CR,baseUrl:SR,socialBaseUrl:TR,secureSignature:"",secureExpire:"",secureDeliveryProxy:"",retryThrottledRequestMaxTimes:1,multipartMinFileSize:26214400,multipartChunkSize:5242880,maxConcurrentRequests:10,multipartMaxConcurrentRequests:4,multipartMaxAttempts:3,checkForUrlDuplicates:!1,saveUrlForRecurrentUploads:!1,groupOutput:!1,userAgentIntegration:"",debug:!1,metadata:null,localeName:"en",localeDefinitionOverride:null},Pd="lr-";class Ee extends bc{constructor(){super();N(this,"requireCtxName",!1);N(this,"allowCustomTemplate",!0);N(this,"activityType",null);N(this,"init$",$w());this.l10nProcessorSubs=new Map,this.addTemplateProcessor(dR)}l10n(n,r={}){if(!n)return"";let i=this.$[ji(n)]||n,s=sP(i);for(let a of s)r[a.variable]=this.pluralize(a.pluralKey,Number(r[a.countVariable]));return Gh(i,r)}pluralize(n,r){const i=this.l10n("locale-id")||"en",s=Sw(i,r);return this.l10n(`${n}__${s}`)}bindL10n(n,r){var i;(i=this.localeManager)==null||i.bindL10n(this,n,r)}emit(n,r,i){const s=this.has("*eventEmitter")&&this.$["*eventEmitter"];s&&s.emit(n,r,i)}hasBlockInCtx(n){let r=this.$["*blocksRegistry"];for(let i of r)if(n(i))return!0;return!1}setOrAddState(n,r){this.add$({[n]:r},!0)}setActivity(n){if(this.hasBlockInCtx(r=>r.activityType===n)){this.$["*currentActivity"]=n;return}console.warn(`Activity type "${n}" not found in the context`)}connectedCallback(){const n=this.constructor.className;n&&this.classList.toggle(`${Pd}${n}`,!0),this.hasAttribute("retpl")&&(this.constructor.template=null,this.processInnerHtml=!0),this.requireCtxName?oP({element:this,attribute:"ctx-name",onSuccess:()=>{super.connectedCallback()},onTimeout:()=>{console.error("Attribute `ctx-name` is required and it is not set.")}}):super.connectedCallback(),Wu.registerClient(this)}disconnectedCallback(){super.disconnectedCallback(),Wu.unregisterClient(this)}initCallback(){this.has("*blocksRegistry")||this.add("*blocksRegistry",new Set),this.$["*blocksRegistry"].add(this),this.has("*eventEmitter")||this.add("*eventEmitter",new nP(this.debugPrint.bind(this))),this.has("*localeManager")||this.add("*localeManager",new cR(this)),this.sub(ji("locale-id"),r=>{this.style.direction=rP(r)})}get localeManager(){return this.has("*localeManager")?this.$["*localeManager"]:null}destroyCallback(){var r;let n=this.$["*blocksRegistry"];n.delete(this),(r=this.localeManager)==null||r.destroyL10nBindings(this),this.l10nProcessorSubs=new Map,ye.deleteCtx(this),n.size===0&&setTimeout(()=>{this.destroyCtxCallback()},0)}destroyCtxCallback(){var n;ye.deleteCtx(this.ctxName),(n=this.localeManager)==null||n.destroy()}fileSizeFmt(n,r=2){let i=["B","KB","MB","GB","TB"];if(n===0)return`0 ${i[0]}`;let s=1024,o=r<0?0:r,a=Math.floor(Math.log(n)/Math.log(s));return parseFloat((n/s**a).toFixed(o))+" "+i[a]}proxyUrl(n){let r=this.cfg.secureDeliveryProxy;return r?Gh(r,{previewUrl:n},{transform:i=>window.encodeURIComponent(i)}):n}get cfg(){if(!this.__cfgProxy){let n=Object.create(null);this.__cfgProxy=new Proxy(n,{set:(r,i,s)=>{if(typeof i!="string")return!1;const o=nn(i);return this.has(o)||this.add(o,ni[i]),this.$[o]=s,!0},get:(r,i)=>{const s=nn(i);return this.has(s)||this.add(s,ni[i]),this.$[nn(i)]}})}return this.__cfgProxy}subConfigValue(n,r){const i=nn(n);this.has(i)||this.add(i,ni[n]),this.sub(i,r)}debugPrint(...n){if(!this.cfg.debug)return;let r=n;if(typeof(n==null?void 0:n[0])=="function"){const i=n[0];r=i()}console.log(`[${this.ctxName}]`,...r)}static reg(n){if(!n){super.reg();return}super.reg(n.startsWith(Pd)?n:Pd+n)}}N(Ee,"StateConsumerScope",null),N(Ee,"className","");const r0="active",Xo="___ACTIVITY_IS_ACTIVE___",Yn=class Yn extends Ee{constructor(){super(...arguments);N(this,"historyTracked",!1);N(this,"init$",Uw(this));N(this,"_debouncedHistoryFlush",dn(this._historyFlush.bind(this),10))}_deactivate(){var r;let n=Yn._activityCallbacks.get(this);this[Xo]=!1,this.removeAttribute(r0),(r=n==null?void 0:n.deactivateCallback)==null||r.call(n)}_activate(){var r;let n=Yn._activityCallbacks.get(this);this.$["*historyBack"]=this.historyBack.bind(this),this[Xo]=!0,this.setAttribute(r0,""),(r=n==null?void 0:n.activateCallback)==null||r.call(n),this._debouncedHistoryFlush(),this.emit(Ve.ACTIVITY_CHANGE,{activity:this.activityType})}initCallback(){super.initCallback(),this.hasAttribute("current-activity")&&this.sub("*currentActivity",n=>{this.setAttribute("current-activity",n)}),this.activityType&&(this.hasAttribute("activity")||this.setAttribute("activity",this.activityType),this.sub("*currentActivity",n=>{this.activityType!==n&&this[Xo]?this._deactivate():this.activityType===n&&!this[Xo]&&this._activate(),n||(this.$["*history"]=[])}),this.has("*modalActive")&&this.sub("*modalActive",n=>{!n&&this.activityType===this.$["*currentActivity"]&&(this.$["*currentActivity"]=null)}))}_historyFlush(){let n=this.$["*history"];n&&(n.length>10&&(n=n.slice(n.length-11,n.length-1)),this.historyTracked&&n[n.length-1]!==this.activityType&&n.push(this.activityType),this.$["*history"]=n)}_isActivityRegistered(){return this.activityType&&Yn._activityCallbacks.has(this)}get isActivityActive(){return this[Xo]}get couldOpenActivity(){return!0}registerActivity(n,r={}){const{onActivate:i,onDeactivate:s}=r;Yn._activityCallbacks.set(this,{activateCallback:i,deactivateCallback:s})}unregisterActivity(){this.isActivityActive&&this._deactivate(),Yn._activityCallbacks.delete(this)}destroyCallback(){super.destroyCallback(),this._isActivityRegistered()&&this.unregisterActivity();const n=this.$["*currentActivity"];!![...this.$["*blocksRegistry"]].find(s=>s instanceof Yn&&s.activityType===n)||(this.$["*currentActivity"]=null)}get activityKey(){return this.ctxName+this.activityType}get activityParams(){return this.$["*currentActivityParams"]}get initActivity(){return this.getCssData("--cfg-init-activity")}get doneActivity(){return this.getCssData("--cfg-done-activity")}historyBack(){let n=this.$["*history"];if(n){let r=n.pop();for(;r===this.activityType;)r=n.pop();let i=!!r;if(r){const o=[...this.$["*blocksRegistry"]].find(a=>a.activityType===r);i=(o==null?void 0:o.couldOpenActivity)??!1}r=i?r:void 0,this.$["*currentActivity"]=r,this.$["*history"]=n,r||this.setOrAddState("*modalActive",!1)}}};N(Yn,"_activityCallbacks",new Map);let se=Yn;se.activities=Object.freeze({START_FROM:"start-from",CAMERA:"camera",DRAW:"draw",UPLOAD_LIST:"upload-list",URL:"url",CONFIRMATION:"confirmation",CLOUD_IMG_EDIT:"cloud-image-edit",EXTERNAL:"external",DETAILS:"details"});const IR=20,qh=24,sl=34,qw=3,On=qw/2,Ii=1,Fa=100/3,ae=1,i0=24,xR=6;function bs(e,t){for(let n in t)e.setAttributeNS(null,n,t[n].toString())}function mn(e,t={}){let n=document.createElementNS("http://www.w3.org/2000/svg",e);return bs(n,t),n}function kR(e,t,n){let{x:r,y:i,width:s,height:o}=e,a=t.includes("w")?0:1,u=t.includes("n")?0:1,c=[-1,1][a],h=[-1,1][u],p=[r+a*s+On*c,i+u*o+On*h-qh*n*h],m=[r+a*s+On*c,i+u*o+On*h],I=[r+a*s-qh*n*c+On*c,i+u*o+On*h];return{d:`M ${p[0]} ${p[1]} L ${m[0]} ${m[1]} L ${I[0]} ${I[1]}`,center:m}}function AR(e,t,n){let{x:r,y:i,width:s,height:o}=e,a=["n","s"].includes(t)?.5:{w:0,e:1}[t],u=["w","e"].includes(t)?.5:{n:0,s:1}[t],c=[-1,1][a],h=[-1,1][u],p,m;["n","s"].includes(t)?(p=[r+a*s-sl*n/2,i+u*o+On*h],m=[r+a*s+sl*n/2,i+u*o+On*h]):(p=[r+a*s+On*c,i+u*o-sl*n/2],m=[r+a*s+On*c,i+u*o+sl*n/2]);let I=`M ${p[0]} ${p[1]} L ${m[0]} ${m[1]}`,b=[m[0]-(m[0]-p[0])/2,m[1]-(m[1]-p[1])/2];return{d:I,center:b}}function PR(e){return e===""?"move":["e","w"].includes(e)?"ew-resize":["n","s"].includes(e)?"ns-resize":["nw","se"].includes(e)?"nwse-resize":"nesw-resize"}function RR({rect:e,delta:[t,n],imageBox:r}){return Ku({...e,x:e.x+t,y:e.y+n},r)}function Ku(e,t){let{x:n}=e,{y:r}=e;return e.x<t.x?n=t.x:e.x+e.width>t.x+t.width&&(n=t.x+t.width-e.width),e.y<t.y?r=t.y:e.y+e.height>t.y+t.height&&(r=t.y+t.height-e.height),{...e,x:n,y:r}}function OR({rect:e,delta:t,aspectRatio:n,imageBox:r}){const[,i]=t;let{y:s,width:o,height:a}=e;s+=i,a-=i,n&&(o=a*n);let u=e.x+e.width/2-o/2;return s<=r.y&&(s=r.y,a=e.y+e.height-s,n&&(o=a*n,u=e.x+e.width/2-o/2)),u<=r.x&&(u=r.x,s=e.y+e.height-a),u+o>=r.x+r.width&&(u=Math.max(r.x,r.x+r.width-o),o=r.x+r.width-u,n&&(a=o/n),s=e.y+e.height-a),a<ae&&(a=ae,n&&(o=a*n,u=e.x+e.width/2-o/2),s=e.y+e.height-a),o<ae&&(o=ae,n&&(a=o/n,u=e.x+e.width/2-o/2),s=e.y+e.height-a),{x:u,y:s,width:o,height:a}}function LR({rect:e,delta:t,aspectRatio:n,imageBox:r}){const[i]=t;let{x:s,width:o,height:a}=e;s+=i,o-=i,n&&(a=o/n);let u=e.y+e.height/2-a/2;return s<=r.x&&(s=r.x,o=e.x+e.width-s,n&&(a=o/n,u=e.y+e.height/2-a/2)),u<=r.y&&(u=r.y,s=e.x+e.width-o),u+a>=r.y+r.height&&(u=Math.max(r.y,r.y+r.height-a),a=r.y+r.height-u,n&&(o=a*n),s=e.x+e.width-o),a<ae&&(a=ae,n&&(o=a*n),u=e.y+e.height/2-a/2,s=e.x+e.width-o),o<ae&&(o=ae,n&&(a=o/n),u=e.y+e.height/2-a/2,s=e.x+e.width-o),{x:s,y:u,width:o,height:a}}function NR({rect:e,delta:t,aspectRatio:n,imageBox:r}){const[,i]=t;let{y:s,width:o,height:a}=e;a+=i,n&&(o=a*n);let u=e.x+e.width/2-o/2;return s+a>=r.y+r.height&&(a=r.y+r.height-s,n&&(o=a*n),u=e.x+e.width/2-o/2),u<=r.x&&(u=r.x,s=e.y),u+o>=r.x+r.width&&(u=Math.max(r.x,r.x+r.width-o),o=r.x+r.width-u,n&&(a=o/n),s=e.y),a<ae&&(a=ae,n&&(o=a*n),u=e.x+e.width/2-o/2),o<ae&&(o=ae,n&&(a=o/n),u=e.x+e.width/2-o/2),{x:u,y:s,width:o,height:a}}function DR({rect:e,delta:t,aspectRatio:n,imageBox:r}){const[i]=t;let{x:s,width:o,height:a}=e;o+=i,n&&(a=o/n);let u=e.y+e.height/2-a/2;return s+o>=r.x+r.width&&(o=r.x+r.width-s,n&&(a=o/n),u=e.y+e.height/2-a/2),u<=r.y&&(u=r.y,s=e.x),u+a>=r.y+r.height&&(u=Math.max(r.y,r.y+r.height-a),a=r.y+r.height-u,n&&(o=a*n),s=e.x),a<ae&&(a=ae,n&&(o=a*n),u=e.y+e.height/2-a/2),o<ae&&(o=ae,n&&(a=o/n),u=e.y+e.height/2-a/2),{x:s,y:u,width:o,height:a}}function MR({rect:e,delta:t,aspectRatio:n,imageBox:r}){let[i,s]=t,{x:o,y:a,width:u,height:c}=e;return o+i<r.x&&(i=r.x-o),a+s<r.y&&(s=r.y-a),o+=i,u-=i,a+=s,c-=s,n&&Math.abs(u/c)>n?(s=u/n-c,c+=s,a-=s,a<=r.y&&(c=c-(r.y-a),u=c*n,o=e.x+e.width-u,a=r.y)):n&&(i=c*n-u,u=u+i,o-=i,o<=r.x&&(u=u-(r.x-o),c=u/n,o=r.x,a=e.y+e.height-c)),c<ae&&(c=ae,n&&(u=c*n),o=e.x+e.width-u,a=e.y+e.height-c),u<ae&&(u=ae,n&&(c=u/n),o=e.x+e.width-u,a=e.y+e.height-c),{x:o,y:a,width:u,height:c}}function $R({rect:e,delta:t,aspectRatio:n,imageBox:r}){let[i,s]=t,{x:o,y:a,width:u,height:c}=e;return o+u+i>r.x+r.width&&(i=r.x+r.width-o-u),a+s<r.y&&(s=r.y-a),u+=i,a+=s,c-=s,n&&Math.abs(u/c)>n?(s=u/n-c,c+=s,a-=s,a<=r.y&&(c=c-(r.y-a),u=c*n,o=e.x,a=r.y)):n&&(i=c*n-u,u+=i,o+u>=r.x+r.width&&(u=r.x+r.width-o,c=u/n,o=r.x+r.width-u,a=e.y+e.height-c)),c<ae&&(c=ae,n&&(u=c*n),a=e.y+e.height-c),u<ae&&(u=ae,n&&(c=u/n),a=e.y+e.height-c),{x:o,y:a,width:u,height:c}}function UR({rect:e,delta:t,aspectRatio:n,imageBox:r}){let[i,s]=t,{x:o,y:a,width:u,height:c}=e;return o+i<r.x&&(i=r.x-o),a+c+s>r.y+r.height&&(s=r.y+r.height-a-c),o+=i,u-=i,c+=s,n&&Math.abs(u/c)>n?(s=u/n-c,c+=s,a+c>=r.y+r.height&&(c=r.y+r.height-a,u=c*n,o=e.x+e.width-u,a=r.y+r.height-c)):n&&(i=c*n-u,u+=i,o-=i,o<=r.x&&(u=u-(r.x-o),c=u/n,o=r.x,a=e.y)),c<ae&&(c=ae,n&&(u=c*n),o=e.x+e.width-u),u<ae&&(u=ae,n&&(c=u/n),o=e.x+e.width-u),{x:o,y:a,width:u,height:c}}function FR({rect:e,delta:t,aspectRatio:n,imageBox:r}){let[i,s]=t,{x:o,y:a,width:u,height:c}=e;return o+u+i>r.x+r.width&&(i=r.x+r.width-o-u),a+c+s>r.y+r.height&&(s=r.y+r.height-a-c),u+=i,c+=s,n&&Math.abs(u/c)>n?(s=u/n-c,c+=s,a+c>=r.y+r.height&&(c=r.y+r.height-a,u=c*n,o=e.x,a=r.y+r.height-c)):n&&(i=c*n-u,u+=i,o+u>=r.x+r.width&&(u=r.x+r.width-o,c=u/n,o=r.x+r.width-u,a=e.y)),c<ae&&(c=ae,n&&(u=c*n)),u<ae&&(u=ae,n&&(c=u/n)),{x:o,y:a,width:u,height:c}}function jR({direction:e,...t}){switch(e){case"n":return OR(t);case"w":return LR(t);case"s":return NR(t);case"e":return DR(t);case"nw":return MR(t);case"ne":return $R(t);case"sw":return UR(t);case"se":return FR(t);default:return t.rect}}function zR(e,[t,n]){return e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height}function VR(e,t){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height}function BR(e,t){return Math.abs(e.width/e.height-t)<.1}function qo({width:e,height:t},n){let r=n/90%2!==0;return{width:r?t:e,height:r?e:t}}function HR(e,t,n){const r=e/t;let i,s;r>n?(i=Math.round(t*n),s=t):(i=e,s=Math.round(e/n));const o=Math.round((e-i)/2),a=Math.round((t-s)/2);return o+i>e&&(i=e-o),a+s>t&&(s=t-a),{x:o,y:a,width:i,height:s}}function lu(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function Ds(e,t,n){return Math.min(Math.max(e,t),n)}const Yw=e=>{if(!e)return[];const[t,n]=e.split(":").map(Number);if(!Number.isFinite(t)||!Number.isFinite(n)){console.error(`Invalid crop preset: ${e}`);return}return[{type:"aspect-ratio",width:t,height:n}]},Ln=Object.freeze({LOCAL:"local",DROP_AREA:"drop-area",URL_TAB:"url-tab",CAMERA:"camera",EXTERNAL:"external",API:"js-api"});function WR(e){return Iw({...e,libraryName:Dp,libraryVersion:Mp})}const Jw=({type:e,message:t,...n})=>({type:e,message:t,...n}),_s=Jw,Rd=Jw,Yh=["image/*","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/avif","image/avif-sequence",".heif",".heifs",".heic",".heics",".avif",".avifs"],s0=e=>e?e.filter(t=>typeof t=="string").map(t=>pr(t)).flat():[],Qw=(e,t)=>t.some(n=>n.endsWith("*")?(n=n.replace("*",""),e.startsWith(n)):e===n),GR=(e,t)=>t.some(n=>n.startsWith(".")?e.toLowerCase().endsWith(n.toLowerCase()):!1),o0=e=>{let t=e==null?void 0:e.type;return t?Qw(t,Yh):!1},An=1e3,xi=Object.freeze({AUTO:"auto",BYTE:"byte",KB:"kb",MB:"mb",GB:"gb",TB:"tb",PB:"pb"}),Yo=e=>Math.ceil(e*100)/100,KR=(e,t=xi.AUTO)=>{const n=t===xi.AUTO;if(t===xi.BYTE||n&&e<An**1){const r=Sw("en-US",e),i={one:"byte",other:"bytes"}[r];return`${e} ${i}`}return t===xi.KB||n&&e<An**2?`${Yo(e/An**1)} KB`:t===xi.MB||n&&e<An**3?`${Yo(e/An**2)} MB`:t===xi.GB||n&&e<An**4?`${Yo(e/An**3)} GB`:t===xi.TB||n&&e<An**5?`${Yo(e/An**4)} TB`:`${Yo(e/An**5)} PB`},l0=new Set;function Zw(e){l0.has(e)||(l0.add(e),console.warn(e))}const a0="[Typed State] Wrong property name: ",XR="[Typed State] Wrong property type: ";class qR{constructor(t,n){this.__typedSchema=t,this.__ctxId=n||ta.generate(),this.__schema=Object.keys(t).reduce((r,i)=>(r[i]=t[i].value,r),{}),this.__data=ye.registerCtx(this.__schema,this.__ctxId)}get uid(){return this.__ctxId}setValue(t,n){if(!this.__typedSchema.hasOwnProperty(t)){console.warn(a0+t);return}let r=this.__typedSchema[t];if((n==null?void 0:n.constructor)===r.type||n instanceof r.type||r.nullable&&n===null){this.__data.pub(t,n);return}console.warn(XR+t)}setMultipleValues(t){for(let n in t)this.setValue(n,t[n])}getValue(t){if(!this.__typedSchema.hasOwnProperty(t)){console.warn(a0+t);return}return this.__data.read(t)}subscribe(t,n){return this.__data.sub(t,n)}remove(){ye.deleteCtx(this.__ctxId)}}class YR{constructor(t){this.__typedSchema=t.typedSchema,this.__ctxId=t.ctxName||ta.generate(),this.__data=ye.registerCtx({},this.__ctxId),this.__watchList=t.watchList||[],this.__subsMap=Object.create(null),this.__propertyObservers=new Set,this.__collectionObservers=new Set,this.__items=new Set,this.__removed=new Set,this.__added=new Set;let n=Object.create(null);this.__notifyObservers=(r,i)=>{this.__observeTimeout&&window.clearTimeout(this.__observeTimeout),n[r]||(n[r]=new Set),n[r].add(i),this.__observeTimeout=window.setTimeout(()=>{Object.keys(n).length!==0&&(this.__propertyObservers.forEach(s=>{s({...n})}),n=Object.create(null))})}}notify(){this.__notifyTimeout&&window.clearTimeout(this.__notifyTimeout),this.__notifyTimeout=window.setTimeout(()=>{let t=new Set(this.__added),n=new Set(this.__removed);this.__added.clear(),this.__removed.clear();for(const r of this.__collectionObservers)r==null||r([...this.__items],t,n)})}observeCollection(t){return this.__collectionObservers.add(t),this.__items.size>0&&this.notify(),()=>{this.unobserveCollection(t)}}unobserveCollection(t){var n;(n=this.__collectionObservers)==null||n.delete(t)}add(t){let n=new qR(this.__typedSchema);for(let r in t)n.setValue(r,t[r]);return this.__items.add(n.uid),this.notify(),this.__data.add(n.uid,n),this.__added.add(n),this.__watchList.forEach(r=>{this.__subsMap[n.uid]||(this.__subsMap[n.uid]=[]),this.__subsMap[n.uid].push(n.subscribe(r,()=>{this.__notifyObservers(r,n.uid)}))}),n.uid}read(t){return this.__data.read(t)}readProp(t,n){return this.read(t).getValue(n)}publishProp(t,n,r){this.read(t).setValue(n,r)}remove(t){this.__removed.add(this.__data.read(t)),this.__items.delete(t),this.notify(),this.__data.pub(t,null),delete this.__subsMap[t]}clearAll(){this.__items.forEach(t=>{this.remove(t)})}observeProperties(t){return this.__propertyObservers.add(t),()=>{this.unobserveProperties(t)}}unobserveProperties(t){var n;(n=this.__propertyObservers)==null||n.delete(t)}findItems(t){let n=[];return this.__items.forEach(r=>{let i=this.read(r);t(i)&&n.push(r)}),n}items(){return[...this.__items]}get size(){return this.__items.size}destroy(){ye.deleteCtx(this.__ctxId),this.__propertyObservers=null,this.__collectionObservers=null;for(let t in this.__subsMap)this.__subsMap[t].forEach(n=>{n.remove()}),delete this.__subsMap[t]}}const JR=e=>{const t=new Map;return(...n)=>{const r=JSON.stringify(n);if(t.has(r))return t.get(r);const i=e(...n);return t.set(r,i),i}};function QR(e){let t=!1;return setTimeout(()=>{t=!0},0),r=>(...i)=>(t&&Zw(e),r(...i))}function ZR(e){const t={progress:()=>e.$["*commonProgress"],errors:()=>e.$["*collectionErrors"],group:()=>e.$["*groupInfo"],totalCount:()=>e.uploadCollection.size,failedCount:()=>n.failedEntries.length,successCount:()=>n.successEntries.length,uploadingCount:()=>n.uploadingEntries.length,status:()=>n.isFailed?"failed":n.isUploading?"uploading":n.isSuccess?"success":"idle",isSuccess:()=>n.errors.length===0&&n.successEntries.length===n.allEntries.length,isUploading:()=>n.allEntries.some(i=>i.status==="uploading"),isFailed:()=>n.errors.length>0||n.failedEntries.length>0,allEntries:()=>e.getOutputData(),successEntries:()=>n.allEntries.filter(i=>i.status==="success"),failedEntries:()=>n.allEntries.filter(i=>i.status==="failed"),uploadingEntries:()=>n.allEntries.filter(i=>i.status==="uploading"),idleEntries:()=>n.allEntries.filter(i=>i.status==="idle")},n={},r=QR("You're trying to access the OutputCollectionState asynchronously. In this case, the data you retrieve will be newer than it was when the OutputCollectionState was created or when the event was dispatched. If you want to retain the state at a specific moment in time, you should use the spread operator like this: `{...outputCollectionState}` or `{...e.detail}`");for(const[i,s]of Object.entries(t)){const o=i,u=JR(r(s));Object.defineProperty(n,o,{get:u,enumerable:!0})}return n}const e3=Object.freeze({file:{type:File,value:null},externalUrl:{type:String,value:null},fileName:{type:String,value:null,nullable:!0},fileSize:{type:Number,value:null,nullable:!0},lastModified:{type:Number,value:Date.now()},uploadProgress:{type:Number,value:0},uuid:{type:String,value:null},isImage:{type:Boolean,value:!1},mimeType:{type:String,value:null,nullable:!0},ctxName:{type:String,value:null},cdnUrl:{type:String,value:null},cdnUrlModifiers:{type:String,value:null},fileInfo:{type:_o,value:null},isUploading:{type:Boolean,value:!1},abortController:{type:AbortController,value:null,nullable:!0},thumbUrl:{type:String,value:null,nullable:!0},silent:{type:Boolean,value:!1},source:{type:String,value:!1,nullable:!0},fullPath:{type:String,value:null,nullable:!0},metadata:{type:Object,value:null,nullable:!0},errors:{type:Array,value:[]},uploadError:{type:Error,value:null,nullable:!0},isRemoved:{type:Boolean,value:!1}}),t3=/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/i,n3=new RegExp(`^/?(${t3.source})(?:/(-/(?:[^/]+/)+)?([^/]*))?$`,"i"),r3=({url:e,cdnBase:t})=>{const n=new URL(t),r=new URL(e);if(n.host!==r.host)return null;const[,i,s,o]=n3.exec(r.pathname);return{uuid:i,cdnUrlModifiers:s||"",filename:o||null}};class De extends se{constructor(){super(...arguments);N(this,"couldBeCtxOwner",!1);N(this,"isCtxOwner",!1);N(this,"init$",Fw(this));N(this,"__initialUploadMetadata",null);N(this,"_fileValidators",[this._validateIsImage.bind(this),this._validateFileType.bind(this),this._validateMaxSizeLimit.bind(this),this._validateUploadError.bind(this)]);N(this,"_collectionValidators",[n=>{const r=n.size,i=this.cfg.multiple?this.cfg.multipleMin:0,s=this.cfg.multiple?this.cfg.multipleMax:1;if(i&&r<i){const o=this.l10n("files-count-limit-error-too-few",{min:i,max:s,total:r});return Rd({type:"TOO_FEW_FILES",message:o,total:r,min:i,max:s})}if(s&&r>s){const o=this.l10n("files-count-limit-error-too-many",{min:i,max:s,total:r});return Rd({type:"TOO_MANY_FILES",message:o,total:r,min:i,max:s})}},n=>{if(n.items().some(r=>n.readProp(r,"errors").length>0))return Rd({type:"SOME_FILES_HAS_ERRORS",message:this.l10n("some-files-were-not-uploaded")})}]);N(this,"uploadAll",()=>{const n=this.uploadCollection.items().filter(r=>{const i=this.uploadCollection.read(r);return!i.getValue("isRemoved")&&!i.getValue("isUploading")&&!i.getValue("fileInfo")});n.length!==0&&(this.$["*uploadTrigger"]=new Set(n),this.emit(Ve.COMMON_UPLOAD_START,this.getOutputCollectionState()))});N(this,"_flushOutputItems",dn(async()=>{if(this.getOutputData().length!==this.uploadCollection.size)return;const r=this.getOutputCollectionState();this.$["*collectionState"]=r,this.emit(Ve.CHANGE,()=>this.getOutputCollectionState(),{debounce:!0}),this.cfg.groupOutput&&r.totalCount>0&&r.status==="success"&&this._createGroup(r)},300));N(this,"_handleCollectionUpdate",(n,r,i)=>{var s;(r.size||i.size)&&(this.$["*groupInfo"]=null),this._runFileValidators(),this._runCollectionValidators();for(const o of r)o.getValue("silent")||this.emit(Ve.FILE_ADDED,this.getOutputItem(o.uid));for(const o of i)this.$["*uploadTrigger"].delete(o.uid),(s=o.getValue("abortController"))==null||s.abort(),o.setMultipleValues({isRemoved:!0,abortController:null,isUploading:!1,uploadProgress:0}),URL.revokeObjectURL(o==null?void 0:o.getValue("thumbUrl")),this.emit(Ve.FILE_REMOVED,this.getOutputItem(o.uid));this.$["*uploadList"]=n.map(o=>({uid:o})),this._flushCommonUploadProgress(),this._flushOutputItems()});N(this,"_handleCollectionPropertiesUpdate",n=>{this._flushOutputItems();const r=this.uploadCollection,i=[...new Set(Object.entries(n).filter(([s])=>["uploadError","fileInfo"].includes(s)).map(([,s])=>[...s]).flat())];if(i.length>0&&setTimeout(()=>{this._runFileValidators(i)}),n.uploadProgress){for(const s of n.uploadProgress){const{isUploading:o,silent:a}=ye.getCtx(s).store;o&&!a&&this.emit(Ve.FILE_UPLOAD_PROGRESS,this.getOutputItem(s))}this._flushCommonUploadProgress()}if(n.isUploading)for(const s of n.isUploading){const{isUploading:o,silent:a}=ye.getCtx(s).store;o&&!a&&this.emit(Ve.FILE_UPLOAD_START,this.getOutputItem(s))}if(n.fileInfo){for(const a of n.fileInfo){const{fileInfo:u,silent:c}=ye.getCtx(a).store;u&&!c&&this.emit(Ve.FILE_UPLOAD_SUCCESS,this.getOutputItem(a))}this.cfg.cropPreset&&this.setInitialCrop();let s=r.findItems(a=>!!a.getValue("fileInfo"));r.findItems(a=>a.getValue("errors").length>0).length===0&&r.size===s.length&&this.emit(Ve.COMMON_UPLOAD_SUCCESS,this.getOutputCollectionState())}if(n.errors)for(const s of n.errors){const{errors:o}=ye.getCtx(s).store;o.length>0&&(this.emit(Ve.FILE_UPLOAD_FAILED,this.getOutputItem(s)),this.emit(Ve.COMMON_UPLOAD_FAILED,()=>this.getOutputCollectionState(),{debounce:!0}))}n.cdnUrl&&([...n.cdnUrl].filter(o=>{var a;return!!((a=this.uploadCollection.read(o))!=null&&a.getValue("cdnUrl"))}).forEach(o=>{this.emit(Ve.FILE_URL_CHANGED,this.getOutputItem(o))}),this.$["*groupInfo"]=null)});N(this,"_flushCommonUploadProgress",()=>{let n=0;const i=[...this.$["*uploadTrigger"]].filter(o=>!!this.uploadCollection.read(o));i.forEach(o=>{const a=this.uploadCollection.readProp(o,"uploadProgress");n+=a});const s=i.length?Math.round(n/i.length):0;this.$["*commonProgress"]!==s&&(this.$["*commonProgress"]=s,this.emit(Ve.COMMON_UPLOAD_PROGRESS,this.getOutputCollectionState()))})}setUploadMetadata(n){Zw("setUploadMetadata is deprecated. Use `metadata` instance property on `lr-config` block instead. See migration guide: https://uploadcare.com/docs/file-uploader/migration-to-0.25.0/"),this.connectedOnce?this.$["*uploadMetadata"]=n:this.__initialUploadMetadata=n}get hasCtxOwner(){return this.hasBlockInCtx(n=>n instanceof De?n.isCtxOwner&&n.isConnected&&n!==this:!1)}initCallback(){if(super.initCallback(),!this.$["*uploadCollection"]){let n=new YR({typedSchema:e3,watchList:["uploadProgress","uploadError","fileInfo","errors","cdnUrl","isUploading"]});this.$["*uploadCollection"]=n}!this.hasCtxOwner&&this.couldBeCtxOwner&&this.initCtxOwner()}destroyCtxCallback(){var n,r;(n=this._unobserveCollectionProperties)==null||n.call(this),(r=this._unobserveCollection)==null||r.call(this),this.uploadCollection.destroy(),this.$["*uploadCollection"]=null,super.destroyCtxCallback()}initCtxOwner(){this.isCtxOwner=!0,this._unobserveCollection=this.uploadCollection.observeCollection(this._handleCollectionUpdate),this._unobserveCollectionProperties=this.uploadCollection.observeProperties(this._handleCollectionPropertiesUpdate);const n=()=>{this._runFileValidators(),this._runCollectionValidators()};this.subConfigValue("maxLocalFileSizeBytes",n),this.subConfigValue("multipleMin",n),this.subConfigValue("multipleMax",n),this.subConfigValue("multiple",n),this.subConfigValue("imgOnly",n),this.subConfigValue("accept",n),this.subConfigValue("maxConcurrentRequests",r=>{this.$["*uploadQueue"].concurrency=Number(r)||1}),this.__initialUploadMetadata&&(this.$["*uploadMetadata"]=this.__initialUploadMetadata)}addFileFromUrl(n,{silent:r,fileName:i,source:s}={}){const o=this.uploadCollection.add({externalUrl:n,fileName:i??null,silent:r??!1,source:s??Ln.API});return this.getOutputItem(o)}addFileFromUuid(n,{silent:r,fileName:i,source:s}={}){const o=this.uploadCollection.add({uuid:n,fileName:i??null,silent:r??!1,source:s??Ln.API});return this.getOutputItem(o)}addFileFromCdnUrl(n,{silent:r,fileName:i,source:s}={}){const o=r3({url:n,cdnBase:this.cfg.cdnCname});if(!o)throw new Error("Invalid CDN URL");const a=this.uploadCollection.add({uuid:o.uuid,cdnUrl:n,cdnUrlModifiers:o.cdnUrlModifiers,fileName:i??o.filename??null,silent:r??!1,source:s??Ln.API});return this.getOutputItem(a)}addFileFromObject(n,{silent:r,fileName:i,source:s,fullPath:o}={}){const a=this.uploadCollection.add({file:n,isImage:o0(n),mimeType:n.type,fileName:i??n.name,fileSize:n.size,silent:r??!1,source:s??Ln.API,fullPath:o??null});return this.getOutputItem(a)}addFiles(n){return console.warn("`addFiles` method is deprecated. Please use `addFileFromObject`, `addFileFromUrl` or `addFileFromUuid` instead."),n.map(r=>{const i=this.uploadCollection.add({file:r,isImage:o0(r),mimeType:r.type,fileName:r.name,fileSize:r.size});return this.getOutputItem(i)})}removeFileByInternalId(n){if(!this.uploadCollection.read(n))throw new Error(`File with internalId ${n} not found`);this.uploadCollection.remove(n)}removeAllFiles(){this.uploadCollection.clearAll()}openSystemDialog(n={}){let r=Up(s0([this.cfg.accept??"",...this.cfg.imgOnly?Yh:[]]));this.cfg.accept&&this.cfg.imgOnly&&console.warn("There could be a mistake.\nBoth `accept` and `imgOnly` parameters are set.\nThe value of `accept` will be concatenated with the internal image mime types list."),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.multiple=this.cfg.multiple,n.captureCamera?(this.fileInput.capture=this.cfg.cameraCapture,this.fileInput.accept="image/*"):this.fileInput.accept=r,this.fileInput.dispatchEvent(new MouseEvent("click")),this.fileInput.onchange=()=>{[...this.fileInput.files].forEach(i=>this.addFileFromObject(i,{source:n.captureCamera?Ln.CAMERA:Ln.LOCAL})),this.$["*currentActivity"]=se.activities.UPLOAD_LIST,this.setOrAddState("*modalActive",!0),this.fileInput.value="",this.fileInput=null}}get sourceList(){let n=[];return this.cfg.sourceList&&(n=pr(this.cfg.sourceList)),n}initFlow(n=!1){var r;if(this.uploadCollection.size>0&&!n)this.set$({"*currentActivity":se.activities.UPLOAD_LIST}),this.setOrAddState("*modalActive",!0);else if(((r=this.sourceList)==null?void 0:r.length)===1){const i=this.sourceList[0];if(i==="local"){this.$["*currentActivity"]=se.activities.UPLOAD_LIST,this==null||this.openSystemDialog();return}const s=this.$["*blocksRegistry"],o=u=>"type"in u&&u.type===i,a=[...s].find(o);a==null||a.activate(),this.$["*currentActivity"]&&this.setOrAddState("*modalActive",!0)}else this.set$({"*currentActivity":se.activities.START_FROM}),this.setOrAddState("*modalActive",!0)}doneFlow(){this.set$({"*currentActivity":this.doneActivity,"*history":this.doneActivity?[this.doneActivity]:[]}),this.$["*currentActivity"]||this.setOrAddState("*modalActive",!1)}get uploadCollection(){return this.$["*uploadCollection"]}_validateFileType(n){const r=this.cfg.imgOnly,i=this.cfg.accept,s=s0([...r?Yh:[],i]);if(!s.length)return;const o=n.mimeType,a=n.name;if(!o||!a)return;const u=Qw(o,s),c=GR(a,s);if(!u&&!c)return _s({type:"FORBIDDEN_FILE_TYPE",message:this.l10n("file-type-not-allowed"),entry:n})}_validateMaxSizeLimit(n){const r=this.cfg.maxLocalFileSizeBytes,i=n.size;if(r&&i&&i>r)return _s({type:"FILE_SIZE_EXCEEDED",message:this.l10n("files-max-size-limit-error",{maxFileSize:KR(r)}),entry:n})}_validateUploadError(n,r){const i=r==null?void 0:r.getValue("uploadError");if(i){if(i instanceof Ft)return _s({type:"UPLOAD_ERROR",message:i.message,entry:n,error:i});if(i instanceof na)return _s({type:"NETWORK_ERROR",message:i.message,entry:n,error:i});{const s=i instanceof Error?i:new Error("Unknown error",{cause:i});return _s({type:"UNKNOWN_ERROR",message:s.message,entry:n,error:s})}}}_validateIsImage(n){const r=this.cfg.imgOnly,i=n.isImage;if(!(!r||i)&&!(!n.fileInfo&&n.externalUrl)&&!(!n.fileInfo&&!n.mimeType))return _s({type:"NOT_AN_IMAGE",message:this.l10n("images-only-accepted"),entry:n})}_runFileValidatorsForEntry(n){const r=this.getOutputItem(n.uid),i=[];for(const s of this._fileValidators){const o=s(r,n);o&&i.push(o)}n.setValue("errors",i)}_runFileValidators(n){const r=n??this.uploadCollection.items();for(const i of r){const s=this.uploadCollection.read(i);s&&this._runFileValidatorsForEntry(s)}}_runCollectionValidators(){const n=this.uploadCollection,r=[];for(const i of this._collectionValidators){const s=i(n);s&&(Array.isArray(s)?r.push(...s):r.push(s))}this.$["*collectionErrors"]=r,r.length>0&&this.emit(Ve.COMMON_UPLOAD_FAILED,()=>this.getOutputCollectionState(),{debounce:!0})}async _createGroup(n){const r=this.getUploadClientOptions(),i=n.allEntries.map(u=>u.uuid+(u.cdnUrlModifiers?`/${u.cdnUrlModifiers}`:"")),s=new AbortController,o=await sR(i,{...r,signal:s.signal});if(this.$["*collectionState"]!==n){s.abort();return}this.$["*groupInfo"]=o;const a=this.getOutputCollectionState();this.emit(Ve.GROUP_CREATED,a),this.emit(Ve.CHANGE,()=>this.getOutputCollectionState(),{debounce:!0}),this.$["*collectionState"]=a}setInitialCrop(){const n=Yw(this.cfg.cropPreset);if(n){const[r]=n,i=this.uploadCollection.findItems(s=>{var o;return s.getValue("fileInfo")&&s.getValue("isImage")&&!((o=s.getValue("cdnUrlModifiers"))!=null&&o.includes("/crop/"))}).map(s=>this.uploadCollection.read(s));for(const s of i){const o=s.getValue("fileInfo"),{width:a,height:u}=o.imageInfo,c=r.width/r.height,h=HR(a,u,c),p=li(`crop/${h.width}x${h.height}/${h.x},${h.y}`,"preview");s.setMultipleValues({cdnUrlModifiers:p,cdnUrl:rn(s.getValue("cdnUrl"),p)}),this.uploadCollection.size===1&&this.cfg.useCloudImageEditor&&this.hasBlockInCtx(m=>m.activityType===se.activities.CLOUD_IMG_EDIT)&&(this.$["*focusedEntry"]=s,this.$["*currentActivity"]=se.activities.CLOUD_IMG_EDIT)}}}async getMetadataFor(n){const r=this.cfg.metadata??this.$["*uploadMetadata"];if(typeof r=="function"){const i=this.getOutputItem(n);return await r(i)}return r}getUploadClientOptions(){return{store:this.cfg.store,publicKey:this.cfg.pubkey,baseCDN:this.cfg.cdnCname,baseURL:this.cfg.baseUrl,userAgent:WR,integration:this.cfg.userAgentIntegration,secureSignature:this.cfg.secureSignature,secureExpire:this.cfg.secureExpire,retryThrottledRequestMaxTimes:this.cfg.retryThrottledRequestMaxTimes,multipartMinFileSize:this.cfg.multipartMinFileSize,multipartChunkSize:this.cfg.multipartChunkSize,maxConcurrentRequests:this.cfg.multipartMaxConcurrentRequests,multipartMaxAttempts:this.cfg.multipartMaxAttempts,checkForUrlDuplicates:!!this.cfg.checkForUrlDuplicates,saveUrlForRecurrentUploads:!!this.cfg.saveUrlForRecurrentUploads}}getOutputItem(n){const r=ye.getCtx(n).store,i=r.fileInfo;let s=r.isRemoved?"removed":r.errors.length>0?"failed":r.fileInfo?"success":r.isUploading?"uploading":"idle";return{uuid:(i==null?void 0:i.uuid)??r.uuid??null,internalId:n,name:(i==null?void 0:i.originalFilename)??r.fileName,size:(i==null?void 0:i.size)??r.fileSize,isImage:(i==null?void 0:i.isImage)??r.isImage,mimeType:(i==null?void 0:i.mimeType)??r.mimeType,file:r.file,externalUrl:r.externalUrl,cdnUrlModifiers:r.cdnUrlModifiers,cdnUrl:r.cdnUrl??(i==null?void 0:i.cdnUrl)??null,fullPath:r.fullPath,uploadProgress:r.uploadProgress,fileInfo:i??null,metadata:r.metadata??(i==null?void 0:i.metadata)??null,isSuccess:s==="success",isUploading:s==="uploading",isFailed:s==="failed",isRemoved:s==="removed",errors:r.errors,status:s}}getOutputData(n){return(n?this.uploadCollection.findItems(n):this.uploadCollection.items()).map(s=>this.getOutputItem(s))}getOutputCollectionState(){return ZR(this)}}De.extSrcList=Object.freeze({FACEBOOK:"facebook",DROPBOX:"dropbox",GDRIVE:"gdrive",GPHOTOS:"gphotos",INSTAGRAM:"instagram",FLICKR:"flickr",VK:"vk",EVERNOTE:"evernote",BOX:"box",ONEDRIVE:"onedrive",HUDDLE:"huddle"});De.sourceTypes=Object.freeze({LOCAL:"local",URL:"url",CAMERA:"camera",DRAW:"draw",...De.extSrcList});const Ac=e=>{var t;return(t=e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g))==null?void 0:t.map(n=>n.toLowerCase()).join("-")},at=e=>String(e),Pn=e=>{const t=Number(e);if(Number.isNaN(t))throw new Error(`Invalid number: "${e}"`);return t},Be=e=>{if(typeof e>"u"||e===null)return!1;if(typeof e=="boolean")return e;if(e==="true"||e==="")return!0;if(e==="false")return!1;throw new Error(`Invalid boolean: "${e}"`)},i3=e=>e==="auto"?e:Be(e),s3=e=>{const t=at(e);if(t!=="user"&&t!=="environment"&&t!=="")throw new Error(`Invalid "cameraCapture" value: "${t}"`);return t},o3=e=>{if(typeof e=="object"&&!Array.isArray(e)||typeof e=="function")return e;throw new Error("Invalid metadata value. Must be an object or function.")},l3=e=>{if(typeof e=="object")return e;throw new Error("Invalid localeDefinitionOverride value. Must be an object.")},a3={pubkey:at,multiple:Be,multipleMin:Pn,multipleMax:Pn,confirmUpload:Be,imgOnly:Be,accept:at,externalSourcesPreferredTypes:at,store:i3,cameraMirror:Be,cameraCapture:s3,sourceList:at,maxLocalFileSizeBytes:Pn,thumbSize:Pn,showEmptyList:Be,useLocalImageEditor:Be,useCloudImageEditor:Be,cloudImageEditorTabs:at,removeCopyright:Be,cropPreset:at,imageShrink:at,modalScrollLock:Be,modalBackdropStrokes:Be,sourceListWrap:Be,remoteTabSessionKey:at,cdnCname:at,baseUrl:at,socialBaseUrl:at,secureSignature:at,secureExpire:at,secureDeliveryProxy:at,retryThrottledRequestMaxTimes:Pn,multipartMinFileSize:Pn,multipartChunkSize:Pn,maxConcurrentRequests:Pn,multipartMaxConcurrentRequests:Pn,multipartMaxAttempts:Pn,checkForUrlDuplicates:Be,saveUrlForRecurrentUploads:Be,groupOutput:Be,userAgentIntegration:at,debug:Be,localeName:at,metadata:o3,localeDefinitionOverride:l3},u3=(e,t)=>{if(!(typeof t>"u"||t===null))try{return a3[e](t)}catch(n){return console.error(`Invalid value for config key "${e}".`,n),ni[e]}},Fp=[...new Set(["debug",...Object.keys(ni)])],c3=["metadata","localeDefinitionOverride"],d3=e=>c3.includes(e),ao=Fp.filter(e=>!d3(e)),h3={...Object.fromEntries(ao.map(e=>[Ac(e),e])),...Object.fromEntries(ao.map(e=>[e.toLowerCase(),e]))},f3={...Object.fromEntries(ao.map(e=>[Ac(e),nn(e)])),...Object.fromEntries(ao.map(e=>[e.toLowerCase(),nn(e)]))},u0=e=>"__"+e;class jp extends Ee{constructor(){super();N(this,"requireCtxName",!0);this.init$={...this.init$,...Object.fromEntries(Object.entries(ni).map(([n,r])=>[nn(n),r]))}}_flushValueToAttribute(n,r){if(ao.includes(n)){const i=[...new Set([Ac(n),n.toLowerCase()])];for(const s of i)typeof r>"u"||r===null?this.removeAttribute(s):this.getAttribute(s)!==r.toString()&&this.setAttribute(s,r.toString())}}_flushValueToState(n,r){this.$[nn(n)]!==r&&(typeof r>"u"||r===null?this.$[nn(n)]=ni[n]:this.$[nn(n)]=r)}_setValue(n,r){const i=this,s=u3(n,r),o=u0(n);i[o]!==s&&(this._assertSameValueDifferentReference(n,i[o],s),i[o]=s,this._flushValueToAttribute(n,s),this._flushValueToState(n,s),this.debugPrint(`[lr-config] "${n}"`,s))}_getValue(n){const r=this,i=u0(n);return r[i]}_assertSameValueDifferentReference(n,r,i){this.cfg.debug&&JSON.stringify(i)===JSON.stringify(r)&&(console.warn(`[lr-config] Option "${n}" value is the same as the previous one but the reference is different`),console.warn("[lr-config] You should avoid changing the reference of the object to prevent unnecessary calculations"),console.warn(`[lr-config] "${n}" previous value:`,r),console.warn(`[lr-config] "${n}" new value:`,i))}initCallback(){super.initCallback();const n=this;for(const r of ao)this.sub(nn(r),i=>{this._setValue(r,i)},!1);for(const r of Fp){const i=n[r]??this.$[nn(r)];i!==ni[r]&&this._setValue(r,i),Object.defineProperty(this,r,{set:s=>{this._setValue(r,s)},get:()=>this._getValue(r)})}}attributeChangedCallback(n,r,i){if(r===i)return;const s=this,o=h3[n];s[o]=i}}jp.bindAttributes(f3);for(const e of Fp)jp.prototype[e]=void 0;const e2=jp;class zp extends Ee{constructor(){super(...arguments);N(this,"init$",{...this.init$,name:"",path:"",size:"24",viewBox:""})}initCallback(){super.initCallback(),this.sub("name",n=>{if(!n)return;let r=this.getCssData(`--icon-${n}`);r&&(this.$.path=r)}),this.sub("path",n=>{if(!n)return;n.trimStart().startsWith("<")?(this.setAttribute("raw",""),this.ref.svg.innerHTML=n):(this.removeAttribute("raw"),this.ref.svg.innerHTML=`<path fill-rule="evenodd" d="${n}"></path>`)}),this.sub("size",n=>{this.$.viewBox=`0 0 ${n} ${n}`})}}zp.template=`
  <svg ref="svg" xmlns="http://www.w3.org/2000/svg" set="@viewBox: viewBox; @height: size; @width: size"></svg>
`;zp.bindAttributes({name:"name",size:"size"});const p3=e=>[...new Set(e)],m3=e=>Object.entries(e).filter(([t,n])=>n!==void 0&&n!=="").map(([t,n])=>t==="cdn-operations"||t==="analytics"?n:`${t}/${n}`),g3="https://ucarecdn.com",Xu=Object.freeze({"dev-mode":{},pubkey:{},uuid:{},src:{},lazy:{default:1},intersection:{},breakpoints:{},"cdn-cname":{default:g3},"proxy-cname":{},"secure-delivery-proxy":{},"hi-res-support":{default:1},"ultra-res-support":{},format:{},"cdn-operations":{},progressive:{},quality:{},"is-background-for":{},"is-preview-blur":{default:1}}),ol="--lr-img-",c0="unresolved",ja=2,za=3,d0=!window.location.host.trim()||window.location.host.includes(":")||window.location.hostname.includes("localhost"),h0=3e3,f0=5e3,p0=Object.freeze({PREVIEW:"PREVIEW",MAIN:"MAIN"}),t2=Object.create(null);var I0;for(let e in Xu)t2[ol+e]=((I0=Xu[e])==null?void 0:I0.default)||"";class v3 extends bc{constructor(){super(...arguments);N(this,"cssInit$",t2)}$$(n){return this.$[ol+n]}set$$(n){for(let r in n)this.$[ol+r]=n[r]}sub$$(n,r){this.sub(ol+n,i=>{i===null||i===""||r(i)})}analyticsParams(){return`-/@clib/${Dp}/${Mp}/lr-img/`}initAttributes(n){[...this.attributes].forEach(r=>{Xu[r.name]||n.setAttribute(r.name,r.value)})}initIntersection(n,r){let i={root:null,rootMargin:"0px"};this._isnObserver=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&(r(),this._isnObserver.unobserve(n))})},i),this._isnObserver.observe(n),this._observed||(this._observed=new Set),this._observed.add(n)}destroyCallback(){super.destroyCallback(),this._isnObserver&&(this._observed.forEach(n=>{this._isnObserver.unobserve(n)}),this._isnObserver=null),ye.deleteCtx(this)}static get observedAttributes(){return Object.keys(Xu)}attributeChangedCallback(n,r,i){window.setTimeout(()=>{this.$[ol+n]=i})}}class y3 extends v3{constructor(){super(...arguments);N(this,"_img",new Image);N(this,"_imgPreview",new Image)}_fmtAbs(n){return!n.includes("//")&&!d0&&(n=new URL(n,document.baseURI).href),n}_validateSize(n){if((n==null?void 0:n.trim())!==""){let r=n.match(/\d+/)[0],i=n.match(/[a-zA-Z]+/)[0];const s=parseInt(r,10);if(Number(s)>f0&&this.hasFormatJPG)return f0+i;if(Number(s)>h0&&!this.hasFormatJPG)return h0+i}return n}_getCdnModifiers(n,r){const i={format:this.$$("format"),quality:this.$$("quality"),resize:this._validateSize(n),blur:r,"cdn-operations":this.$$("cdn-operations"),analytics:this.analyticsParams()};return li(...m3(i))}_getUrlBase(n="",r=""){if(this.$$("src").startsWith("data:")||this.$$("src").startsWith("blob:"))return this.$$("src");if(d0&&this.$$("src")&&!this.$$("src").includes("//"))return this._proxyUrl(this.$$("src"));let i=this._getCdnModifiers(n,r);if(this.$$("src").startsWith(this.$$("cdn-cname")))return rn(this.$$("src"),i);if(this.$$("cdn-cname")&&this.$$("uuid"))return this._proxyUrl(rn(jl(this.$$("cdn-cname"),this.$$("uuid")),i));if(this.$$("uuid"))return this._proxyUrl(rn(jl(this.$$("cdn-cname"),this.$$("uuid")),i));if(this.$$("proxy-cname"))return this._proxyUrl(rn(this.$$("proxy-cname"),i,this._fmtAbs(this.$$("src"))));if(this.$$("pubkey"))return this._proxyUrl(rn(`https://${this.$$("pubkey")}.ucr.io/`,i,this._fmtAbs(this.$$("src"))))}_proxyUrl(n){return this.$$("secure-delivery-proxy")?Gh(this.$$("secure-delivery-proxy"),{previewUrl:n},{transform:i=>window.encodeURIComponent(i)}):n}_getElSize(n,r=1,i=!0){let s=n.getBoundingClientRect(),o=r*Math.round(s.width),a=i?"":r*Math.round(s.height);return o||a?`${o||""}x${a||""}`:null}_setupEventProxy(n){let r=s=>{s.stopPropagation();let o=new Event(s.type,s);this.dispatchEvent(o)},i=["load","error"];for(let s of i)n.addEventListener(s,r)}get img(){return this.hasPreviewImage||(this._setupConfigForImage({elNode:this._img}),this.appendChild(this._img)),this._img}get currentImg(){return this.hasPreviewImage?{type:p0.PREVIEW,img:this._imgPreview}:{type:p0.MAIN,img:this.img}}get hasPreviewImage(){return this.$$("is-preview-blur")}get bgSelector(){return this.$$("is-background-for")}get breakpoints(){if(this.$$("breakpoints")){const n=pr(this.$$("breakpoints"));return p3(n.map(r=>parseInt(r,10)))}else return null}get hasFormatJPG(){return this.$$("format").toLowerCase()==="jpeg"}renderBg(n){let r=new Set;r.add(`url("${this._getUrlBase(this._getElSize(n))}") 1x`),this.$$("hi-res-support")&&r.add(`url("${this._getUrlBase(this._getElSize(n,ja))}") ${ja}x`),this.$$("ultra-res-support")&&r.add(`url("${this._getUrlBase(this._getElSize(n,za))}") ${za}x`);let i=`image-set(${[...r].join(", ")})`;n.style.setProperty("background-image",i),n.style.setProperty("background-image","-webkit-"+i)}getSrcset(){let n=new Set;return this.breakpoints?this.breakpoints.forEach(r=>{n.add(this._getUrlBase(r+"x")+` ${this._validateSize(r+"w")}`),this.$$("hi-res-support")&&n.add(this._getUrlBase(r*ja+"x")+` ${this._validateSize(r*ja+"w")}`),this.$$("ultra-res-support")&&n.add(this._getUrlBase(r*za+"x")+` ${this._validateSize(r*za+"w")}`)}):(n.add(this._getUrlBase(this._getElSize(this.currentImg.img))+" 1x"),this.$$("hi-res-support")&&n.add(this._getUrlBase(this._getElSize(this.currentImg.img,2))+" 2x"),this.$$("ultra-res-support")&&n.add(this._getUrlBase(this._getElSize(this.currentImg.img,3))+" 3x")),[...n].join()}getSrc(){return this._getUrlBase()}get srcUrlPreview(){return this._getUrlBase("100x","100")}renderBackground(){[...document.querySelectorAll(this.bgSelector)].forEach(n=>{this.$$("intersection")?this.initIntersection(n,()=>{this.renderBg(n)}):this.renderBg(n)})}_appendURL({elNode:n,src:r,srcset:i}){r&&(n.src=r),i&&(n.srcset=i)}_setupConfigForImage({elNode:n}){this._setupEventProxy(n),this.initAttributes(n)}loaderImage({src:n,srcset:r,elNode:i}){return new Promise((s,o)=>{this._setupConfigForImage({elNode:i}),i.setAttribute(c0,""),i.addEventListener("load",()=>{i.removeAttribute(c0),s(i)}),i.addEventListener("error",()=>{o(!1)}),this._appendURL({elNode:i,src:n,srcset:r})})}async renderImage(){var n,r;if(this.$$("intersection")){this.hasPreviewImage&&(this._setupConfigForImage({elNode:this._imgPreview}),this.appendChild(this._imgPreview)),this.initIntersection(this.currentImg.img,async()=>{var i;this.hasPreviewImage&&(this._imgPreview.src=this.srcUrlPreview);try{await this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&await this._imgPreview.remove(),this.appendChild(this._img)}catch{this.hasPreviewImage&&await((i=this._imgPreview)==null?void 0:i.remove()),this.appendChild(this._img)}});return}try{this.hasPreviewImage&&(await this.loaderImage({src:this.srcUrlPreview,elNode:this._imgPreview}),this.appendChild(this._imgPreview)),await this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&await((n=this._imgPreview)==null?void 0:n.remove()),this.appendChild(this._img)}catch{this.hasPreviewImage&&await((r=this._imgPreview)==null?void 0:r.remove()),this.appendChild(this._img)}}init(){this.bgSelector?this.renderBackground():this.renderImage()}}class _3 extends y3{initCallback(){super.initCallback(),this.sub$$("src",()=>{this.init()}),this.sub$$("uuid",()=>{this.init()}),this.sub$$("lazy",t=>{!this.$$("is-background-for")&&!this.$$("is-preview-blur")&&(this.img.loading=t?"lazy":"eager")})}}class Vp extends De{constructor(){super();N(this,"couldBeCtxOwner",!0);this.init$={...this.init$,withDropZone:!0,onClick:()=>{this.initFlow()},"button-text":""}}initCallback(){super.initCallback(),this.defineAccessor("dropzone",n=>{typeof n>"u"||(this.$.withDropZone=Be(n))}),this.subConfigValue("multiple",n=>{this.$["button-text"]=n?"upload-files":"upload-file"})}}Vp.template=`
  <lr-drop-area set="@disabled: !withDropZone">
    <button type="button" set="onclick: onClick">
      <lr-icon name="upload"></lr-icon>
      <span l10n="button-text"></span>
      <slot></slot>
      <div class="visual-drop-area" l10n="drop-files-here"></div>
    </button>
  </lr-drop-area>
`;Vp.bindAttributes({dropzone:null});class n2 extends se{constructor(){super(...arguments);N(this,"historyTracked",!0);N(this,"activityType","start-from")}initCallback(){super.initCallback(),this.registerActivity(this.activityType)}}n2.template=' <div class="content"><slot></slot></div> ';function w3(e){return new Promise(t=>{typeof window.FileReader!="function"&&t(!1);try{let n=new FileReader;n.onerror=()=>{t(!0)};let r=i=>{i.type!=="loadend"&&n.abort(),t(!1)};n.onloadend=r,n.onprogress=r,n.readAsDataURL(e)}catch{t(!1)}})}function b3(e,t){return new Promise(n=>{let r=0;const i=[],s=a=>{a||(console.warn("Unexpectedly received empty content entry",{scope:"drag-and-drop"}),n(null)),a.isFile?(r++,a.file(u=>{r--;const c=new File([u],u.name,{type:u.type||t});i.push({type:"file",file:c,fullPath:a.fullPath}),r===0&&n(i)})):a.isDirectory&&o(a.createReader())};let o=a=>{r++,a.readEntries(u=>{r--;for(let c of u)s(c);r===0&&n(i)})};s(e)})}function E3(e){const t=[],n=[];for(let r=0;r<e.items.length;r++){let i=e.items[r];if(i)if(i.kind==="file"){const s=i.type;if(typeof i.webkitGetAsEntry=="function"||typeof i.getAsEntry=="function"){let a=typeof i.webkitGetAsEntry=="function"?i.webkitGetAsEntry():i.getAsEntry();n.push(b3(a,s).then(u=>{u&&t.push(...u)}));continue}const o=i.getAsFile();o&&n.push(w3(o).then(a=>{a||t.push({type:"file",file:o})}))}else i.kind==="string"&&i.type.match("^text/uri-list")&&n.push(new Promise(s=>{i.getAsString(o=>{t.push({type:"url",url:o}),s(void 0)})}))}return Promise.all(n).then(()=>t)}const Ot={ACTIVE:0,INACTIVE:1,NEAR:2,OVER:3};let m0=["focus"],C3=100,Od=new Map;function S3(e,t){let n=Math.max(Math.min(e[0],t.x+t.width),t.x),r=Math.max(Math.min(e[1],t.y+t.height),t.y);return Math.sqrt((e[0]-n)*(e[0]-n)+(e[1]-r)*(e[1]-r))}function g0(e){let t=0,n=document.body,r=new Set,i=b=>r.add(b),s=Ot.INACTIVE,o=b=>{e.shouldIgnore()&&b!==Ot.INACTIVE||(s!==b&&r.forEach(x=>x(b)),s=b)},a=()=>t>0;i(b=>e.onChange(b));let u=()=>{t=0,o(Ot.INACTIVE)},c=()=>{t+=1,s===Ot.INACTIVE&&o(Ot.ACTIVE)},h=()=>{t-=1,a()||o(Ot.INACTIVE)},p=b=>{b.preventDefault(),t=0,o(Ot.INACTIVE)},m=b=>{if(e.shouldIgnore())return;a()||(t+=1);let x=[b.x,b.y],L=e.element.getBoundingClientRect(),C=Math.floor(S3(x,L)),_=C<C3,S=b.composedPath().includes(e.element);Od.set(e.element,C);let $=Math.min(...Od.values())===C;S&&$?(b.preventDefault(),o(Ot.OVER)):o(_&&$?Ot.NEAR:Ot.ACTIVE)},I=async b=>{if(e.shouldIgnore())return;b.preventDefault();let x=await E3(b.dataTransfer);e.onItems(x),o(Ot.INACTIVE)};return n.addEventListener("drop",p),n.addEventListener("dragleave",h),n.addEventListener("dragenter",c),n.addEventListener("dragover",m),e.element.addEventListener("drop",I),m0.forEach(b=>{window.addEventListener(b,u)}),()=>{Od.delete(e.element),n.removeEventListener("drop",p),n.removeEventListener("dragleave",h),n.removeEventListener("dragenter",c),n.removeEventListener("dragover",m),e.element.removeEventListener("drop",I),m0.forEach(b=>{window.removeEventListener(b,u)})}}const r2="lr-drop-area",ws=`${r2}/registry`;class Bp extends De{constructor(){super(),this.init$={...this.init$,state:Ot.INACTIVE,withIcon:!1,isClickable:!1,isFullscreen:!1,isEnabled:!0,isVisible:!0,text:"",[ws]:null}}isActive(){if(!this.$.isEnabled)return!1;const t=this.getBoundingClientRect(),n=t.width>0&&t.height>0,r=t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth),i=window.getComputedStyle(this),s=i.visibility!=="hidden"&&i.display!=="none";return n&&s&&r}initCallback(){super.initCallback(),this.bindL10n("text",()=>this.l10n("drop-files-here")),this.$[ws]||(this.$[ws]=new Set),this.$[ws].add(this),this.defineAccessor("disabled",n=>{this.set$({isEnabled:!Be(n)})}),this.defineAccessor("clickable",n=>{this.set$({isClickable:Be(n)})}),this.defineAccessor("with-icon",n=>{this.set$({withIcon:Be(n)})}),this.defineAccessor("fullscreen",n=>{this.set$({isFullscreen:Be(n)})}),this.defineAccessor("text",n=>{typeof n=="string"?this.bindL10n("text",()=>this.l10n(n)||n):this.bindL10n("text",()=>this.l10n("drop-files-here"))}),this._destroyDropzone=g0({element:this,shouldIgnore:()=>this._shouldIgnore(),onChange:n=>{this.$.state=n},onItems:n=>{n.length&&(n.forEach(r=>{r.type==="url"?this.addFileFromUrl(r.url,{source:Ln.DROP_AREA}):r.type==="file"&&this.addFileFromObject(r.file,{source:Ln.DROP_AREA,fullPath:r.fullPath})}),this.uploadCollection.size&&(this.set$({"*currentActivity":se.activities.UPLOAD_LIST}),this.setOrAddState("*modalActive",!0)))}});let t=this.ref["content-wrapper"];t&&(this._destroyContentWrapperDropzone=g0({element:t,onChange:n=>{var i;const r=(i=Object.entries(Ot).find(([,s])=>s===n))==null?void 0:i[0].toLowerCase();r&&t.setAttribute("drag-state",r)},onItems:()=>{},shouldIgnore:()=>this._shouldIgnore()})),this.sub("state",n=>{var i;const r=(i=Object.entries(Ot).find(([,s])=>s===n))==null?void 0:i[0].toLowerCase();r&&this.setAttribute("drag-state",r)}),this.subConfigValue("sourceList",n=>{const r=pr(n);this.$.isEnabled=r.includes(De.sourceTypes.LOCAL),this.$.isVisible=this.$.isEnabled||!this.querySelector("[data-default-slot]")}),this.sub("isVisible",n=>{this.toggleAttribute("hidden",!n)}),this.sub("isClickable",n=>{this.toggleAttribute("clickable",n)}),this.$.isClickable&&(this._onAreaClicked=()=>{this.openSystemDialog()},this.addEventListener("click",this._onAreaClicked))}_shouldIgnore(){return!this.$.isEnabled||!this._couldHandleFiles()?!0:this.$.isFullscreen?[...this.$[ws]].filter(r=>r!==this).filter(r=>r.isActive()).length>0:!1}_couldHandleFiles(){let t=this.cfg.multiple,n=this.cfg.multipleMax,r=this.uploadCollection.size;return!(t&&n&&r>=n||!t&&r>0)}destroyCallback(){var n,r;super.destroyCallback();const t=this.$[ws];t&&(t.delete(this),t.size===0&&ye.deleteCtx(r2)),(n=this._destroyDropzone)==null||n.call(this),(r=this._destroyContentWrapperDropzone)==null||r.call(this),this._onAreaClicked&&this.removeEventListener("click",this._onAreaClicked)}}Bp.template=`
  <slot>
    <div data-default-slot hidden></div>
    <div ref="content-wrapper" class="content-wrapper" set="@hidden: !isVisible">
      <div class="icon-container" set="@hidden: !withIcon">
        <lr-icon name="default"></lr-icon>
        <lr-icon name="arrow-down"></lr-icon>
      </div>
      <span class="text">{{text}}</span>
    </div>
  </slot>
`;Bp.bindAttributes({"with-icon":null,clickable:null,text:null,fullscreen:null,disabled:null});const T3="src-type-";class Hp extends De{constructor(){super();N(this,"couldBeCtxOwner",!0);N(this,"type");N(this,"_registeredTypes",{});this.init$={...this.init$,iconName:"default","src-type":""}}initTypes(){this.registerType({type:De.sourceTypes.LOCAL,activate:()=>(this.openSystemDialog(),!1)}),this.registerType({type:De.sourceTypes.URL,activity:se.activities.URL,textKey:"from-url"}),this.registerType({type:De.sourceTypes.CAMERA,activity:se.activities.CAMERA,activate:()=>{const n="capture"in document.createElement("input");return n&&this.openSystemDialog({captureCamera:!0}),!n}}),this.registerType({type:"draw",activity:se.activities.DRAW,icon:"edit-draw"});for(let n of Object.values(De.extSrcList))this.registerType({type:n,activity:se.activities.EXTERNAL,activityParams:{externalSourceType:n}})}initCallback(){super.initCallback(),this.initTypes(),this.setAttribute("role","button"),this.defineAccessor("type",n=>{n&&this.applyType(n)})}registerType(n){this._registeredTypes[n.type]=n}getType(n){return this._registeredTypes[n]}activate(){if(!this.type)return;const n=this._registeredTypes[this.type],{activity:r,activate:i,activityParams:s={}}=n;(i?i():!!r)&&this.set$({"*currentActivityParams":s,"*currentActivity":r})}applyType(n){const r=this._registeredTypes[n];if(!r){console.warn("Unsupported source type: "+n);return}const{textKey:i=n,icon:s=n}=r;this.$["src-type"]=`${T3}${i}`,this.$.iconName=s,this.onclick=()=>{this.activate()}}}Hp.template=`
  <lr-icon set="@name: iconName"></lr-icon>
  <div class="txt" l10n="src-type"></div>
`;Hp.bindAttributes({type:null});class I3 extends Ee{initCallback(){super.initCallback(),this.subConfigValue("sourceList",t=>{let n=pr(t),r="";n.forEach(i=>{r+=`<lr-source-btn type="${i}"></lr-source-btn>`}),this.cfg.sourceListWrap?this.innerHTML=r:this.outerHTML=r})}}const Pc=()=>{const e=[];return{stack:e,promiseReadJpegChunks:n=>new Promise((r,i)=>{let s=2;const o=(c,h)=>{const p=new FileReader;p.addEventListener("load",()=>{h(new DataView(p.result))}),p.addEventListener("error",m=>{i(`Reader error: ${m}`)}),p.readAsArrayBuffer(c)},a=()=>o(n.slice(s,s+128),c=>{let h,p,m;for(h=p=0,m=c.byteLength;m>=0?p<m:p>m;h=m>=0?++p:--p)if(c.getUint8(h)===255){s+=h;break}u()}),u=()=>{const c=s;return o(n.slice(s,s+=4),h=>{if(h.byteLength!==4||h.getUint8(0)!==255){i("Corrupted");return}const p=h.getUint8(1);if(p===218){r(!0);return}const m=h.getUint16(2)-2;return o(n.slice(s,s+=m),I=>{if(I.byteLength!==m){i("Corrupted");return}e.push({startPos:c,length:m,marker:p,view:I}),a()})})};FileReader&&DataView||i("Not Support"),o(n.slice(0,2),c=>{c.getUint16(0)!==65496&&i("Not jpeg"),a()})})}},x3=async e=>{const t=[],{promiseReadJpegChunks:n,stack:r}=Pc();return await n(e),r.forEach(({marker:i,view:s})=>{i===226&&s.getUint32(0)===1229144927&&s.getUint32(4)===1347571526&&s.getUint32(8)===1229735168&&t.push(s)}),t},i2=async(e,t,n)=>{{const r=[],i=[],{promiseReadJpegChunks:s,stack:o}=Pc();await s(e),o.forEach(c=>{if(c.marker===t)return r.push(c.startPos),i.push(c.length)});const a=[e.slice(0,2)];for(const c of n){const h=new DataView(new ArrayBuffer(4));h.setUint16(0,65280+t),h.setUint16(2,c.byteLength+2),a.push(h.buffer),a.push(c)}let u=2;for(let c=0;c<r.length;c++)r[c]>u&&a.push(e.slice(u,r[c])),u=r[c]+i[c]+4;return a.push(e.slice(u,e.size)),new Blob(a,{type:e.type})}},k3=226,s2=(e,t)=>i2(e,k3,t.map(n=>n.buffer)),A3=async e=>{try{return await s2(e,[])}catch(t){throw new Error(`Failed to strip ICC profile: ${t}`)}},P3=(e,t,n)=>new Promise((r,i)=>{const s=o=>{if(!o){i("Failed to convert canvas to blob");return}r(o)};e.toBlob(s,t,n),e.width=e.height=1}),zl=()=>{const e=document.createElement("canvas"),t=e.getContext("2d");return{canvas:e,ctx:t}},R3=e=>{const{ctx:n,canvas:r}=zl();r.width=r.height=50,n.drawImage(e,0,0,50,50);const i=n.getImageData(0,0,50,50).data;r.width=r.height=1;for(let s=3;s<i.length;s+=4)if(i[s]<254)return!0;return!1},O3=async e=>{let t=null;const{promiseReadJpegChunks:n,stack:r}=Pc();return await n(e),r.forEach(({marker:i,view:s})=>{if(!t&&i===225&&s.byteLength>=14&&s.getUint32(0)===1165519206&&s.getUint16(4)===0){t=s;return}}),t},L3="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let Va;const N3=()=>new Promise(e=>{if(Va!==void 0)e(Va);else{const t=new Image;t.addEventListener("load",()=>{Va=t.naturalWidth<t.naturalHeight,t.src="//:0",e(Va)}),t.src=L3}}),D3=(e,t)=>{let n,r,i,s;if(!e||e.byteLength<14||e.getUint32(0)!==1165519206||e.getUint16(4)!==0)return;if(e.getUint16(6)===18761)r=!0;else if(e.getUint16(6)===19789)r=!1;else return;if(e.getUint16(8,r)!==42)return;i=8+e.getUint32(10,r);const o=e.getUint16(i-2,r);for(n=0,s=o;s>=0?n<s:n>s;s>=0?++n:--n){if(e.byteLength<i+10)return;e.getUint16(i,r)===274&&t(i+8,r),i+=12}},M3=(e,t)=>{D3(e,(n,r)=>e.setUint16(n,t,r))},$3=async(e,t,n)=>(n&&M3(t,1),i2(e,225,[t.buffer])),U3=(e,t)=>new Promise((n,r)=>{t&&(e.src=t),e.complete?n(e):(e.addEventListener("load",()=>{n(e)}),e.addEventListener("error",()=>{r(new Error("Failed to load image. Probably not an image."))}))}),F3=e=>U3(new Image,e),j3=[1,3],z3=[192,193,194,195,197,198,199,201,202,203,205,206,207],v0={squareSide:[Math.floor(Math.sqrt(5*1e3*1e3)),4096,8192,11180,10836,11402,14188,16384],dimension:[4096,8192,16384,32767,65535]},V3=async e=>{let t=!1;const{promiseReadJpegChunks:n,stack:r}=Pc();return await n(e).then(()=>(r.forEach(({marker:i,view:s})=>{if(!t&&z3.indexOf(i)>=0){const o=s.getUint8(5);j3.indexOf(o)<0&&(t=!0)}}),t)).catch(()=>t)},o2=(e,t)=>{const n={};return(...r)=>{const i=t(r,n);return i in n?n[i]:n[i]=e(...r)}},l2=(e,t)=>{const[n]=e,r=Object.keys(t).map(i=>parseInt(i,10)).sort((i,s)=>i-s);for(let i=0;i<r.length;i++){const s=r[i],o=!!t[s];if(s>n&&o||s<n&&!o)return s}return n},Br={R:55,G:110,B:165,A:255},B3=`rgba(${Br.R}, ${Br.G}, ${Br.B}, ${Br.A/255})`,a2=(e,t)=>{try{const n=[e-1,t-1,1,1],{canvas:r,ctx:i}=zl();r.width=1,r.height=1;const{canvas:s,ctx:o}=zl();s.width=e,s.height=t,o&&(o.fillStyle=B3,o.fillRect(...n),i.drawImage(s,e-1,t-1,1,1,0,0,1,1));const a=i&&i.getImageData(0,0,1,1).data;let u=!1;return a&&(u=a[0]===Br.R&&a[1]===Br.G&&a[2]===Br.B&&a[3]===Br.A),s.width=s.height=1,u}catch{return console.error(`Failed to test for max canvas size of ${e}x${t}.`),!1}};function u2(e){return(...t)=>new Promise(n=>{setTimeout(()=>{const r=e(...t);n(r)},0)})}const H3=u2(o2(a2,l2)),W3=u2(o2(a2,l2)),c2=async(e,t)=>{const n=v0.squareSide.find(o=>o*o>=e*t),r=v0.dimension.find(o=>o>=e&&o>=t);if(!n||!r)throw new Error("Not supported");const[i,s]=await Promise.all([H3(n,n),W3(r,1)]);if(i&&s)return!0;throw new Error("Not supported")},d2=async(e,t,n)=>{try{const{ctx:r,canvas:i}=zl();return i.width=t,i.height=n,r.imageSmoothingQuality="high",r.drawImage(e,0,0,t,n),e instanceof HTMLImageElement&&(e.src="//:0"),e instanceof HTMLCanvasElement&&(e.width=e.height=1),i}catch(r){throw new Error("Canvas resize error",{cause:r})}},G3=({img:e,targetW:t,targetH:n})=>d2(e,t,n),K3=function({sourceW:e,targetW:t,targetH:n,step:r}){const i=[];let s=t,o=n;do i.push([s,o]),s=Math.round(s/r),o=Math.round(o/r);while(s<e*r);return i.reverse()},X3=({img:e,sourceW:t,targetW:n,targetH:r,step:i})=>K3({sourceW:t,targetW:n,targetH:r,step:i}).reduce((o,[a,u])=>o.then(c=>c2(a,u).then(()=>d2(c,a,u)).catch(()=>c)),Promise.resolve(e)),q3=()=>/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),Y3=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),Ld=.71,J3=(e,t)=>{if(e.width*Ld*e.height*Ld<t.size)throw new Error("Not required");const n=e.width,r=e.height,i=n/r,s=Math.floor(Math.sqrt(t.size*i)),o=Math.floor(t.size/Math.sqrt(t.size*i));return c2(s,o).then(()=>{const{ctx:a}=zl();return"imageSmoothingQuality"in a&&!q3()&&!Y3?G3({img:e,targetW:s,targetH:o}):X3({img:e,sourceW:n,targetW:s,targetH:o,step:Ld})}).catch(()=>Promise.reject("Not supported"))},Q3=async(e,t)=>{try{if(await V3(e))throw new Error("Should skipped");const r=await Promise.allSettled([O3(e),N3(),x3(e)]),s=!r.some(x=>x.status==="rejected"),[o,a,u]=r,c=await A3(e).catch(()=>e),h=await F3(URL.createObjectURL(c));URL.revokeObjectURL(h.src);const p=await J3(h,t);let m="image/jpeg",I=(t==null?void 0:t.quality)||.8;!s&&R3(p)&&(m="image/png",I=void 0);let b=await P3(p,m,I);if(s&&o.status==="fulfilled"&&o.value){const x=o.value,L=a.status==="fulfilled"?a.value:!1;b=await $3(b,x,L)}return s&&u.status==="fulfilled"&&u.value.length>0&&(b=await s2(b,u.value)),b}catch(n){let r;throw n instanceof Error&&(r=n.message),typeof n=="string"&&(r=n),new Error(`Failed to shrink image. ${r?`Message: "${r}".`:""}`,{cause:n})}};function h2(e){let t=new Blob([e],{type:"image/svg+xml"});return URL.createObjectURL(t)}function Z3(e="#fff",t="rgba(0, 0, 0, .1)"){return h2(`<svg height="20" width="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
    <rect x="0" y="0" width="20" height="20" fill="${e}" />
    <rect x="0" y="0" width="10" height="10" fill="${t}" />
    <rect x="10" y="10" width="10" height="10" fill="${t}" />
  </svg>`)}function y0(e="hsl(209, 21%, 65%)",t=32,n=32){return h2(`
  <svg width="${t}" height="${n}" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" fill="${e}" d="M9.68848 8.70068C9.68848 8.42454 9.91233 8.20068 10.1885 8.20068H15.0885C15.2211 8.20068 15.3483 8.25336 15.442 8.34713L20.342 13.2471C20.4358 13.3409 20.4885 13.4681 20.4885 13.6007V21.3007C20.4885 21.5768 20.2646 21.8007 19.9885 21.8007H10.1885C9.91233 21.8007 9.68848 21.5768 9.68848 21.3007V8.70068ZM10.6885 9.20068V20.8007H19.4885V14.1007L15.0885 14.1007C14.8123 14.1007 14.5885 13.8768 14.5885 13.6007L14.5885 9.20068H10.6885ZM15.5885 9.90779L18.7814 13.1007L15.5885 13.1007L15.5885 9.90779Z"/>
  </svg>
  `)}function eO(e,t=40){if(e.type==="image/svg+xml")return URL.createObjectURL(e);let n=document.createElement("canvas"),r=n.getContext("2d"),i=new Image,s=new Promise((o,a)=>{i.onload=()=>{let u=i.height/i.width;u>1?(n.width=t,n.height=t*u):(n.height=t,n.width=t/u),r.fillStyle="rgb(240, 240, 240)",r.fillRect(0,0,n.width,n.height),r.drawImage(i,0,0,n.width,n.height),n.toBlob(c=>{if(!c){a();return}let h=URL.createObjectURL(c);o(h)})},i.onerror=u=>{a(u)}});return i.src=URL.createObjectURL(e),s}const _0=16384,tO=/^([0-9]+)x([0-9]+)(?:\s+(\d{1,2}|100)%)?$/i,nO=e=>{const t=tO.exec(e==null?void 0:e.toLocaleLowerCase())||[];if(!t.length)return!1;const n=t[1]*t[2],r=_0*_0;return n>r?(console.warn(`Shrinked size can not be larger than ${Math.floor(r/1e3/1e3)}MP. You have set ${t[1]}x${t[2]} (${Math.ceil(n/1e3/100)/10}MP).`),!1):{quality:t[3]?t[3]/100:void 0,size:n}},Yt=Object.freeze({FINISHED:Symbol(0),FAILED:Symbol(1),UPLOADING:Symbol(2),IDLE:Symbol(3)});class zi extends De{constructor(){super();N(this,"couldBeCtxOwner",!0);N(this,"pauseRender",!0);N(this,"_entrySubs",new Set);N(this,"_entry",null);N(this,"_isIntersecting",!1);N(this,"_debouncedGenerateThumb",dn(this._generateThumbnail.bind(this),100));N(this,"_debouncedCalculateState",dn(this._calculateState.bind(this),100));N(this,"_renderedOnce",!1);this.init$={...this.init$,uid:"",itemName:"",errorText:"",thumbUrl:"",progressValue:0,progressVisible:!1,badgeIcon:"",isFinished:!1,isFailed:!1,isUploading:!1,isFocused:!1,isEditable:!1,state:Yt.IDLE,onEdit:()=>{this.set$({"*focusedEntry":this._entry}),this.hasBlockInCtx(n=>n.activityType===se.activities.DETAILS)?this.$["*currentActivity"]=se.activities.DETAILS:this.$["*currentActivity"]=se.activities.CLOUD_IMG_EDIT},onRemove:()=>{this.uploadCollection.remove(this.$.uid)},onUpload:()=>{this.upload()}}}_reset(){for(let n of this._entrySubs)n.remove();this._debouncedGenerateThumb.cancel(),this._debouncedCalculateState.cancel(),this._entrySubs=new Set,this._entry=null}_observerCallback(n){let[r]=n;this._isIntersecting=r.isIntersecting,r.isIntersecting&&!this._renderedOnce&&(this.render(),this._renderedOnce=!0),r.intersectionRatio===0?this._debouncedGenerateThumb.cancel():this._debouncedGenerateThumb()}_calculateState(){if(!this._entry)return;let n=this._entry,r=Yt.IDLE;n.getValue("errors").length>0?r=Yt.FAILED:n.getValue("isUploading")?r=Yt.UPLOADING:n.getValue("fileInfo")&&(r=Yt.FINISHED),this.$.state=r}async _generateThumbnail(){var r;if(!this._entry)return;let n=this._entry;if(n.getValue("fileInfo")&&n.getValue("isImage")){let i=this.cfg.thumbSize,s=this.proxyUrl(rn(jl(this.cfg.cdnCname,this._entry.getValue("uuid")),li(n.getValue("cdnUrlModifiers"),`scale_crop/${i}x${i}/center`))),o=n.getValue("thumbUrl");o!==s&&(n.setValue("thumbUrl",s),o!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(o));return}if(!n.getValue("thumbUrl"))if((r=n.getValue("file"))!=null&&r.type.includes("image"))try{let i=await eO(n.getValue("file"),this.cfg.thumbSize);n.setValue("thumbUrl",i)}catch{let s=window.getComputedStyle(this).getPropertyValue("--clr-generic-file-icon");n.setValue("thumbUrl",y0(s))}else{let i=window.getComputedStyle(this).getPropertyValue("--clr-generic-file-icon");n.setValue("thumbUrl",y0(i))}}_subEntry(n,r){let i=this._entry.subscribe(n,s=>{this.isConnected&&r(s)});this._entrySubs.add(i)}_handleEntryId(n){var i;this._reset();let r=(i=this.uploadCollection)==null?void 0:i.read(n);this._entry=r,r&&(this._subEntry("uploadProgress",s=>{this.$.progressValue=s}),this._subEntry("fileName",s=>{this.$.itemName=s||r.getValue("externalUrl")||this.l10n("file-no-name"),this._debouncedCalculateState()}),this._subEntry("externalUrl",s=>{this.$.itemName=r.getValue("fileName")||s||this.l10n("file-no-name")}),this._subEntry("fileInfo",s=>{this._debouncedCalculateState(),s&&this._isIntersecting&&this._debouncedGenerateThumb()}),this._subEntry("cdnUrlModifiers",()=>{this._isIntersecting&&this._debouncedGenerateThumb()}),this._subEntry("thumbUrl",s=>{this.$.thumbUrl=s?`url(${s})`:""}),this._subEntry("errors",()=>this._debouncedCalculateState()),this._subEntry("isUploading",()=>this._debouncedCalculateState()),this._subEntry("fileSize",()=>this._debouncedCalculateState()),this._subEntry("mimeType",()=>this._debouncedCalculateState()),this._subEntry("isImage",()=>this._debouncedCalculateState()),this._isIntersecting&&this._debouncedGenerateThumb())}initCallback(){super.initCallback(),this.sub("uid",n=>{this._handleEntryId(n)}),this.sub("state",n=>{this._handleState(n)}),this.subConfigValue("useCloudImageEditor",()=>this._debouncedCalculateState()),this.onclick=()=>{zi.activeInstances.forEach(n=>{n===this?n.setAttribute("focused",""):n.removeAttribute("focused")})},this.sub("*uploadTrigger",n=>{n.has(this._entry.uid)&&setTimeout(()=>this.isConnected&&this.upload())}),zi.activeInstances.add(this)}_handleState(n){var r,i,s,o;n===Yt.FAILED?this.$.badgeIcon="badge-error":n===Yt.FINISHED&&(this.$.badgeIcon="badge-success"),n===Yt.UPLOADING?this.$.isFocused=!1:this.$.progressValue=0,this.set$({isFailed:n===Yt.FAILED,isUploading:n===Yt.UPLOADING,isFinished:n===Yt.FINISHED,progressVisible:n===Yt.UPLOADING,isEditable:this.cfg.useCloudImageEditor&&((r=this._entry)==null?void 0:r.getValue("isImage"))&&((i=this._entry)==null?void 0:i.getValue("cdnUrl")),errorText:(o=(s=this._entry.getValue("errors"))==null?void 0:s[0])==null?void 0:o.message})}destroyCallback(){super.destroyCallback(),zi.activeInstances.delete(this),this._reset()}connectedCallback(){super.connectedCallback(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{root:this.parentElement,rootMargin:"50% 0px 50% 0px",threshold:[0,1]}),this._observer.observe(this)}disconnectedCallback(){var n;super.disconnectedCallback(),this._debouncedGenerateThumb.cancel(),(n=this._observer)==null||n.disconnect()}_settingsOfShrink(){return nO(this.cfg.imageShrink)}_processShrink(n){return Q3(n,this._settingsOfShrink())}async upload(){var i,s;let n=this._entry;if(!this.uploadCollection.read(n.uid)||n.getValue("fileInfo")||n.getValue("isUploading")||n.getValue("errors").length>0)return;const r=this.cfg.multiple?this.cfg.multipleMax:1;if(!(r&&this.uploadCollection.size>r)){this._debouncedCalculateState(),n.setValue("isUploading",!0),n.setValue("errors",[]);try{let o=new AbortController;n.setValue("abortController",o);const a=async()=>{let c=n.getValue("file");c&&this.cfg.imageShrink&&(c=await this._processShrink(c).catch(()=>c));const h=c||n.getValue("externalUrl")||n.getValue("uuid"),m={...this.getUploadClientOptions(),fileName:n.getValue("fileName"),source:n.getValue("source"),onProgress:I=>{if(I.isComputable){let b=I.value*100;n.setValue("uploadProgress",b)}},signal:o.signal,metadata:await this.getMetadataFor(n.uid)};return this.debugPrint("upload options",h,m),Mw(h,m)};let u=await this.$["*uploadQueue"].add(a);n.setMultipleValues({fileInfo:u,isUploading:!1,fileName:u.originalFilename,fileSize:u.size,isImage:u.isImage,mimeType:((s=(i=u.contentInfo)==null?void 0:i.mime)==null?void 0:s.mime)??u.mimeType,uuid:u.uuid,cdnUrl:n.getValue("cdnUrl")??u.cdnUrl,cdnUrlModifiers:n.getValue("cdnUrlModifiers")??"",uploadProgress:100}),n===this._entry&&this._debouncedCalculateState()}catch(o){o instanceof Qi&&o.isCancel?n.setMultipleValues({isUploading:!1,uploadProgress:0}):n.setMultipleValues({isUploading:!1,uploadProgress:0,uploadError:o}),n===this._entry&&this._debouncedCalculateState()}}}}zi.template=`
  <div class="inner" set="@finished: isFinished; @uploading: isUploading; @failed: isFailed; @focused: isFocused">
    <div class="thumb" set="style.backgroundImage: thumbUrl">
      <div class="badge">
        <lr-icon set="@name: badgeIcon"></lr-icon>
      </div>
    </div>
    <div class="file-name-wrapper">
      <span class="file-name" set="@title: itemName">{{itemName}}</span>
      <span class="file-error" set="@hidden: !errorText">{{errorText}}</span>
    </div>
    <div class="file-actions">
      <button type="button" class="edit-btn mini-btn" set="onclick: onEdit; @hidden: !isEditable">
        <lr-icon name="edit-file"></lr-icon>
      </button>
      <button type="button" class="remove-btn mini-btn" set="onclick: onRemove;">
        <lr-icon name="remove-file"></lr-icon>
      </button>
      <button type="button" class="upload-btn mini-btn" set="onclick: onUpload;">
        <lr-icon name="upload"></lr-icon>
      </button>
    </div>
    <lr-progress-bar class="progress-bar" set="value: progressValue; visible: progressVisible;"> </lr-progress-bar>
  </div>
`;zi.activeInstances=new Set;class Wp extends Ee{constructor(){super();N(this,"_handleBackdropClick",()=>{this._closeDialog()});N(this,"_closeDialog",()=>{this.setOrAddState("*modalActive",!1)});N(this,"_handleDialogClose",()=>{this._closeDialog()});N(this,"_handleDialogMouseDown",n=>{this._mouseDownTarget=n.target});N(this,"_handleDialogMouseUp",n=>{n.target===this.ref.dialog&&n.target===this._mouseDownTarget&&this._closeDialog()});this.init$={...this.init$,"*modalActive":!1,isOpen:!1,closeClicked:this._handleDialogClose}}show(){this.ref.dialog.showModal?this.ref.dialog.showModal():this.ref.dialog.setAttribute("open","")}hide(){this.ref.dialog.close?this.ref.dialog.close():this.ref.dialog.removeAttribute("open")}initCallback(){if(super.initCallback(),typeof HTMLDialogElement=="function")this.ref.dialog.addEventListener("close",this._handleDialogClose),this.ref.dialog.addEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.addEventListener("mouseup",this._handleDialogMouseUp);else{this.setAttribute("dialog-fallback","");let n=document.createElement("div");n.className="backdrop",this.appendChild(n),n.addEventListener("click",this._handleBackdropClick)}this.sub("*modalActive",n=>{this.$.isOpen!==n&&(this.$.isOpen=n),n&&this.cfg.modalScrollLock?document.body.style.overflow="hidden":document.body.style.overflow=""}),this.subConfigValue("modalBackdropStrokes",n=>{n?this.setAttribute("strokes",""):this.removeAttribute("strokes")}),this.sub("isOpen",n=>{n?this.show():this.hide()})}destroyCallback(){super.destroyCallback(),document.body.style.overflow="",this._mouseDownTarget=void 0,this.ref.dialog.removeEventListener("close",this._handleDialogClose),this.ref.dialog.removeEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.removeEventListener("mouseup",this._handleDialogMouseUp)}}N(Wp,"StateConsumerScope","modal");Wp.template=`
  <dialog ref="dialog">
    <slot></slot>
  </dialog>
`;const f2=(e,t)=>{let n,r,i;const s=(...o)=>{n?(clearTimeout(r),r=setTimeout(()=>{Date.now()-i>=t&&(e(...o),i=Date.now())},Math.max(t-(Date.now()-i),0))):(e(...o),i=Date.now(),n=!0)};return Object.defineProperty(s,"cancel",{configurable:!1,writable:!1,enumerable:!1,value:()=>{clearTimeout(r)}}),s};class p2 extends De{constructor(){super();N(this,"couldBeCtxOwner",!0);N(this,"historyTracked",!0);N(this,"activityType",se.activities.UPLOAD_LIST);N(this,"_throttledHandleCollectionUpdate",f2(()=>{this.isConnected&&(this._updateUploadsState(),!this.couldOpenActivity&&this.$["*currentActivity"]===this.activityType&&this.historyBack())},300));this.init$={...this.init$,doneBtnVisible:!1,doneBtnEnabled:!1,uploadBtnVisible:!1,addMoreBtnVisible:!1,addMoreBtnEnabled:!1,headerText:"",commonErrorMessage:"",hasFiles:!1,onAdd:()=>{this.initFlow(!0)},onUpload:()=>{this.emit(Ve.UPLOAD_CLICK),this.uploadAll(),this._throttledHandleCollectionUpdate()},onDone:()=>{this.emit(Ve.DONE_CLICK,this.getOutputCollectionState()),this.doneFlow()},onCancel:()=>{this.uploadCollection.clearAll()}}}_updateUploadsState(){const n=this.getOutputCollectionState(),r={total:n.totalCount,succeed:n.successCount,uploading:n.uploadingCount,failed:n.failedCount},i=!n.errors.some(m=>m.type==="TOO_MANY_FILES"||m.type==="TOO_FEW_FILES"),s=n.errors.some(m=>m.type==="TOO_MANY_FILES"),o=n.totalCount===(this.cfg.multiple?this.cfg.multipleMax:1),a=r.failed===0;let u=!1,c=!1,h=!1;r.total-r.succeed-r.uploading-r.failed>0&&i?u=!0:(c=!0,h=r.total===r.succeed&&i&&a),this.set$({doneBtnVisible:c,doneBtnEnabled:h,uploadBtnVisible:u,addMoreBtnEnabled:r.total===0||!s&&!o,addMoreBtnVisible:!o||this.cfg.multiple}),this.bindL10n("headerText",()=>this._getHeaderText(r))}_getHeaderText(n){const r=i=>{const s=n[i];return this.l10n(`header-${i}`,{count:s})};return n.uploading>0?r("uploading"):n.failed>0?r("failed"):n.succeed>0?r("succeed"):r("total")}get couldOpenActivity(){return this.cfg.showEmptyList||this.uploadCollection.size>0}initCallback(){super.initCallback(),this.registerActivity(this.activityType),this.subConfigValue("multiple",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMin",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMax",this._throttledHandleCollectionUpdate),this.sub("*currentActivity",n=>{!this.couldOpenActivity&&n===this.activityType&&(this.$["*currentActivity"]=this.initActivity)}),this.uploadCollection.observeProperties(this._throttledHandleCollectionUpdate),this.sub("*uploadList",n=>{this._throttledHandleCollectionUpdate(),this.set$({hasFiles:n.length>0}),this.cfg.confirmUpload||this.uploadAll()},!1),this.sub("*collectionErrors",n=>{const r=n.filter(i=>i.type!=="SOME_FILES_HAS_ERRORS")[0];if(!r){this.set$({commonErrorMessage:null});return}this.set$({commonErrorMessage:r.message})})}destroyCallback(){super.destroyCallback(),this.uploadCollection.unobserveProperties(this._throttledHandleCollectionUpdate)}}p2.template=`
  <lr-activity-header>
    <span class="header-text">{{headerText}}</span>
    <button type="button" class="mini-btn close-btn" set="onclick: *closeModal">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>

  <div class="no-files" set="@hidden: hasFiles">
    <slot name="empty"><span l10n="no-files"></span></slot>
  </div>

  <div class="files" repeat="*uploadList" repeat-item-tag="lr-file-item"></div>

  <div class="common-error" set="@hidden: !commonErrorMessage; textContent: commonErrorMessage;"></div>

  <div class="toolbar">
    <button type="button" class="cancel-btn secondary-btn" set="onclick: onCancel;" l10n="clear"></button>
    <div class="toolbar-spacer"></div>
    <button
      type="button"
      class="add-more-btn secondary-btn"
      set="onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible"
    >
      <lr-icon name="add"></lr-icon><span l10n="add-more"></span>
    </button>
    <button
      type="button"
      class="upload-btn primary-btn"
      set="@hidden: !uploadBtnVisible; onclick: onUpload;"
      l10n="upload"
    ></button>
    <button
      type="button"
      class="done-btn primary-btn"
      set="@hidden: !doneBtnVisible; onclick: onDone;  @disabled: !doneBtnEnabled"
      l10n="done"
    ></button>
  </div>

  <lr-drop-area ghost></lr-drop-area>
`;class m2 extends De{constructor(){super(...arguments);N(this,"couldBeCtxOwner",!0);N(this,"activityType",se.activities.URL);N(this,"init$",{...this.init$,importDisabled:!0,onUpload:n=>{n.preventDefault();let r=this.ref.input.value;this.addFileFromUrl(r,{source:Ln.URL_TAB}),this.$["*currentActivity"]=se.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()},onInput:n=>{let r=n.target.value;this.set$({importDisabled:!r})}})}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{this.ref.input.value="",this.ref.input.focus()}})}}m2.template=`
  <lr-activity-header>
    <button type="button" class="mini-btn" set="onclick: *historyBack">
      <lr-icon name="back"></lr-icon>
    </button>
    <div>
      <lr-icon name="url"></lr-icon>
      <span l10n="caption-from-url"></span>
    </div>
    <button type="button" class="mini-btn close-btn" set="onclick: *closeModal">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>
  <form class="content">
    <input placeholder="https://" class="url-input" type="text" ref="input" set="oninput: onInput" />
    <button
      type="submit"
      class="url-upload-btn primary-btn"
      set="onclick: onUpload; @disabled: importDisabled"
      l10n="upload-url"
    ></button>
  </form>
`;const w0=()=>typeof navigator.permissions<"u";class g2 extends De{constructor(){super(...arguments);N(this,"couldBeCtxOwner",!0);N(this,"activityType",se.activities.CAMERA);N(this,"_unsubPermissions",null);N(this,"init$",{...this.init$,video:null,videoTransformCss:null,shotBtnDisabled:!0,videoHidden:!0,messageHidden:!0,requestBtnHidden:w0(),cameraSelectOptions:null,cameraSelectHidden:!0,l10nMessage:"",onCameraSelectChange:n=>{this._selectedCameraId=n.target.value,this._capture()},onCancel:()=>{this.historyBack()},onShot:()=>{this._shot()},onRequestPermissions:()=>{this._capture()}});N(this,"_onActivate",()=>{w0()&&this._subscribePermissions(),this._capture()});N(this,"_onDeactivate",()=>{this._unsubPermissions&&this._unsubPermissions(),this._stopCapture()});N(this,"_handlePermissionsChange",()=>{this._capture()});N(this,"_setPermissionsState",dn(n=>{this.classList.toggle("initialized",n==="granted"),n==="granted"?this.set$({videoHidden:!1,shotBtnDisabled:!1,messageHidden:!0}):n==="prompt"?(this.$.l10nMessage="camera-permissions-prompt",this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture()):(this.$.l10nMessage="camera-permissions-denied",this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture())},300))}async _subscribePermissions(){try{(await navigator.permissions.query({name:"camera"})).addEventListener("change",this._handlePermissionsChange)}catch(n){console.log("Failed to use permissions API. Fallback to manual request mode.",n),this._capture()}}async _capture(){let n={video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!1};this._selectedCameraId&&(n.video.deviceId={exact:this._selectedCameraId}),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d");try{this._setPermissionsState("prompt");let r=await navigator.mediaDevices.getUserMedia(n);r.addEventListener("inactive",()=>{this._setPermissionsState("denied")}),this.$.video=r,this._capturing=!0,this._setPermissionsState("granted")}catch(r){this._setPermissionsState("denied"),console.error("Failed to capture camera",r)}}_stopCapture(){var n;this._capturing&&((n=this.$.video)==null||n.getTracks()[0].stop(),this.$.video=null,this._capturing=!1)}_shot(){this._canvas.height=this.ref.video.videoHeight,this._canvas.width=this.ref.video.videoWidth,this._ctx.drawImage(this.ref.video,0,0);const n=Date.now(),r=`camera-${n}.jpeg`,i="image/jpeg";this._canvas.toBlob(s=>{let o=new File([s],r,{lastModified:n,type:i});this.addFileFromObject(o,{source:Ln.CAMERA}),this.set$({"*currentActivity":se.activities.UPLOAD_LIST})},i)}async initCallback(){var n;super.initCallback(),this.registerActivity(this.activityType,{onActivate:this._onActivate,onDeactivate:this._onDeactivate}),this.subConfigValue("cameraMirror",r=>{this.$.videoTransformCss=r?"scaleX(-1)":null});try{let i=(await navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="videoinput").map((s,o)=>({text:s.label.trim()||`${this.l10n("caption-camera")} ${o+1}`,value:s.deviceId}));i.length>1&&(this.$.cameraSelectOptions=i,this.$.cameraSelectHidden=!1),this._selectedCameraId=(n=i[0])==null?void 0:n.value}catch{}}}g2.template=`
  <lr-activity-header>
    <button type="button" class="mini-btn" set="onclick: *historyBack">
      <lr-icon name="back"></lr-icon>
    </button>
    <div set="@hidden: !cameraSelectHidden">
      <lr-icon name="camera"></lr-icon>
      <span l10n="caption-camera"></span>
    </div>
    <lr-select
      class="camera-select"
      set="$.options: cameraSelectOptions; @hidden: cameraSelectHidden; onchange: onCameraSelectChange"
    >
    </lr-select>
    <button type="button" class="mini-btn close-btn" set="onclick: *closeModal">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>
  <div class="content">
    <video
      autoplay
      playsinline
      set="srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden"
      ref="video"
    ></video>
    <div class="message-box" set="@hidden: messageHidden">
      <span l10n="l10nMessage"></span>
      <button
        type="button"
        set="onclick: onRequestPermissions; @hidden: requestBtnHidden"
        l10n="camera-permissions-request"
      ></button>
    </div>
    <button type="button" class="shot-btn" set="onclick: onShot; @disabled: shotBtnDisabled">
      <lr-icon name="camera"></lr-icon>
    </button>
  </div>
`;class v2 extends De{constructor(){super(...arguments);N(this,"requireCtxName",!0)}initCallback(){super.initCallback(),this.$["*eventEmitter"].bindTarget(this)}destroyCallback(){super.destroyCallback(),this.$["*eventEmitter"].unbindTarget(this)}}v2.EventType=Ve;const Jh=v2;class rO{constructor(){N(this,"captionL10nStr","confirm-your-action");N(this,"messageL10Str","are-you-sure");N(this,"confirmL10nStr","yes");N(this,"denyL10nStr","no")}confirmAction(){console.log("Confirmed")}denyAction(){this.historyBack()}}class y2 extends se{constructor(){super(...arguments);N(this,"activityType",se.activities.CONFIRMATION);N(this,"_defaults",new rO);N(this,"init$",{...this.init$,activityCaption:"",messageTxt:"",confirmBtnTxt:"",denyBtnTxt:"","*confirmation":null,onConfirm:this._defaults.confirmAction,onDeny:this._defaults.denyAction.bind(this)})}initCallback(){super.initCallback(),this.set$({messageTxt:this.l10n(this._defaults.messageL10Str),confirmBtnTxt:this.l10n(this._defaults.confirmL10nStr),denyBtnTxt:this.l10n(this._defaults.denyL10nStr)}),this.sub("*confirmation",n=>{n&&this.set$({"*currentActivity":se.activities.CONFIRMATION,activityCaption:this.l10n(n.captionL10nStr),messageTxt:this.l10n(n.messageL10Str),confirmBtnTxt:this.l10n(n.confirmL10nStr),denyBtnTxt:this.l10n(n.denyL10nStr),onDeny:()=>{n.denyAction()},onConfirm:()=>{n.confirmAction()}})})}}y2.template=`
  <lr-activity-header>
    <button type="button" class="mini-btn" set="onclick: *historyBack">
      <lr-icon name="back"></lr-icon>
    </button>
    <span>{{activityCaption}}</span>
    <button type="button" class="mini-btn close-btn" set="onclick: *closeModal">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>

  <div class="message">{{messageTxt}}</div>
  <div class="toolbar">
    <button type="button" class="deny-btn secondary-btn" set="onclick: onDeny">{{denyBtnTxt}}</button>
    <button type="button" class="confirm-btn primary-btn" set="onclick: onConfirm">{{confirmBtnTxt}}</button>
  </div>
`;class _2 extends De{constructor(){super(...arguments);N(this,"init$",{...this.init$,visible:!1,value:0,"*commonProgress":0})}initCallback(){super.initCallback(),this._unobserveCollection=this.uploadCollection.observeProperties(()=>{let n=this.uploadCollection.items().some(r=>this.uploadCollection.read(r).getValue("isUploading"));this.$.visible=n}),this.sub("visible",n=>{n?this.setAttribute("active",""):this.removeAttribute("active")}),this.sub("*commonProgress",n=>{this.$.value=n})}destroyCallback(){var n;super.destroyCallback(),(n=this._unobserveCollection)==null||n.call(this)}}_2.template=' <lr-progress-bar set="visible: visible; value: value"></lr-progress-bar> ';class w2 extends Ee{constructor(){super(...arguments);N(this,"_value",0);N(this,"init$",{...this.init$,width:0,opacity:0})}initCallback(){super.initCallback(),this.defineAccessor("value",n=>{if(n===void 0)return;const r=this._value;if(this._value=n,n===0&&r>0){this.ref.line.addEventListener("transitionend",()=>{this.style.setProperty("--l-width",this._value.toString())});return}this.style.setProperty("--l-width",this._value.toString())}),this.defineAccessor("visible",n=>{this.ref.line.classList.toggle("progress--hidden",!n)})}}w2.template=' <div ref="line" class="progress"></div> ';const ai="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";class Gp extends Ee{constructor(){super();N(this,"init$",{...this.init$,checkerboard:!1,src:ai})}initCallback(){super.initCallback(),this.sub("checkerboard",()=>{this.style.backgroundImage=this.hasAttribute("checkerboard")?`url(${Z3()})`:"unset"})}destroyCallback(){super.destroyCallback(),URL.revokeObjectURL(this._lastObjectUrl)}setImage(n){this.$.src=n.src}setImageFile(n){let r=URL.createObjectURL(n);this.$.src=r,this._lastObjectUrl=r}setImageUrl(n){this.$.src=n}clear(){URL.revokeObjectURL(this._lastObjectUrl),this.$.src=ai}}Gp.template=' <lr-img class="img-view" ref="img" set="@src: src; style.aa: src;" /> ';Gp.bindAttributes({checkerboard:"checkerboard"});function b2(...e){return e.reduce((t,n)=>{if(typeof n=="string")return t[n]=!0,t;for(let r of Object.keys(n))t[r]=n[r];return t},{})}function Sn(...e){let t=b2(...e);return Object.keys(t).reduce((n,r)=>(t[r]&&n.push(r),n),[]).join(" ")}function iO(e,...t){let n=b2(...t);for(let r of Object.keys(n))e.classList.toggle(r,n[r])}const sO=e=>{if(!e)return Un;const t=ER(e).filter(n=>Un.includes(n));return t.length===0?Un:t};function oO(e){return{"*originalUrl":null,"*faderEl":null,"*cropperEl":null,"*imgEl":null,"*imgContainerEl":null,"*networkProblems":!1,"*imageSize":null,"*editorTransformations":{},"*cropPresetList":[],"*tabList":Un,"*tabId":It.CROP,entry:null,extension:null,editorMode:!1,modalCaption:"",isImage:!1,msg:"",src:ai,fileType:"",showLoader:!1,uuid:null,cdnUrl:null,cropPreset:"",tabs:Up(Un),"presence.networkProblems":!1,"presence.modalCaption":!0,"presence.editorToolbar":!1,"presence.viewerToolbar":!0,"*on.retryNetwork":()=>{let t=e.querySelectorAll("img");for(let n of t){let r=n.src;n.src=ai,n.src=r}e.$["*networkProblems"]=!1},"*on.apply":t=>{if(!t)return;let n=e.$["*originalUrl"],r=li(kc(t),"preview"),i=rn(n,r),s={originalUrl:n,cdnUrlModifiers:r,cdnUrl:i,transformations:t};e.dispatchEvent(new CustomEvent("apply",{detail:s,bubbles:!0,composed:!0})),e.remove()},"*on.cancel":()=>{e.remove(),e.dispatchEvent(new CustomEvent("cancel",{bubbles:!0,composed:!0}))}}}const lO=`
  <div class="wrapper wrapper_desktop">
    <lr-presence-toggle class="network_problems_splash" set="visible: presence.networkProblems;">
      <div class="network_problems_content">
        <div class="network_problems_icon">
          <lr-icon size="20" name="sad"></lr-icon>
        </div>
        <div class="network_problems_text">Network error</div>
      </div>
      <div class="network_problems_footer">
        <lr-btn-ui theme="primary" text="Retry" set="onclick: *on.retryNetwork"></lr-btn-ui>
      </div>
    </lr-presence-toggle>
    <div class="viewport">
      <div class="file_type_outer">
        <div class="file_type">{{fileType}}</div>
      </div>
      <div class="image_container" ref="img-container-el">
        <img src="${ai}" class="image image_visible_from_editor" ref="img-el" />
        <lr-editor-image-cropper ref="cropper-el"></lr-editor-image-cropper>
        <lr-editor-image-fader ref="fader-el"></lr-editor-image-fader>
      </div>
      <div class="info_pan">{{msg}}</div>
    </div>
    <div class="toolbar">
      <lr-line-loader-ui set="active: showLoader"></lr-line-loader-ui>
      <div class="toolbar_content toolbar_content__editor">
        <lr-editor-toolbar></lr-editor-toolbar>
      </div>
    </div>
  </div>
`;class wo extends Ee{constructor(){super();N(this,"ctxOwner",!0);N(this,"_debouncedShowLoader",dn(this._showLoader.bind(this),300));this.init$={...this.init$,...oO(this)}}_showLoader(n){this.$.showLoader=n}_waitForSize(){return new Promise((r,i)=>{const s=setTimeout(()=>{i(new Error("[cloud-image-editor] timeout waiting for non-zero container size"))},3e3),o=new ResizeObserver(([a])=>{a.contentRect.width>0&&a.contentRect.height>0&&(r(),clearTimeout(s),o.disconnect())});o.observe(this)})}initCallback(){super.initCallback(),this.$["*faderEl"]=this.ref["fader-el"],this.$["*cropperEl"]=this.ref["cropper-el"],this.$["*imgContainerEl"]=this.ref["img-container-el"],this.initEditor()}async updateImage(){if(this.isConnected){if(await this._waitForSize(),this.$.cdnUrl){const n=hR(this.$.cdnUrl),r=jl(this.$.cdnUrl,n);if(r===this.$["*originalUrl"])return;this.$["*originalUrl"]=r;const i=fR(this.$.cdnUrl),s=yR(i);this.$["*editorTransformations"]=s}else if(this.$.uuid){const n=jl(this.cfg.cdnCname,this.$.uuid);if(n===this.$["*originalUrl"])return;this.$["*originalUrl"]=n,this.$["*editorTransformations"]={}}else throw new Error("No UUID nor CDN URL provided");this.$["*tabId"]===It.CROP?this.$["*cropperEl"].deactivate({reset:!0}):this.$["*faderEl"].deactivate();try{const n=rn(this.$["*originalUrl"],li("json")),r=await fetch(n).then(o=>o.json()),{width:i,height:s}=r;this.$["*imageSize"]={width:i,height:s},this.$["*tabId"]===It.CROP?this.$["*cropperEl"].activate(this.$["*imageSize"]):this.$["*faderEl"].activate({url:this.$["*originalUrl"]})}catch(n){n&&console.error("Failed to load image info",n)}}}async initEditor(){try{await this._waitForSize()}catch(n){this.isConnected&&console.error(n.message);return}this.ref["img-el"].addEventListener("load",()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$.src!==ai&&(this.$["*networkProblems"]=!1)}),this.ref["img-el"].addEventListener("error",()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$["*networkProblems"]=!0}),this.sub("src",n=>{let r=this.ref["img-el"];r.src!==n&&(this._imgLoading=!0,r.src=n||ai)}),this.sub("cropPreset",n=>{this.$["*cropPresetList"]=Yw(n)}),this.sub("tabs",n=>{this.$["*tabList"]=sO(n)}),this.sub("*tabId",n=>{this.ref["img-el"].className=Sn("image",{image_hidden_to_cropper:n===It.CROP,image_hidden_effects:n!==It.CROP})}),this.classList.add("editor_ON"),this.sub("*networkProblems",n=>{this.$["presence.networkProblems"]=n,this.$["presence.modalCaption"]=!n}),this.sub("*editorTransformations",n=>{if(Object.keys(n).length===0)return;let r=this.$["*originalUrl"],i=li(kc(n),"preview"),s=rn(r,i),o={originalUrl:r,cdnUrlModifiers:i,cdnUrl:s,transformations:n};this.dispatchEvent(new CustomEvent("change",{detail:o,bubbles:!0,composed:!0}))},!1),this.sub("uuid",n=>n&&this.updateImage()),this.sub("cdnUrl",n=>n&&this.updateImage())}}N(wo,"className","cloud-image-editor");wo.template=lO;wo.bindAttributes({uuid:"uuid","cdn-url":"cdnUrl","crop-preset":"cropPreset",tabs:"tabs"});class E2 extends Ee{constructor(){super(),this.init$={...this.init$,dragging:!1},this._handlePointerUp=this._handlePointerUp_.bind(this),this._handlePointerMove=this._handlePointerMove_.bind(this),this._handleSvgPointerMove=this._handleSvgPointerMove_.bind(this)}_shouldThumbBeDisabled(t){let n=this.$["*imageBox"];if(!n)return;if(t===""&&n.height<=ae&&n.width<=ae)return!0;let r=n.height<=ae&&(t.includes("n")||t.includes("s")),i=n.width<=ae&&(t.includes("e")||t.includes("w"));return r||i}_createBackdrop(){let t=this.$["*cropBox"];if(!t)return;let{x:n,y:r,width:i,height:s}=t,o=this.ref["svg-el"],a=mn("mask",{id:"backdrop-mask"}),u=mn("rect",{x:0,y:0,width:"100%",height:"100%",fill:"white"}),c=mn("rect",{x:n,y:r,width:i,height:s,fill:"black"});a.appendChild(u),a.appendChild(c);let h=mn("rect",{x:0,y:0,width:"100%",height:"100%",fill:"var(--color-image-background)","fill-opacity":.85,mask:"url(#backdrop-mask)"});o.appendChild(h),o.appendChild(a),this._backdropMask=a,this._backdropMaskInner=c}_resizeBackdrop(){this._backdropMask&&(this._backdropMask.style.display="none",window.requestAnimationFrame(()=>{this._backdropMask&&(this._backdropMask.style.display="block")}))}_updateBackdrop(){let t=this.$["*cropBox"];if(!t)return;let{x:n,y:r,width:i,height:s}=t;this._backdropMaskInner&&bs(this._backdropMaskInner,{x:n,y:r,width:i,height:s})}_updateFrame(){let t=this.$["*cropBox"];if(!(!t||!this._frameGuides||!this._frameThumbs)){for(let n of Object.values(this._frameThumbs)){let{direction:r,pathNode:i,interactionNode:s,groupNode:o}=n,a=r==="",u=r.length===2,{x:c,y:h,width:p,height:m}=t;if(a){const b={x:c+p/3,y:h+m/3,width:p/3,height:m/3};bs(s,b)}else{const b=Ds(Math.min(p,m)/(qh*2+sl)/2,0,1);let{d:x,center:L}=u?kR(t,r,b):AR(t,r,b);const C=Math.max(i0*Ds(Math.min(p,m)/i0/3,0,1),xR);bs(s,{x:L[0]-C,y:L[1]-C,width:C*2,height:C*2}),bs(i,{d:x})}let I=this._shouldThumbBeDisabled(r);o.setAttribute("class",Sn("thumb",{"thumb--hidden":I,"thumb--visible":!I}))}bs(this._frameGuides,{x:t.x-Ii*.5,y:t.y-Ii*.5,width:t.width+Ii,height:t.height+Ii})}}_createThumbs(){const t={};for(let n=0;n<3;n++)for(let r=0;r<3;r++){let i=`${["n","","s"][n]}${["w","","e"][r]}`,s=mn("g");s.classList.add("thumb"),s.setAttribute("with-effects","");let o=mn("rect",{fill:"transparent"}),a=mn("path",{stroke:"currentColor",fill:"none","stroke-width":qw});s.appendChild(a),s.appendChild(o),t[i]={direction:i,pathNode:a,interactionNode:o,groupNode:s},o.addEventListener("pointerdown",this._handlePointerDown.bind(this,i))}return t}_createGuides(){let t=mn("svg"),n=mn("rect",{x:0,y:0,width:"100%",height:"100%",fill:"none",stroke:"#000000","stroke-width":Ii,"stroke-opacity":.5});t.appendChild(n);for(let r=1;r<=2;r++){let i=mn("line",{x1:`${Fa*r}%`,y1:"0%",x2:`${Fa*r}%`,y2:"100%",stroke:"#000000","stroke-width":Ii,"stroke-opacity":.3});t.appendChild(i)}for(let r=1;r<=2;r++){let i=mn("line",{x1:"0%",y1:`${Fa*r}%`,x2:"100%",y2:`${Fa*r}%`,stroke:"#000000","stroke-width":Ii,"stroke-opacity":.3});t.appendChild(i)}return t.classList.add("guides","guides--semi-hidden"),t}_createFrame(){let t=this.ref["svg-el"],n=document.createDocumentFragment(),r=this._createGuides();n.appendChild(r);let i=this._createThumbs();for(let{groupNode:s}of Object.values(i))n.appendChild(s);t.appendChild(n),this._frameThumbs=i,this._frameGuides=r}_handlePointerDown(t,n){if(!this._frameThumbs)return;let r=this._frameThumbs[t];if(this._shouldThumbBeDisabled(t))return;let i=this.$["*cropBox"],{x:s,y:o}=this.ref["svg-el"].getBoundingClientRect(),a=n.x-s,u=n.y-o;this.$.dragging=!0,this._draggingThumb=r,this._dragStartPoint=[a,u],this._dragStartCrop={...i}}_handlePointerUp_(t){this._updateCursor(),this.$.dragging&&(t.stopPropagation(),t.preventDefault(),this.$.dragging=!1)}_handlePointerMove_(t){if(!this.$.dragging||!this._dragStartPoint||!this._draggingThumb)return;t.stopPropagation(),t.preventDefault();let n=this.ref["svg-el"],{x:r,y:i}=n.getBoundingClientRect(),s=t.x-r,o=t.y-i,a=s-this._dragStartPoint[0],u=o-this._dragStartPoint[1],{direction:c}=this._draggingThumb;const h=this._calcCropBox(c,[a,u]);h&&(this.$["*cropBox"]=h)}_calcCropBox(t,n){var c;const[r,i]=n;let s=this.$["*imageBox"],o=this._dragStartCrop??this.$["*cropBox"];const a=(c=this.$["*cropPresetList"])==null?void 0:c[0],u=a?a.width/a.height:void 0;if(t===""?o=RR({rect:o,delta:[r,i],imageBox:s}):o=jR({rect:o,delta:[r,i],direction:t,aspectRatio:u,imageBox:s}),!Object.values(o).every(h=>Number.isFinite(h)&&h>=0)){console.error("CropFrame is trying to create invalid rectangle",{payload:o});return}return Ku(lu(o),this.$["*imageBox"])}_handleSvgPointerMove_(t){if(!this._frameThumbs)return;let n=Object.values(this._frameThumbs).find(r=>{if(this._shouldThumbBeDisabled(r.direction))return!1;let s=r.interactionNode.getBoundingClientRect(),o={x:s.x,y:s.y,width:s.width,height:s.height};return zR(o,[t.x,t.y])});this._hoverThumb=n,this._updateCursor()}_updateCursor(){let t=this._hoverThumb;this.ref["svg-el"].style.cursor=t?PR(t.direction):"initial"}_render(){this._updateBackdrop(),this._updateFrame()}toggleThumbs(t){this._frameThumbs&&Object.values(this._frameThumbs).map(({groupNode:n})=>n).forEach(n=>{n.setAttribute("class",Sn("thumb",{"thumb--hidden":!t,"thumb--visible":t}))})}initCallback(){super.initCallback(),this._createBackdrop(),this._createFrame(),this.sub("*imageBox",()=>{this._resizeBackdrop(),window.requestAnimationFrame(()=>{this._render()})}),this.sub("*cropBox",t=>{t&&(this._guidesHidden=t.height<=ae||t.width<=ae,window.requestAnimationFrame(()=>{this._render()}))}),this.sub("dragging",t=>{this._frameGuides&&this._frameGuides.setAttribute("class",Sn({"guides--hidden":this._guidesHidden,"guides--visible":!this._guidesHidden&&t,"guides--semi-hidden":!this._guidesHidden&&!t}))}),this.ref["svg-el"].addEventListener("pointermove",this._handleSvgPointerMove,!0),document.addEventListener("pointermove",this._handlePointerMove,!0),document.addEventListener("pointerup",this._handlePointerUp,!0)}destroyCallback(){super.destroyCallback(),document.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerUp)}}E2.template=' <svg class="svg" ref="svg-el" xmlns="http://www.w3.org/2000/svg"></svg> ';class Rc extends Ee{constructor(){super(...arguments);N(this,"init$",{...this.init$,active:!1,title:"",icon:"","on.click":null})}initCallback(){super.initCallback(),this._titleEl=this.ref["title-el"],this._iconEl=this.ref["icon-el"],this.setAttribute("role","button"),this.tabIndex===-1&&(this.tabIndex=0),this.sub("title",n=>{this._titleEl&&(this._titleEl.style.display=n?"block":"none")}),this.sub("active",n=>{this.className=Sn({active:n,not_active:!n})}),this.sub("on.click",n=>{this.onclick=n})}}Rc.template=`
  <div class="before"></div>
  <lr-icon size="20" set="@name: icon;"></lr-icon>
  <div class="title" ref="title-el">{{title}}</div>
`;function aO(e){let t=e+90;return t=t>=360?0:t,t}function uO(e,t){return e==="rotate"?aO(t):["mirror","flip"].includes(e)?!t:null}class C2 extends Rc{initCallback(){super.initCallback(),this.defineAccessor("operation",t=>{t&&(this._operation=t,this.$.icon=t)}),this.$["on.click"]=t=>{let n=this.$["*cropperEl"].getValue(this._operation),r=uO(this._operation,n);this.$["*cropperEl"].setValue(this._operation,r)}}}const Jo={FILTER:"filter",COLOR_OPERATION:"color_operation"},ri="original";class S2 extends Ee{constructor(){super(...arguments);N(this,"init$",{...this.init$,disabled:!1,min:0,max:100,value:0,defaultValue:0,zero:0,"on.input":n=>{this.$["*faderEl"].set(n),this.$.value=n}})}setOperation(n,r){this._controlType=n==="filter"?Jo.FILTER:Jo.COLOR_OPERATION,this._operation=n,this._iconName=n,this._title=n.toUpperCase(),this._filter=r,this._initializeValues(),this.$["*faderEl"].activate({url:this.$["*originalUrl"],operation:this._operation,value:this._filter===ri?void 0:this.$.value,filter:this._filter===ri?void 0:this._filter,fromViewer:!1})}_initializeValues(){let{range:n,zero:r}=lo[this._operation],[i,s]=n;this.$.min=i,this.$.max=s,this.$.zero=r;let o=this.$["*editorTransformations"][this._operation];if(this._controlType===Jo.FILTER){let a=s;if(o){let{name:u,amount:c}=o;a=u===this._filter?c:s}this.$.value=a,this.$.defaultValue=a}if(this._controlType===Jo.COLOR_OPERATION){let a=typeof o<"u"?o:r;this.$.value=a,this.$.defaultValue=a}}apply(){let n;this._controlType===Jo.FILTER?this._filter===ri?n=null:n={name:this._filter,amount:this.$.value}:n=this.$.value;let r={...this.$["*editorTransformations"],[this._operation]:n};this.$["*editorTransformations"]=r}cancel(){this.$["*faderEl"].deactivate({hide:!1})}initCallback(){super.initCallback(),this.sub("*originalUrl",n=>{this._originalUrl=n}),this.sub("value",n=>{let r=`${this._filter||this._operation} ${n}`;this.$["*operationTooltip"]=r})}}S2.template=`
  <lr-slider-ui
    ref="slider-el"
    set="disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;"
  ></lr-slider-ui>
`;function Kp(e){let t=new Image;return{promise:new Promise((i,s)=>{t.src=e,t.onload=i,t.onerror=s}),image:t,cancel:()=>{t.naturalWidth===0&&(t.src=ai)}}}function Qh(e){let t=[];for(let s of e){let o=Kp(s);t.push(o)}let n=t.map(s=>s.image);return{promise:Promise.allSettled(t.map(s=>s.promise)),images:n,cancel:()=>{t.forEach(s=>{s.cancel()})}}}class Xp extends Rc{constructor(){super(...arguments);N(this,"init$",{...this.init$,active:!1,title:"",icon:"",isOriginal:!1,iconSize:"20","on.click":null})}_previewSrc(){let n=parseInt(window.getComputedStyle(this).getPropertyValue("--l-base-min-width"),10),r=window.devicePixelRatio,i=Math.ceil(r*n),s=r>=2?"lightest":"normal",o=100,a={...this.$["*editorTransformations"]};return a[this._operation]=this._filter!==ri?{name:this._filter,amount:o}:void 0,rn(this._originalUrl,li(Xw,kc(a),`quality/${s}`,`scale_crop/${i}x${i}/center`))}_observerCallback(n,r){if(n[0].isIntersecting){let s=this.proxyUrl(this._previewSrc()),o=this.ref["preview-el"],{promise:a,cancel:u}=Kp(s);this._cancelPreload=u,a.catch(c=>{this.$["*networkProblems"]=!0,console.error("Failed to load image",{error:c})}).finally(()=>{o.style.backgroundImage=`url(${s})`,o.setAttribute("loaded",""),r.unobserve(this)})}else this._cancelPreload&&this._cancelPreload()}initCallback(){super.initCallback(),this.$["on.click"]=r=>{this.$.active?this.$.isOriginal||(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*showSlider"]=!0):(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*sliderEl"].apply()),this.$["*currentFilter"]=this._filter},this.defineAccessor("filter",r=>{this._operation="filter",this._filter=r,this.$.isOriginal=r===ri,this.$.icon=this.$.isOriginal?"original":"slider"}),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]});let n=this.$["*originalUrl"];this._originalUrl=n,this.$.isOriginal?this.ref["icon-el"].classList.add("original-icon"):this._observer.observe(this),this.sub("*currentFilter",r=>{this.$.active=r&&r===this._filter}),this.sub("isOriginal",r=>{this.$.iconSize=r?40:20}),this.sub("active",r=>{if(this.$.isOriginal)return;let i=this.ref["icon-el"];i.style.opacity=r?"1":"0";let s=this.ref["preview-el"];r?s.style.opacity="0":s.style.backgroundImage&&(s.style.opacity="1")}),this.sub("*networkProblems",r=>{if(!r){let i=this.proxyUrl(this._previewSrc()),s=this.ref["preview-el"];s.style.backgroundImage&&(s.style.backgroundImage="none",s.style.backgroundImage=`url(${i})`)}})}destroyCallback(){var n;super.destroyCallback(),(n=this._observer)==null||n.disconnect(),this._cancelPreload&&this._cancelPreload()}}Xp.template=`
  <div class="before"></div>
  <div class="preview" ref="preview-el"></div>
  <lr-icon size="40" ref="icon-el" set="@name: icon; @size: iconSize;"></lr-icon>
`;class T2 extends Rc{constructor(){super(...arguments);N(this,"_operation","")}initCallback(){super.initCallback(),this.$["on.click"]=n=>{this.$["*sliderEl"].setOperation(this._operation),this.$["*showSlider"]=!0,this.$["*currentOperation"]=this._operation},this.defineAccessor("operation",n=>{n&&(this._operation=n,this.$.icon=n,this.bindL10n("title",()=>this.l10n(n)))}),this.sub("*editorTransformations",n=>{if(!this._operation)return;let{zero:r}=lo[this._operation],i=n[this._operation],s=typeof i<"u"?i!==r:!1;this.$.active=s})}}function cO(e,t){let n={};for(let r of t){let i=e[r];(e.hasOwnProperty(r)||i!==void 0)&&(n[r]=i)}return n}function qp(e,t,n){let i=window.devicePixelRatio,s=Math.min(Math.ceil(t*i),3e3),o=i>=2?"lightest":"normal";return rn(e,li(Xw,kc(n),`quality/${o}`,`stretch/off/-/resize/${s}x`))}function dO(e){return e?[({dimensions:n,coords:r})=>[...n,...r].every(i=>Number.isInteger(i)&&Number.isFinite(i)),({dimensions:n,coords:r})=>n.every(i=>i>0)&&r.every(i=>i>=0)].every(n=>n(e)):!0}class I2 extends Ee{constructor(){super();N(this,"ctxOwner",!0);this.init$={...this.init$,image:null,"*padding":IR,"*operations":{rotate:0,mirror:!1,flip:!1},"*imageBox":{x:0,y:0,width:0,height:0},"*cropBox":{x:0,y:0,width:0,height:0}},this._commitDebounced=dn(this._commit.bind(this),300),this._handleResizeThrottled=f2(this._handleResize.bind(this),100),this._imageSize={width:0,height:0}}_handleResize(){!this.isConnected||!this._isActive||(this._initCanvas(),this._syncTransformations(),this._alignImage(),this._alignCrop(),this._draw())}_syncTransformations(){let n=this.$["*editorTransformations"],r=cO(n,Object.keys(this.$["*operations"])),i={...this.$["*operations"],...r};this.$["*operations"]=i}_initCanvas(){let n=this.ref["canvas-el"],r=n.getContext("2d"),i=this.offsetWidth,s=this.offsetHeight,o=window.devicePixelRatio;n.style.width=`${i}px`,n.style.height=`${s}px`,n.width=i*o,n.height=s*o,r==null||r.scale(o,o),this._canvas=n,this._ctx=r}_alignImage(){if(!this._isActive||!this.$.image)return;let n=this.$.image,r=this.$["*padding"],i=this.$["*operations"],{rotate:s}=i,o={width:this.offsetWidth,height:this.offsetHeight},a=qo({width:n.naturalWidth,height:n.naturalHeight},s),u;if(a.width>o.width-r*2||a.height>o.height-r*2){let c=a.width/a.height,h=o.width/o.height;if(c>h){let p=o.width-r*2,m=p/c,I=0+r,b=r+(o.height-r*2)/2-m/2;u={x:I,y:b,width:p,height:m}}else{let p=o.height-r*2,m=p*c,I=r+(o.width-r*2)/2-m/2,b=0+r;u={x:I,y:b,width:m,height:p}}}else{let{width:c,height:h}=a,p=r+(o.width-r*2)/2-c/2,m=r+(o.height-r*2)/2-h/2;u={x:p,y:m,width:c,height:h}}this.$["*imageBox"]=lu(u)}_alignCrop(){var m;let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:s}=i,o=this.$["*editorTransformations"].crop,{width:a,x:u,y:c}=this.$["*imageBox"];if(o){let{dimensions:[I,b],coords:[x,L]}=o,{width:C}=qo(this._imageSize,s),_=a/C;n=Ku(lu({x:u+x*_,y:c+L*_,width:I*_,height:b*_}),this.$["*imageBox"])}const h=(m=this.$["*cropPresetList"])==null?void 0:m[0],p=h?h.width/h.height:void 0;if(!VR(n,r)||p&&!BR(n,p)){const I=r.width/r.height;let b=r.width,x=r.height;p&&(I>p?b=Math.min(r.height*p,r.width):x=Math.min(r.width/p,r.height)),n={x:r.x+r.width/2-b/2,y:r.y+r.height/2-x/2,width:b,height:x}}this.$["*cropBox"]=Ku(lu(n),this.$["*imageBox"])}_drawImage(){let n=this._ctx;if(!n)return;let r=this.$.image,i=this.$["*imageBox"],s=this.$["*operations"],{mirror:o,flip:a,rotate:u}=s,c=qo({width:i.width,height:i.height},u);n.save(),n.translate(i.x+i.width/2,i.y+i.height/2),n.rotate(u*Math.PI*-1/180),n.scale(o?-1:1,a?-1:1),n.drawImage(r,-c.width/2,-c.height/2,c.width,c.height),n.restore()}_draw(){if(!this._isActive||!this.$.image||!this._canvas||!this._ctx)return;let n=this._canvas;this._ctx.clearRect(0,0,n.width,n.height),this._drawImage()}_animateIn({fromViewer:n}){this.$.image&&(this.ref["frame-el"].toggleThumbs(!0),this._transitionToImage(),setTimeout(()=>{this.className=Sn({active_from_viewer:n,active_from_editor:!n,inactive_to_editor:!1})}))}_getCropDimensions(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:s}=i,{width:o,height:a}=r,{width:u,height:c}=qo(this._imageSize,s),{width:h,height:p}=n,m=o/u,I=a/c;return[Ds(Math.round(h/m),1,u),Ds(Math.round(p/I),1,c)]}_getCropTransformation(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:s}=i,{width:o,height:a,x:u,y:c}=r,{width:h,height:p}=qo(this._imageSize,s),{x:m,y:I}=n,b=o/h,x=a/p,L=this._getCropDimensions(),C={dimensions:L,coords:[Ds(Math.round((m-u)/b),0,h-L[0]),Ds(Math.round((I-c)/x),0,p-L[1])]};if(!dO(C)){console.error("Cropper is trying to create invalid crop object",{payload:C});return}if(!(L[0]===h&&L[1]===p))return C}_commit(){if(!this.isConnected)return;let n=this.$["*operations"],{rotate:r,mirror:i,flip:s}=n,o=this._getCropTransformation(),u={...this.$["*editorTransformations"],crop:o,rotate:r,mirror:i,flip:s};this.$["*editorTransformations"]=u}setValue(n,r){this.$["*operations"]={...this.$["*operations"],[n]:r},this._isActive&&(this._alignImage(),this._alignCrop(),this._draw())}getValue(n){return this.$["*operations"][n]}async activate(n,{fromViewer:r}={}){if(!this._isActive){this._isActive=!0,this._imageSize=n,this.removeEventListener("transitionend",this._reset);try{this.$.image=await this._waitForImage(this.$["*originalUrl"],this.$["*editorTransformations"]),this._syncTransformations(),this._animateIn({fromViewer:r})}catch(i){console.error("Failed to activate cropper",{error:i})}this._observer=new ResizeObserver(([i])=>{i.contentRect.width>0&&i.contentRect.height>0&&this._isActive&&this.$.image&&this._handleResizeThrottled()}),this._observer.observe(this)}}deactivate({reset:n=!1}={}){var r;this._isActive&&(!n&&this._commit(),this._isActive=!1,this._transitionToCrop(),this.className=Sn({active_from_viewer:!1,active_from_editor:!1,inactive_to_editor:!0}),this.ref["frame-el"].toggleThumbs(!1),this.addEventListener("transitionend",this._reset,{once:!0}),(r=this._observer)==null||r.disconnect())}_transitionToCrop(){let n=this._getCropDimensions(),r=Math.min(this.offsetWidth,n[0])/this.$["*cropBox"].width,i=Math.min(this.offsetHeight,n[1])/this.$["*cropBox"].height,s=Math.min(r,i),o=this.$["*cropBox"].x+this.$["*cropBox"].width/2,a=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform=`scale(${s}) translate(${(this.offsetWidth/2-o)/s}px, ${(this.offsetHeight/2-a)/s}px)`,this.style.transformOrigin=`${o}px ${a}px`}_transitionToImage(){let n=this.$["*cropBox"].x+this.$["*cropBox"].width/2,r=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform="scale(1)",this.style.transformOrigin=`${n}px ${r}px`}_reset(){this._isActive||(this.$.image=null)}_waitForImage(n,r){let i=this.offsetWidth;r={...r,crop:void 0,rotate:void 0,flip:void 0,mirror:void 0};let s=this.proxyUrl(qp(n,i,r)),{promise:o,cancel:a,image:u}=Kp(s),c=this._handleImageLoading(s);return u.addEventListener("load",c,{once:!0}),u.addEventListener("error",c,{once:!0}),this._cancelPreload&&this._cancelPreload(),this._cancelPreload=a,o.then(()=>u).catch(h=>(console.error("Failed to load image",{error:h}),this.$["*networkProblems"]=!0,Promise.resolve(u)))}_handleImageLoading(n){let r="crop",i=this.$["*loadingOperations"];return i.get(r)||i.set(r,new Map),i.get(r).get(n)||(i.set(r,i.get(r).set(n,!0)),this.$["*loadingOperations"]=i),()=>{var s;(s=i==null?void 0:i.get(r))!=null&&s.has(n)&&(i.get(r).delete(n),this.$["*loadingOperations"]=i)}}initCallback(){super.initCallback(),this.sub("*imageBox",()=>{this._draw()}),this.sub("*cropBox",()=>{this.$.image&&this._commitDebounced()}),this.sub("*cropPresetList",()=>{this._alignCrop()}),setTimeout(()=>{this.sub("*networkProblems",n=>{n||this._isActive&&this.activate(this._imageSize,{fromViewer:!1})})},0)}destroyCallback(){var n;super.destroyCallback(),(n=this._observer)==null||n.disconnect()}}I2.template=`
  <canvas class="canvas" ref="canvas-el"></canvas>
  <lr-crop-frame ref="frame-el"></lr-crop-frame>
`;function b0(e,t,n){let r=Array(n);n--;for(let i=n;i>=0;i--)r[i]=Math.ceil((i*t+(n-i)*e)/n);return r}function hO(e){return e.reduce((t,n,r)=>r<e.length-1?[...t,[n,e[r+1]]]:t,[])}function fO(e,t,n){let r=hO(e).find(([i,s])=>i<=t&&t<=s);return e.map(i=>{let s=Math.abs(r[0]-r[1]),o=Math.abs(t-r[0])/s;return r[0]===i?t>n?1:1-o:r[1]===i?t>=n?o:1:0})}function pO(e,t){return e.map((n,r)=>n<t?e.length-r:r)}function E0(e,t){let n=lo[e].keypointsNumber,{range:r,zero:i}=lo[e];return[...new Set([...b0(r[0],i,n+1),...b0(i,r[1],n+1),i,t])].sort((s,o)=>s-o)}class mO extends Ee{constructor(){super(),this._isActive=!1,this._hidden=!0,this._addKeypointDebounced=dn(this._addKeypoint.bind(this),600),this.classList.add("inactive_to_cropper")}_handleImageLoading(t){let n=this._operation,r=this.$["*loadingOperations"];return r.get(n)||r.set(n,new Map),r.get(n).get(t)||(r.set(n,r.get(n).set(t,!0)),this.$["*loadingOperations"]=r),()=>{var i;(i=r==null?void 0:r.get(n))!=null&&i.has(t)&&(r.get(n).delete(t),this.$["*loadingOperations"]=r)}}_flush(){window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame(()=>{for(let t of this._keypoints){let{image:n}=t;n&&(n.style.opacity=t.opacity.toString(),n.style.zIndex=t.zIndex.toString())}})}_imageSrc({url:t=this._url,filter:n=this._filter,operation:r,value:i}={}){let s={...this._transformations};r&&(s[r]=n?{name:n,amount:i}:i);let o=this.offsetWidth;return this.proxyUrl(qp(t,o,s))}_constructKeypoint(t,n){return{src:this._imageSrc({operation:t,value:n}),image:null,opacity:0,zIndex:0,value:n}}_isSame(t,n){return this._operation===t&&this._filter===n}_addKeypoint(t,n,r){let i=()=>!this._isSame(t,n)||this._value!==r||!!this._keypoints.find(u=>u.value===r);if(i())return;let s=this._constructKeypoint(t,r),o=new Image;o.src=s.src;let a=this._handleImageLoading(s.src);o.addEventListener("load",a,{once:!0}),o.addEventListener("error",a,{once:!0}),s.image=o,o.classList.add("fader-image"),o.addEventListener("load",()=>{if(i())return;let u=this._keypoints,c=u.findIndex(p=>p.value>r),h=c<u.length?u[c].image:null;!this._container||h&&!this._container.contains(h)||(u.splice(c,0,s),this._container.insertBefore(o,h),this._update(t,r))},{once:!0}),o.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}set(t){t=typeof t=="string"?parseInt(t,10):t,this._update(this._operation,t),this._addKeypointDebounced(this._operation,this._filter,t)}_update(t,n){this._operation=t,this._value=n;let{zero:r}=lo[t],i=this._keypoints.map(a=>a.value),s=fO(i,n,r),o=pO(i,r);for(let[a,u]of Object.entries(this._keypoints))u.opacity=s[a],u.zIndex=o[a];this._flush()}_createPreviewImage(){let t=new Image;return t.classList.add("fader-image","fader-image--preview"),t.style.opacity="0",t}async _initNodes(){let t=document.createDocumentFragment();this._previewImage=this._previewImage||this._createPreviewImage(),!this.contains(this._previewImage)&&t.appendChild(this._previewImage);let n=document.createElement("div");t.appendChild(n);let r=this._keypoints.map(c=>c.src),{images:i,promise:s,cancel:o}=Qh(r);i.forEach(c=>{let h=this._handleImageLoading(c.src);c.addEventListener("load",h),c.addEventListener("error",h)}),this._cancelLastImages=()=>{o(),this._cancelLastImages=void 0};let a=this._operation,u=this._filter;await s,this._isActive&&this._isSame(a,u)&&(this._container&&this._container.remove(),this._container=n,this._keypoints.forEach((c,h)=>{let p=i[h];p.classList.add("fader-image"),c.image=p,this._container.appendChild(p)}),this.appendChild(t),this._flush())}setTransformations(t){if(this._transformations=t,this._previewImage){let n=this._imageSrc(),r=this._handleImageLoading(n);this._previewImage.src=n,this._previewImage.addEventListener("load",r,{once:!0}),this._previewImage.addEventListener("error",r,{once:!0}),this._previewImage.style.opacity="1",this._previewImage.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}}preload({url:t,filter:n,operation:r,value:i}){this._cancelBatchPreload&&this._cancelBatchPreload();let o=E0(r,i).map(u=>this._imageSrc({url:t,filter:n,operation:r,value:u})),{cancel:a}=Qh(o);this._cancelBatchPreload=a}_setOriginalSrc(t){let n=this._previewImage||this._createPreviewImage();if(!this.contains(n)&&this.appendChild(n),this._previewImage=n,n.src===t){n.style.opacity="1",n.style.transform="scale(1)",this.className=Sn({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1});return}n.style.opacity="0";let r=this._handleImageLoading(t);n.addEventListener("error",r,{once:!0}),n.src=t,n.addEventListener("load",()=>{r(),n&&(n.style.opacity="1",n.style.transform="scale(1)",this.className=Sn({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1}))},{once:!0}),n.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}activate({url:t,operation:n,value:r,filter:i,fromViewer:s}){if(this._isActive=!0,this._hidden=!1,this._url=t,this._operation=n||"initial",this._value=r,this._filter=i,this._fromViewer=s,typeof r!="number"&&!i){let a=this._imageSrc({operation:n,value:r});this._setOriginalSrc(a),this._container&&this._container.remove();return}this._keypoints=E0(n,r).map(a=>this._constructKeypoint(n,a)),this._update(n,r),this._initNodes()}deactivate({hide:t=!0}={}){this._isActive=!1,this._cancelLastImages&&this._cancelLastImages(),this._cancelBatchPreload&&this._cancelBatchPreload(),t&&!this._hidden?(this._hidden=!0,this._previewImage&&(this._previewImage.style.transform="scale(1)"),this.className=Sn({active_from_viewer:!1,active_from_cropper:!1,inactive_to_cropper:!0}),this.addEventListener("transitionend",()=>{this._container&&this._container.remove()},{once:!0})):this._container&&this._container.remove()}}const gO=1;class x2 extends Ee{initCallback(){super.initCallback(),this.addEventListener("wheel",t=>{t.preventDefault();let{deltaY:n,deltaX:r}=t;Math.abs(r)>gO?this.scrollLeft+=r:this.scrollLeft+=n})}}x2.template=" <slot></slot> ";function vO(e){return`
    <lr-presence-toggle class="tab-toggle" set="visible: presence.tabToggle.${e}; styles: presence.tabToggleStyles;">
      <lr-btn-ui
        theme="boring"
        ref="tab-toggle-${e}"
        data-id="${e}"
        icon="${e}"
        tabindex="0"
        set="onclick: on.clickTab;"
      >
      </lr-btn-ui>
    </lr-presence-toggle>
  `}function yO(e){return`
    <lr-presence-toggle class="tab-content" set="visible: presence.tabContent.${e}; styles: presence.tabContentStyles">
      <lr-editor-scroller hidden-scrollbar>
        <div class="controls-list_align">
          <div class="controls-list_inner" ref="controls-list-${e}"></div>
        </div>
      </lr-editor-scroller>
    </lr-presence-toggle>
  `}class k2 extends Ee{constructor(){super();N(this,"_updateInfoTooltip",dn(()=>{var o,a;const n=this.$["*editorTransformations"],r=this.$["*currentOperation"];let i="",s=!1;if(this.$["*tabId"]===It.FILTERS)if(s=!0,this.$["*currentFilter"]&&((o=n==null?void 0:n.filter)==null?void 0:o.name)===this.$["*currentFilter"]){let u=((a=n==null?void 0:n.filter)==null?void 0:a.amount)||100;i=this.$["*currentFilter"]+" "+u}else i=this.l10n(ri);else if(this.$["*tabId"]===It.TUNING&&r){s=!0;let u=(n==null?void 0:n[r])||lo[r].zero;i=this.l10n(r)+" "+u}s&&(this.$["*operationTooltip"]=i),this.ref["tooltip-el"].classList.toggle("info-tooltip_visible",s)},0));this.init$={...this.init$,"*sliderEl":null,"*loadingOperations":new Map,"*showSlider":!1,"*currentFilter":ri,"*currentOperation":null,showLoader:!1,filters:wR,colorOperations:_R,cropOperations:bR,"*operationTooltip":null,"presence.mainToolbar":!0,"presence.subToolbar":!1,"presence.tabToggles":!0,"presence.tabContent.crop":!1,"presence.tabContent.tuning":!1,"presence.tabContent.filters":!1,"presence.tabToggle.crop":!0,"presence.tabToggle.tuning":!0,"presence.tabToggle.filters":!0,"presence.subTopToolbarStyles":{hidden:"sub-toolbar--top-hidden",visible:"sub-toolbar--visible"},"presence.subBottomToolbarStyles":{hidden:"sub-toolbar--bottom-hidden",visible:"sub-toolbar--visible"},"presence.tabContentStyles":{hidden:"tab-content--hidden",visible:"tab-content--visible"},"presence.tabToggleStyles":{hidden:"tab-toggle--hidden",visible:"tab-toggle--visible"},"presence.tabTogglesStyles":{hidden:"tab-toggles--hidden",visible:"tab-toggles--visible"},"on.cancel":()=>{this._cancelPreload&&this._cancelPreload(),this.$["*on.cancel"]()},"on.apply":()=>{this.$["*on.apply"](this.$["*editorTransformations"])},"on.applySlider":()=>{this.ref["slider-el"].apply(),this._onSliderClose()},"on.cancelSlider":()=>{this.ref["slider-el"].cancel(),this._onSliderClose()},"on.clickTab":n=>{const r=n.currentTarget.getAttribute("data-id");r&&this._activateTab(r,{fromViewer:!1})}},this._debouncedShowLoader=dn(this._showLoader.bind(this),500)}_onSliderClose(){this.$["*showSlider"]=!1,this.$["*tabId"]===It.TUNING&&this.ref["tooltip-el"].classList.toggle("info-tooltip_visible",!1)}_createOperationControl(n){let r=new T2;return r.operation=n,r}_createFilterControl(n){let r=new Xp;return r.filter=n,r}_createToggleControl(n){let r=new C2;return r.operation=n,r}_renderControlsList(n){let r=this.ref[`controls-list-${n}`],i=document.createDocumentFragment();n===It.CROP?this.$.cropOperations.forEach(s=>{let o=this._createToggleControl(s);i.appendChild(o)}):n===It.FILTERS?[ri,...this.$.filters].forEach(s=>{let o=this._createFilterControl(s);i.appendChild(o)}):n===It.TUNING&&this.$.colorOperations.forEach(s=>{let o=this._createOperationControl(s);i.appendChild(o)}),[...i.children].forEach((s,o)=>{o===i.childNodes.length-1&&s.classList.add("controls-list_last-item")}),r.innerHTML="",r.appendChild(i)}_activateTab(n,{fromViewer:r}){this.$["*tabId"]=n,n===It.CROP?(this.$["*faderEl"].deactivate(),this.$["*cropperEl"].activate(this.$["*imageSize"],{fromViewer:r})):(this.$["*faderEl"].activate({url:this.$["*originalUrl"],fromViewer:r}),this.$["*cropperEl"].deactivate());for(let i of Un){let s=i===n,o=this.ref[`tab-toggle-${i}`];o.active=s,s?(this._renderControlsList(n),this._syncTabIndicator()):this._unmountTabControls(i),this.$[`presence.tabContent.${i}`]=s}}_unmountTabControls(n){let r=this.ref[`controls-list-${n}`];r&&(r.innerHTML="")}_syncTabIndicator(){let n=this.ref[`tab-toggle-${this.$["*tabId"]}`],r=this.ref["tabs-indicator"];r.style.transform=`translateX(${n.offsetLeft}px)`}_preloadEditedImage(){if(this.$["*imgContainerEl"]&&this.$["*originalUrl"]){let n=this.$["*imgContainerEl"].offsetWidth,r=this.proxyUrl(qp(this.$["*originalUrl"],n,this.$["*editorTransformations"]));this._cancelPreload&&this._cancelPreload();let{cancel:i}=Qh([r]);this._cancelPreload=()=>{i(),this._cancelPreload=void 0}}}_showLoader(n){this.$.showLoader=n}initCallback(){super.initCallback(),this.$["*sliderEl"]=this.ref["slider-el"],this.sub("*imageSize",n=>{n&&setTimeout(()=>{this._activateTab(this.$["*tabId"],{fromViewer:!0})},0)}),this.sub("*editorTransformations",n=>{var i;let r=(i=n==null?void 0:n.filter)==null?void 0:i.name;this.$["*currentFilter"]!==r&&(this.$["*currentFilter"]=r)}),this.sub("*currentFilter",()=>{this._updateInfoTooltip()}),this.sub("*currentOperation",()=>{this._updateInfoTooltip()}),this.sub("*tabId",()=>{this._updateInfoTooltip()}),this.sub("*originalUrl",()=>{this.$["*faderEl"]&&this.$["*faderEl"].deactivate()}),this.sub("*editorTransformations",n=>{this._preloadEditedImage(),this.$["*faderEl"]&&this.$["*faderEl"].setTransformations(n)}),this.sub("*loadingOperations",n=>{let r=!1;for(let[,i]of n.entries()){if(r)break;for(let[,s]of i.entries())if(s){r=!0;break}}this._debouncedShowLoader(r)}),this.sub("*showSlider",n=>{this.$["presence.subToolbar"]=n,this.$["presence.mainToolbar"]=!n}),this.sub("*tabList",n=>{this.$["presence.tabToggles"]=n.length>1;for(const r of Un){this.$[`presence.tabToggle.${r}`]=n.includes(r);const i=this.ref[`tab-toggle-${r}`];i.style.gridColumn=n.indexOf(r)+1}n.includes(this.$["*tabId"])||this._activateTab(n[0],{fromViewer:!1})}),this._updateInfoTooltip()}}k2.template=`
  <lr-line-loader-ui set="active: showLoader"></lr-line-loader-ui>
  <div class="info-tooltip_container">
    <div class="info-tooltip_wrapper">
      <div ref="tooltip-el" class="info-tooltip info-tooltip_hidden">{{*operationTooltip}}</div>
    </div>
  </div>
  <div class="toolbar-container">
    <lr-presence-toggle class="sub-toolbar" set="visible: presence.mainToolbar; styles: presence.subTopToolbarStyles">
      <div class="tab-content-row">${Un.map(yO).join("")}</div>
      <div class="controls-row">
        <lr-btn-ui theme="boring" icon="closeMax" set="onclick: on.cancel"> </lr-btn-ui>
        <lr-presence-toggle class="tab-toggles" set="visible: presence.tabToggles; styles: presence.tabTogglesStyles">
          <div ref="tabs-indicator" class="tab-toggles_indicator"></div>
          ${Un.map(vO).join("")}
        </lr-presence-toggle>
        <lr-btn-ui theme="primary" icon="done" set="onclick: on.apply"> </lr-btn-ui>
      </div>
    </lr-presence-toggle>
    <lr-presence-toggle class="sub-toolbar" set="visible: presence.subToolbar; styles: presence.subBottomToolbarStyles">
      <div class="slider">
        <lr-editor-slider ref="slider-el"></lr-editor-slider>
      </div>
      <div class="controls-row">
        <lr-btn-ui theme="boring" set="onclick: on.cancelSlider;" l10n="@text:cancel"> </lr-btn-ui>
        <lr-btn-ui theme="primary" set="onclick: on.applySlider;" l10n="@text:apply"> </lr-btn-ui>
      </div>
    </lr-presence-toggle>
  </div>
`;class Yp extends Ee{constructor(){super(),this._iconReversed=!1,this._iconSingle=!1,this._iconHidden=!1,this.init$={...this.init$,text:"",icon:"",iconCss:this._iconCss(),theme:null},this.defineAccessor("active",t=>{t?this.setAttribute("active",""):this.removeAttribute("active")})}_iconCss(){return Sn("icon",{icon_left:!this._iconReversed,icon_right:this._iconReversed,icon_hidden:this._iconHidden,icon_single:this._iconSingle})}initCallback(){super.initCallback(),this.sub("icon",t=>{this._iconSingle=!this.$.text,this._iconHidden=!t,this.$.iconCss=this._iconCss()}),this.sub("theme",t=>{t!=="custom"&&(this.className=t)}),this.sub("text",t=>{this._iconSingle=!1}),this.setAttribute("role","button"),this.tabIndex===-1&&(this.tabIndex=0),this.hasAttribute("theme")||this.setAttribute("theme","default")}set reverse(t){this.hasAttribute("reverse")?(this.style.flexDirection="row-reverse",this._iconReversed=!0):(this._iconReversed=!1,this.style.flexDirection=null)}}Yp.bindAttributes({text:"text",icon:"icon",reverse:"reverse",theme:"theme"});Yp.template=`
  <lr-icon size="20" set="className: iconCss; @name: icon;"></lr-icon>
  <div class="text">{{text}}</div>
`;class A2 extends Ee{constructor(){super(),this._active=!1,this._handleTransitionEndRight=()=>{let t=this.ref["line-el"];t.style.transition="initial",t.style.opacity="0",t.style.transform="translateX(-101%)",this._active&&this._start()}}initCallback(){super.initCallback(),this.defineAccessor("active",t=>{typeof t=="boolean"&&(t?this._start():this._stop())})}_start(){this._active=!0;let{width:t}=this.getBoundingClientRect(),n=this.ref["line-el"];n.style.transition="transform 1s",n.style.opacity="1",n.style.transform=`translateX(${t}px)`,n.addEventListener("transitionend",this._handleTransitionEndRight,{once:!0})}_stop(){this._active=!1}}A2.template=`
  <div class="inner">
    <div class="line" ref="line-el"></div>
  </div>
`;const Ba={transition:"transition",visible:"visible",hidden:"hidden"};class P2 extends Ee{constructor(){super(),this._visible=!1,this._visibleStyle=Ba.visible,this._hiddenStyle=Ba.hidden,this._externalTransitions=!1,this.defineAccessor("styles",t=>{t&&(this._externalTransitions=!0,this._visibleStyle=t.visible,this._hiddenStyle=t.hidden)}),this.defineAccessor("visible",t=>{typeof t=="boolean"&&(this._visible=t,this._handleVisible())})}_handleVisible(){this.style.visibility=this._visible?"inherit":"hidden",iO(this,{[Ba.transition]:!this._externalTransitions,[this._visibleStyle]:this._visible,[this._hiddenStyle]:!this._visible}),this.setAttribute("aria-hidden",this._visible?"false":"true")}initCallback(){super.initCallback(),this.setAttribute("hidden",""),this._externalTransitions||this.classList.add(Ba.transition),this._handleVisible(),setTimeout(()=>this.removeAttribute("hidden"),0)}}P2.template=" <slot></slot> ";class R2 extends Ee{constructor(){super();N(this,"init$",{...this.init$,disabled:!1,min:0,max:100,onInput:null,onChange:null,defaultValue:null,"on.sliderInput":()=>{let n=parseInt(this.ref["input-el"].value,10);this._updateValue(n),this.$.onInput&&this.$.onInput(n)},"on.sliderChange":()=>{let n=parseInt(this.ref["input-el"].value,10);this.$.onChange&&this.$.onChange(n)}});this.setAttribute("with-effects","")}initCallback(){super.initCallback(),this.defineAccessor("disabled",r=>{this.$.disabled=r}),this.defineAccessor("min",r=>{this.$.min=r}),this.defineAccessor("max",r=>{this.$.max=r}),this.defineAccessor("defaultValue",r=>{this.$.defaultValue=r,this.ref["input-el"].value=r,this._updateValue(r)}),this.defineAccessor("zero",r=>{this._zero=r}),this.defineAccessor("onInput",r=>{r&&(this.$.onInput=r)}),this.defineAccessor("onChange",r=>{r&&(this.$.onChange=r)}),this._updateSteps(),this._observer=new ResizeObserver(()=>{this._updateSteps();let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)}),this._observer.observe(this),this._thumbSize=parseInt(window.getComputedStyle(this).getPropertyValue("--l-thumb-size"),10),setTimeout(()=>{let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)},0),this.sub("disabled",r=>{let i=this.ref["input-el"];r?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")});let n=this.ref["input-el"];n.addEventListener("focus",()=>{this.style.setProperty("--color-effect","var(--hover-color-rgb)")}),n.addEventListener("blur",()=>{this.style.setProperty("--color-effect","var(--idle-color-rgb)")})}_updateValue(n){this._updateZeroDot(n);let{width:r}=this.getBoundingClientRect(),o=100/(this.$.max-this.$.min)*(n-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this.ref["thumb-el"].style.transform=`translateX(${o}px)`})}_updateZeroDot(n){if(!this._zeroDotEl)return;n===this._zero?this._zeroDotEl.style.opacity="0":this._zeroDotEl.style.opacity="0.2";let{width:r}=this.getBoundingClientRect(),o=100/(this.$.max-this.$.min)*(this._zero-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this._zeroDotEl.style.transform=`translateX(${o}px)`})}_updateSteps(){let r=this.ref["steps-el"],{width:i}=r.getBoundingClientRect(),s=Math.ceil(i/2),o=Math.ceil(s/15)-2;if(this._stepsCount===o)return;let a=document.createDocumentFragment(),u=document.createElement("div"),c=document.createElement("div");u.className="minor-step",c.className="border-step",a.appendChild(c);for(let p=0;p<o;p++)a.appendChild(u.cloneNode());a.appendChild(c.cloneNode());for(let p=0;p<o;p++)a.appendChild(u.cloneNode());a.appendChild(c.cloneNode());let h=document.createElement("div");h.className="zero-dot",a.appendChild(h),this._zeroDotEl=h,r.innerHTML="",r.appendChild(a),this._stepsCount=o}destroyCallback(){var n;(n=this._observer)==null||n.disconnect()}}R2.template=`
  <div class="steps" ref="steps-el"></div>
  <div ref="thumb-el" class="thumb"></div>
  <input
    class="input"
    type="range"
    ref="input-el"
    tabindex="0"
    set="oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;"
  />
`;class _O extends De{constructor(){super();N(this,"couldBeCtxOwner",!0);N(this,"activityType",se.activities.CLOUD_IMG_EDIT);this.init$={...this.init$,cdnUrl:null}}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>this.mountEditor(),onDeactivate:()=>this.unmountEditor()}),this.sub("*focusedEntry",n=>{n&&(this.entry=n,this.entry.subscribe("cdnUrl",r=>{r&&(this.$.cdnUrl=r)}))}),this.subConfigValue("cropPreset",n=>{this._instance&&this._instance.getAttribute("crop-preset")!==n&&this._instance.setAttribute("crop-preset",n)}),this.subConfigValue("cloudImageEditorTabs",n=>{this._instance&&this._instance.getAttribute("tabs")!==n&&this._instance.setAttribute("tabs",n)})}handleApply(n){if(!this.entry)return;let r=n.detail;this.entry.setMultipleValues({cdnUrl:r.cdnUrl,cdnUrlModifiers:r.cdnUrlModifiers}),this.historyBack()}handleCancel(){this.historyBack()}mountEditor(){const n=new wo,r=this.$.cdnUrl,i=this.cfg.cropPreset,s=this.cfg.cloudImageEditorTabs;n.setAttribute("ctx-name",this.ctxName),n.setAttribute("cdn-url",r),i&&n.setAttribute("crop-preset",i),s&&n.setAttribute("tabs",s),n.addEventListener("apply",o=>{const a=o;this.handleApply(a),this.debugPrint('editor event "apply"',a.detail)}),n.addEventListener("cancel",o=>{const a=o;this.handleCancel(),this.debugPrint('editor event "cancel"',a.detail)}),n.addEventListener("change",o=>{const a=o;this.debugPrint('editor event "change"',a.detail)}),this.innerHTML="",this.appendChild(n),this._mounted=!0,this._instance=n}unmountEditor(){this._instance=void 0,this.innerHTML=""}}const wO=function(e){return e.replace(/[\\-\\[]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},bO=function(e,t="i"){const n=e.split("*").map(wO);return new RegExp("^"+n.join(".+")+"$",t)};let EO=e=>Object.keys(e).reduce((n,r)=>{let i=e[r],s=Object.keys(i).reduce((o,a)=>{let u=i[a];return o+`${a}: ${u};`},"");return n+`${r}{${s}}`},"");function CO({textColor:e,backgroundColor:t,linkColor:n,linkColorHover:r,shadeColor:i}){let s=`solid 1px ${i}`;return EO({body:{color:e,"background-color":t},".side-bar":{background:"inherit","border-right":s},".main-content":{background:"inherit"},".main-content-header":{background:"inherit"},".main-content-footer":{background:"inherit"},".list-table-row":{color:"inherit"},".list-table-row:hover":{background:i},".list-table-row .list-table-cell-a, .list-table-row .list-table-cell-b":{"border-top":s},".list-table-body .list-items":{"border-bottom":s},".bread-crumbs a":{color:n},".bread-crumbs a:hover":{color:r},".main-content.loading":{background:`${t} url(/static/images/loading_spinner.gif) center no-repeat`,"background-size":"25px 25px"},".list-icons-item":{"background-color":i},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a":{color:n},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a:hover":{color:r},".side-bar-menu a":{color:n},".side-bar-menu a:hover":{color:r},".source-gdrive .side-bar-menu .current, .source-gdrive .side-bar-menu a:hover, .source-gphotos .side-bar-menu .current, .source-gphotos .side-bar-menu a:hover":{color:r},".source-vk .side-bar-menu a":{color:n},".source-vk .side-bar-menu a:hover":{color:r,background:"none"}})}let ii={};window.addEventListener("message",e=>{let t;try{t=JSON.parse(e.data)}catch{return}if((t==null?void 0:t.type)in ii){let n=ii[t.type];for(let[r,i]of n)e.source===r&&i(t)}});const SO=function(e,t,n){e in ii||(ii[e]=[]),ii[e].push([t,n])},TO=function(e,t){e in ii&&(ii[e]=ii[e].filter(n=>n[0]!==t))};function IO(e){let t=[];for(let[n,r]of Object.entries(e))r==null||typeof r=="string"&&r.length===0||t.push(`${n}=${encodeURIComponent(r)}`);return t.join("&")}class O2 extends De{constructor(){super();N(this,"couldBeCtxOwner",!0);N(this,"activityType",se.activities.EXTERNAL);N(this,"_iframe",null);this.init$={...this.init$,activityIcon:"",activityCaption:"",selectedList:[],counter:0,multiple:!1,onDone:()=>{for(const n of this.$.selectedList){const r=this.extractUrlFromMessage(n),{filename:i}=n,{externalSourceType:s}=this.activityParams;this.addFileFromUrl(r,{fileName:i,source:s})}this.$["*currentActivity"]=se.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()}}}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{let{externalSourceType:n}=this.activityParams;this.set$({activityCaption:`${n==null?void 0:n[0].toUpperCase()}${n==null?void 0:n.slice(1)}`,activityIcon:n}),this.mountIframe()}}),this.sub("*currentActivity",n=>{n!==this.activityType&&this.unmountIframe()}),this.sub("selectedList",n=>{this.$.counter=n.length}),this.subConfigValue("multiple",n=>{this.$.multiple=n})}extractUrlFromMessage(n){if(n.alternatives){const r=pr(this.cfg.externalSourcesPreferredTypes);for(const i of r){const s=bO(i);for(const[o,a]of Object.entries(n.alternatives))if(s.test(o))return a}}return n.url}sendMessage(n){var r,i;(i=(r=this._iframe)==null?void 0:r.contentWindow)==null||i.postMessage(JSON.stringify(n),"*")}async handleFileSelected(n){!this.$.multiple&&this.$.selectedList.length||(this.$.selectedList=[...this.$.selectedList,n],this.$.multiple||this.$.onDone())}handleIframeLoad(){this.applyStyles()}getCssValue(n){return window.getComputedStyle(this).getPropertyValue(n).trim()}applyStyles(){let n={backgroundColor:this.getCssValue("--clr-background-light"),textColor:this.getCssValue("--clr-txt"),shadeColor:this.getCssValue("--clr-shade-lv1"),linkColor:"#157cfc",linkColorHover:"#3891ff"};this.sendMessage({type:"embed-css",style:CO(n)})}remoteUrl(){var c,h;const{pubkey:n,remoteTabSessionKey:r,socialBaseUrl:i}=this.cfg,{externalSourceType:s}=this.activityParams,a={lang:((h=(c=this.l10n("social-source-lang"))==null?void 0:c.split("-"))==null?void 0:h[0])||"en",public_key:n,images_only:"false",pass_window_open:!1,session_key:r},u=new URL(`/window3/${s}`,i);return u.search=IO(a),u.toString()}mountIframe(){let n=kp({tag:"iframe",attributes:{src:this.remoteUrl(),marginheight:0,marginwidth:0,frameborder:0,allowTransparency:!0}});n.addEventListener("load",this.handleIframeLoad.bind(this)),this.ref.iframeWrapper.innerHTML="",this.ref.iframeWrapper.appendChild(n),SO("file-selected",n.contentWindow,this.handleFileSelected.bind(this)),this._iframe=n,this.$.selectedList=[]}unmountIframe(){this._iframe&&TO("file-selected",this._iframe.contentWindow),this.ref.iframeWrapper.innerHTML="",this._iframe=null,this.$.selectedList=[],this.$.counter=0}}O2.template=`
  <lr-activity-header>
    <button type="button" class="mini-btn" set="onclick: *historyBack">
      <lr-icon name="back"></lr-icon>
    </button>
    <div>
      <lr-icon set="@name: activityIcon"></lr-icon>
      <span>{{activityCaption}}</span>
    </div>
    <button type="button" class="mini-btn close-btn" set="onclick: *historyBack">
      <lr-icon name="close"></lr-icon>
    </button>
  </lr-activity-header>
  <div class="content">
    <div ref="iframeWrapper" class="iframe-wrapper"></div>
    <div class="toolbar">
      <button type="button" class="cancel-btn secondary-btn" set="onclick: onCancel" l10n="cancel"></button>
      <div></div>
      <div set="@hidden: !multiple" class="selected-counter"><span l10n="selected-count"></span>{{counter}}</div>
      <button type="button" class="done-btn primary-btn" set="onclick: onDone; @disabled: !counter">
        <lr-icon name="check"></lr-icon>
      </button>
    </div>
  </div>
`;class Jp extends Ee{setCurrentTab(t){if(!t)return;[...this.ref.context.querySelectorAll("[tab-ctx]")].forEach(r=>{r.getAttribute("tab-ctx")===t?r.removeAttribute("hidden"):r.setAttribute("hidden","")});for(let r in this._tabMap)r===t?this._tabMap[r].setAttribute("current",""):this._tabMap[r].removeAttribute("current")}initCallback(){super.initCallback(),this._tabMap={},this.defineAccessor("tab-list",t=>{if(!t)return;pr(t).forEach(r=>{let i=kp({tag:"div",attributes:{class:"tab"},properties:{onclick:()=>{this.setCurrentTab(r)}}});i.textContent=this.l10n(r),this.ref.row.appendChild(i),this._tabMap[r]=i})}),this.defineAccessor("default",t=>{this.setCurrentTab(t)}),this.hasAttribute("default")||this.setCurrentTab(Object.keys(this._tabMap)[0])}}Jp.bindAttributes({"tab-list":null,default:null});Jp.template=`
  <div ref="row" class="tabs-row"></div>
  <div ref="context" class="tabs-context">
    <slot></slot>
  </div>
`;class xO extends De{constructor(){super(...arguments);N(this,"requireCtxName",!0)}_createValidationInput(){const n=document.createElement("input");return n.type="text",n.name=this.ctxName,n.required=this.cfg.multipleMin>0,n.tabIndex=-1,bw(n,{opacity:0,height:0,width:0}),n}initCallback(){super.initCallback(),this._validationInputElement=this._createValidationInput(),this.appendChild(this._validationInputElement),this.sub("*collectionState",n=>{var r;{if(this._dynamicInputsContainer||(this._dynamicInputsContainer=document.createElement("div"),this.appendChild(this._dynamicInputsContainer)),!this._validationInputElement){const a=this._createValidationInput();this.appendChild(a),this._validationInputElement=a}if(this._dynamicInputsContainer.innerHTML="",n.status==="uploading"||n.status==="idle"){this._validationInputElement.value="",this._validationInputElement.setCustomValidity("");return}if(n.status==="failed"){const a=(r=n.errors[0])==null?void 0:r.message;this._validationInputElement.value="",this._validationInputElement.setCustomValidity(a);return}const i=n.group?n.group:null;if(i){this._validationInputElement.value=i.cdnUrl,this._validationInputElement.setCustomValidity("");return}const s=n.allEntries.map(a=>a.cdnUrl);if(!this.cfg.multiple&&s.length===1){this._validationInputElement.value=s[0],this._validationInputElement.setCustomValidity("");return}this._validationInputElement.remove(),this._validationInputElement=null;const o=new DocumentFragment;for(let a of s){const u=document.createElement("input");u.type="hidden",u.name=`${this.ctxName}[]`,u.value=a,o.appendChild(u)}this._dynamicInputsContainer.replaceChildren(o)}},!1)}}class kO extends se{}class L2 extends Ee{constructor(){super(...arguments);N(this,"init$",{...this.init$,currentText:"",options:[],selectHtml:"",onSelect:n=>{var r;n.preventDefault(),n.stopPropagation(),this.value=this.ref.select.value,this.$.currentText=((r=this.$.options.find(i=>i.value==this.value))==null?void 0:r.text)||"",this.dispatchEvent(new Event("change"))}})}initCallback(){super.initCallback(),this.sub("options",n=>{var i;this.$.currentText=((i=n==null?void 0:n[0])==null?void 0:i.text)||"";let r="";n==null||n.forEach(s=>{r+=`<option value="${s.value}">${s.text}</option>`}),this.$.selectHtml=r})}}L2.template=`
  <button>
    {{currentText}}
    <lr-icon name="select"></lr-icon>
    <select ref="select" set="innerHTML: selectHtml; onchange: onSelect"></select>
  </button>
`;const Rt={PLAY:"play",PAUSE:"pause",FS_ON:"fullscreen-on",FS_OFF:"fullscreen-off",VOL_ON:"unmute",VOL_OFF:"mute",CAP_ON:"captions",CAP_OFF:"captions-off"},C0={requestFullscreen:e=>{e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},exitFullscreen:()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}};class Zn extends Ee{constructor(){super(...arguments);N(this,"init$",{...this.init$,src:"",ppIcon:Rt.PLAY,fsIcon:Rt.FS_ON,volIcon:Rt.VOL_ON,capIcon:Rt.CAP_OFF,totalTime:"00:00",currentTime:"00:00",progressCssWidth:"0",hasSubtitles:!1,volumeDisabled:!1,volumeValue:0,onPP:()=>{this.togglePlay()},onFs:()=>{this.toggleFullscreen()},onCap:()=>{this.toggleCaptions()},onMute:()=>{this.toggleSound()},onVolChange:n=>{let r=parseFloat(n.currentTarget.$.value);this.setVolume(r)},progressClicked:n=>{let r=this.progress.getBoundingClientRect();this._video.currentTime=this._video.duration*(n.offsetX/r.width)}})}togglePlay(){this._video.paused||this._video.ended?this._video.play():this._video.pause()}toggleFullscreen(){(document.fullscreenElement||document.webkitFullscreenElement)===this?C0.exitFullscreen():C0.requestFullscreen(this)}toggleCaptions(){this.$.capIcon===Rt.CAP_OFF?(this.$.capIcon=Rt.CAP_ON,this._video.textTracks[0].mode="showing",window.localStorage.setItem(Zn.is+":captions","1")):(this.$.capIcon=Rt.CAP_OFF,this._video.textTracks[0].mode="hidden",window.localStorage.removeItem(Zn.is+":captions"))}toggleSound(){this.$.volIcon===Rt.VOL_ON?(this.$.volIcon=Rt.VOL_OFF,this.$.volumeDisabled=!0,this._video.muted=!0):(this.$.volIcon=Rt.VOL_ON,this.$.volumeDisabled=!1,this._video.muted=!1)}setVolume(n){window.localStorage.setItem(Zn.is+":volume",n);let r=n?n/100:0;this._video.volume=r}get progress(){return this.ref.progress}_getUrl(n){return n.includes("/")?n:`https://ucarecdn.com/${n}/`}_desc2attrs(n){let r=[];for(let i in n){let s=i==="src"?this._getUrl(n[i]):n[i];r.push(`${i}="${s}"`)}return r.join(" ")}_timeFmt(n){let r=new Date(Math.round(n)*1e3);return[r.getMinutes(),r.getSeconds()].map(i=>i<10?"0"+i:i).join(":")}_initTracks(){[...this._video.textTracks].forEach(n=>{n.mode="hidden"}),window.localStorage.getItem(Zn.is+":captions")&&this.toggleCaptions()}_castAttributes(){let n=["autoplay","loop","muted"];[...this.attributes].forEach(r=>{n.includes(r.name)&&this._video.setAttribute(r.name,r.value)})}initCallback(){super.initCallback(),this._video=this.ref.video,this._castAttributes(),this._video.addEventListener("play",()=>{this.$.ppIcon=Rt.PAUSE,this.setAttribute("playback","")}),this._video.addEventListener("pause",()=>{this.$.ppIcon=Rt.PLAY,this.removeAttribute("playback")}),this.addEventListener("fullscreenchange",r=>{console.log(r),document.fullscreenElement===this?this.$.fsIcon=Rt.FS_OFF:this.$.fsIcon=Rt.FS_ON}),this.sub("src",r=>{if(!r)return;let i=this._getUrl(r);this._video.src=i}),this.sub("video",async r=>{if(!r)return;let i=await(await window.fetch(this._getUrl(r))).json();i.poster&&(this._video.poster=this._getUrl(i.poster));let s="";i==null||i.sources.forEach(o=>{s+=`<source ${this._desc2attrs(o)} />`}),i.tracks&&(i.tracks.forEach(o=>{s+=`<track ${this._desc2attrs(o)} />`}),this.$.hasSubtitles=!0),this._video.innerHTML+=s,this._initTracks(),console.log(i)}),this._video.addEventListener("loadedmetadata",r=>{this.$.currentTime=this._timeFmt(this._video.currentTime),this.$.totalTime=this._timeFmt(this._video.duration)}),this._video.addEventListener("timeupdate",r=>{let i=Math.round(100*(this._video.currentTime/this._video.duration));this.$.progressCssWidth=i+"%",this.$.currentTime=this._timeFmt(this._video.currentTime)});let n=window.localStorage.getItem(Zn.is+":volume");if(n){let r=parseFloat(n);this.setVolume(r),this.$.volumeValue=r}}}Zn.template=`
  <div class="video-wrapper">
    <video ref="video" preload="metadata" crossorigin="anonymous"></video>
  </div>

  <div class="toolbar">
    <div class="progress" ref="progress" set -onclick="progressClicked">
      <div class="bar" set -style.width="progressCssWidth"></div>
    </div>

    <div class="tb-block">
      <button set -onclick="onPP">
        <lr-icon set -@name="ppIcon"></lr-icon>
      </button>
      <div class="timer">{{currentTime}} / {{totalTime}}</div>
    </div>

    <div class="tb-block">
      <button set -onclick="onCap" -@hidden="!hasSubtitles">
        <lr-icon set -@name="capIcon"></lr-icon>
      </button>

      <button set -onclick="onMute">
        <lr-icon set -@name="volIcon"></lr-icon>
      </button>

      <lr-range type="range" set -onchange="onVolChange" -@disabled="volumeDisabled" -value="volumeValue"> </lr-range>

      <button set -onclick="onFs">
        <lr-icon set -@name="fsIcon"></lr-icon>
      </button>
    </div>
  </div>
`;Zn.bindAttributes({video:"video",src:"src"});class N2 extends Ee{initCallback(){super.initCallback(),this.subConfigValue("removeCopyright",t=>{this.toggleAttribute("hidden",!!t)})}}N(N2,"template",`
    <a
      href="https://uploadcare.com/?utm_source=copyright&utm_medium=referral&utm_campaign=v4"
      target="_blank noopener"
      class="credits"
      >Powered by Uploadcare</a
    >
  `);class Qp extends Ee{constructor(){super(...arguments);N(this,"requireCtxName",!0);N(this,"init$",Fw(this));N(this,"_template",null)}static set template(n){this._template=n+"<slot></slot>"}static get template(){return this._template}}class Zp extends Qp{initCallback(){super.initCallback(),this.sub("*modalActive",t=>{this._lastModalActive!==t&&this.emit(t?Ve.MODAL_OPEN:Ve.MODAL_CLOSE,void 0,{debounce:!0}),this._lastModalActive=t},!1)}}Zp.template=`
  <lr-simple-btn></lr-simple-btn>

  <lr-modal strokes block-body-scrolling>
    <lr-start-from>
      <lr-drop-area with-icon clickable></lr-drop-area>
      <lr-source-list wrap></lr-source-list>
      <button type="button" l10n="start-from-cancel" class="secondary-btn" set="onclick: *historyBack"></button>
      <lr-copyright></lr-copyright>
    </lr-start-from>
    <lr-upload-list></lr-upload-list>
    <lr-camera-source></lr-camera-source>
    <lr-url-source></lr-url-source>
    <lr-external-source></lr-external-source>
    <lr-cloud-image-editor-activity></lr-cloud-image-editor-activity>
  </lr-modal>

  <lr-progress-bar-common></lr-progress-bar-common>
`;class Oc extends Qp{initCallback(){super.initCallback();const t=this.ref.uBlock;this.sub("*currentActivity",n=>{n||(this.$["*currentActivity"]=t.initActivity||se.activities.START_FROM)}),this.sub("*uploadList",n=>{(n==null?void 0:n.length)>0?this.$["*currentActivity"]=se.activities.UPLOAD_LIST:this.$["*currentActivity"]=t.initActivity||se.activities.START_FROM}),this.subConfigValue("sourceList",n=>{n!=="local"&&(this.cfg.sourceList="local")}),this.subConfigValue("confirmUpload",n=>{n!==!1&&(this.cfg.confirmUpload=!1)})}}Oc.template=`
  <lr-start-from>
    <lr-drop-area clickable l10n="choose-file"></lr-drop-area>
    <lr-copyright></lr-copyright>
  </lr-start-from>
  <lr-upload-list ref="uBlock"></lr-upload-list>
`;class D2 extends Qp{constructor(){super(),this.init$={...this.init$,couldCancel:!1,cancel:()=>{this.couldHistoryBack?this.$["*historyBack"]():this.couldShowList&&(this.$["*currentActivity"]=se.activities.UPLOAD_LIST)}}}get couldHistoryBack(){const t=this.$["*history"];return t.length>1&&t[t.length-1]!==se.activities.START_FROM}get couldShowList(){return this.cfg.showEmptyList||this.$["*uploadList"].length>0}initCallback(){super.initCallback();const t=this.ref.uBlock;this.sub("*currentActivity",n=>{n||(this.$["*currentActivity"]=t.initActivity||se.activities.START_FROM)}),this.sub("*uploadList",n=>{(n==null?void 0:n.length)>0&&this.$["*currentActivity"]===(t.initActivity||se.activities.START_FROM)&&(this.$["*currentActivity"]=se.activities.UPLOAD_LIST)}),this.sub("*history",()=>{this.$.couldCancel=this.couldHistoryBack||this.couldShowList})}}D2.template=` <lr-start-from>
    <lr-drop-area with-icon clickable></lr-drop-area>
    <lr-source-list wrap></lr-source-list>
    <button
      type="button"
      l10n="start-from-cancel"
      class="cancel-btn secondary-btn"
      set="onclick: cancel; @hidden: !couldCancel"
    ></button>
    <lr-copyright></lr-copyright>
  </lr-start-from>
  <lr-upload-list ref="uBlock"></lr-upload-list>
  <lr-camera-source></lr-camera-source>
  <lr-url-source></lr-url-source>
  <lr-external-source></lr-external-source>
  <lr-progress-bar></lr-progress-bar>
  <lr-cloud-image-editor-activity></lr-cloud-image-editor-activity>`;class AO extends wo{initCallback(){super.initCallback(),this.__shadowReady=!0,this.$["*faderEl"]=this.ref["fader-el"],this.$["*cropperEl"]=this.ref["cropper-el"],this.$["*imgContainerEl"]=this.ref["img-container-el"],this.initEditor()}async initEditor(){this.__shadowReady&&await super.initEditor()}}function ra(e){for(let t in e){let n=[...t].reduce((r,i)=>(i.toUpperCase()===i&&(i="-"+i.toLowerCase()),r+=i),"");n.startsWith("-")&&(n=n.replace("-","")),n.startsWith("lr-")||(n="lr-"+n),e[t].reg&&e[t].reg(n)}}const Nd="LR";async function PO(e,t=!1){return new Promise((n,r)=>{if(typeof document!="object"){n(null);return}if(typeof window=="object"&&window[Nd]){n(window[Nd]);return}let i=document.createElement("script");i.async=!0,i.src=e,i.onerror=()=>{r()},i.onload=()=>{let s=window[Nd];t&&ra(s),n(s)},document.head.appendChild(i)})}const em=Object.freeze(Object.defineProperty({__proto__:null,ActivityBlock:se,ActivityHeader:kO,BaseComponent:bc,Block:Ee,CameraSource:g2,CloudImageEditor:AO,CloudImageEditorActivity:_O,CloudImageEditorBlock:wo,Config:e2,ConfirmationDialog:y2,Copyright:N2,CropFrame:E2,Data:ye,DropArea:Bp,EditorCropButtonControl:C2,EditorFilterControl:Xp,EditorImageCropper:I2,EditorImageFader:mO,EditorOperationControl:T2,EditorScroller:x2,EditorSlider:S2,EditorToolbar:k2,ExternalSource:O2,FileItem:zi,FilePreview:Gp,FileUploaderInline:D2,FileUploaderMinimal:Oc,FileUploaderRegular:Zp,FormInput:xO,Icon:zp,Img:_3,LineLoaderUi:A2,LrBtnUi:Yp,Modal:Wp,PACKAGE_NAME:Dp,PACKAGE_VERSION:Mp,PresenceToggle:P2,ProgressBar:w2,ProgressBarCommon:_2,Select:L2,SimpleBtn:Vp,SliderUi:R2,SourceBtn:Hp,SourceList:I3,StartFrom:n2,Tabs:Jp,UID:ta,UploadCtxProvider:Jh,UploadList:p2,UploaderBlock:De,UrlSource:m2,Video:Zn,connectBlocksFrom:PO,defineLocale:zw,registerBlocks:ra,toKebabCase:Ac},Symbol.toStringTag,{value:"Module"})),RO=new Set(["children","ref","style","className"]),OO=(e={})=>Object==null?void 0:Object.keys(e).reduce((t,n)=>{var r,i;const s=e==null?void 0:e[n],o=`on${(i=(r=s==null?void 0:s.split("-"))==null?void 0:r.map(a=>a.charAt(0).toUpperCase()+a.slice(1)))==null?void 0:i.join("")}`;return t[o]=s,t},{}),S0=new WeakMap,LO=e=>{let t=S0.get(e);return t===void 0&&(t=new Map,S0.set(e,t)),t},T0=({node:e,nameProp:t,valueProp:n,prevValueProp:r,event:i})=>{if(i!==void 0){if(n!==r){const s=LO(e),o=s.has(i);let a=s.get(i);n!==void 0?o?a.handleEvent=n:(a={handleEvent:n},s.set(i,a),e.addEventListener(i,u=>a.handleEvent(u.detail))):o&&(s.delete(i),e.removeEventListener(i,a))}return}e[t]=n,n==null&&t in HTMLElement.prototype&&e.removeAttribute(t)},NO=(e,t,n)=>{const r={},i={};return Object.entries(e).forEach(([s,o])=>{RO.has(s)?r[s==="className"?"class":s]=o:t.has(s)||s in n.prototype?i[s]=o:r[s]=o}),{reactProps:r,customElProps:i}},ia=({react:e,tag:t,elClass:n,schemaEvents:r})=>{const i=OO(r),s=new Set(Object.keys(i??{})),o=e.forwardRef((a,u)=>{const c=e.useRef(new Map),h=e.useRef(null),{reactProps:p,customElProps:m}=NO(a,s,n);return e.useLayoutEffect(()=>{if(h.current===null)return;const I=new Map;for(const b in m)T0({node:h.current,nameProp:b,valueProp:m[b],prevValueProp:c.current.get(b),event:i[b]}),c.current.delete(b),I.set(b,a[b]);for(const[b,x]of c.current)T0({node:h.current,nameProp:b,valueProp:void 0,prevValueProp:x,event:i[b]});c.current=I}),e.createElement(t??n.__tag,{...p,ref:e.useCallback(I=>{h.current=I,typeof u=="function"?u(I):u!==null&&(u.current=I)},[u])})});return o.displayName=n.name,o},DO=ia({react:xt,tag:"lr-config",elClass:e2}),MO=ia({react:xt,tag:"lr-upload-ctx-provider",elClass:Jh,schemaEvents:Jh.EventType}),$O=e=>{const t={},n={};return Object.entries(e).forEach(([r,i])=>{r.startsWith("on")?t[r]=i:n[r]=i}),{eventHandlers:t,config:n}},UO="0.5.2",FO="React-Uploader",jO=()=>`${FO}/${UO}`,zO=({condition:e,fallback:t,children:n,...r})=>e?xt.createElement(M.Suspense,{fallback:t,...r},n):xt.createElement(xt.Fragment,null,t),VO=()=>{const[e,t]=M.useState(!1);return M.useEffect(()=>{typeof window<"u"&&t(!0)},[]),e};ra(em);const BO=ia({react:xt,tag:"lr-file-uploader-regular",elClass:Zp}),HO=({ctxName:e,className:t,classNameUploader:n,apiRef:r,fallback:i,...s})=>{const o=M.useMemo(()=>e??ta.generate(),[e]),{eventHandlers:a,config:u}=M.useMemo(()=>$O(s),[s]),c=VO();return xt.createElement(zO,{condition:c,fallback:i},xt.createElement("div",{className:t},xt.createElement(DO,{userAgentIntegration:jO(),"ctx-name":o,...u}),xt.createElement(MO,{ref:r,"ctx-name":o,...a}),xt.createElement(BO,{class:n,"ctx-name":o})))};ra(em);ia({react:xt,tag:"lr-file-uploader-minimal",elClass:Oc});ra(em);ia({react:xt,tag:"lr-file-uploader-inline",elClass:Oc});const WO=({fileEntry:e,onChange:t})=>{const n=M.useRef(null),r=o=>{const a=o.successEntries.map(u=>({cdnUrl:u.cdnUrl||null,uuid:u.uuid||null}));t({files:a}),console.log("The uploaded file event is: ",a)},i=M.useCallback(o=>t({files:e.files.filter(a=>a.uuid!==o)}),[e.files,t]),s=()=>{var o;(o=n.current)==null||o.uploadCollection.clearAll()};return P.jsxs("div",{children:[P.jsx(HO,{maxLocalFileSizeBytes:1e7,multipleMax:50,imgOnly:!0,sourceList:"local, url, camera, dropbox, instagram",removeCopyright:!0,confirmUpload:!1,onChange:r,pubkey:"e70c89d72eb677ec70b2"}),P.jsx("div",{className:"grid grid-cols-2 gap-4 mt-8",children:e.files.map(o=>P.jsxs("div",{className:"relative",children:[P.jsx("img",{src:`${o.cdnUrl}/-/format/webp/-/quality/smart/-/stretch/fill/
              `,alt:o.uuid??""}),P.jsx("div",{className:"cursor-pointer flex justify-center absolute -right-2 -top-2 bg-white border-2 border-slate-800  rounded-full w-7 h-7",children:P.jsx("button",{className:"text-slate-800 text-center",type:"button",onClick:()=>i(o.uuid),children:""})}),P.jsx("button",{onClick:s,children:"test"})]},o.uuid))})]})},M2=M.forwardRef(({className:e,...t},n)=>P.jsx("textarea",{className:un("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));M2.displayName="Textarea";const GO=()=>{const{user:e}=_c();console.log("user",e);const[t,n]=M.useState({files:[]}),[r,i]=M.useState({caption:"",photos:[],likes:0,userLikes:[],userId:"",date:new Date}),s=async o=>{o.preventDefault(),console.log("Uploaded File Entry: ",t.files),console.log("The create post is: ",r)};return P.jsx(wc,{children:P.jsx("div",{className:"flex justify-center",children:P.jsxs("div",{className:"border max-w-3xl w-full",children:[P.jsx("h3",{className:"bg-slate-800 text-white text-center text-lg p-2",children:"Create post"}),P.jsx("div",{className:"p-8",children:P.jsx("form",{onSubmit:s,children:P.jsxs("div",{className:"flex flex-col",children:[P.jsx(ti,{className:"mb-4",htmlFor:"caption",children:"Photo caption"}),P.jsx(M2,{className:"mb-8",id:"caption",placeholder:"Write something....",value:r.caption,onChange:o=>i({...r,caption:o.target.value})}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx(ti,{className:"mb-4",htmlFor:"photo",children:"Photos"}),P.jsx(WO,{fileEntry:t,onChange:n})]}),P.jsx(ro,{className:"mt-8 w-32",type:"submit",children:"Post"})]})})})]})})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function KO(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function u(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((r=r.apply(e,[])).next())})}function XO(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ms=function(){return Ms=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ms.apply(this,arguments)},$2=function(e){return{loading:e==null,value:e}},qO=function(){return function(e,t){switch(t.type){case"error":return Ms(Ms({},e),{error:t.error,loading:!1,value:void 0});case"reset":return $2(t.defaultValue);case"value":return Ms(Ms({},e),{error:void 0,loading:!1,value:t.value});default:return e}}},YO=function(e){var t=e?e():void 0,n=M.useReducer(qO(),$2(t)),r=n[0],i=n[1],s=M.useCallback(function(){var u=e?e():void 0;i({type:"reset",defaultValue:u})},[e]),o=M.useCallback(function(u){i({type:"error",error:u})},[]),a=M.useCallback(function(u){i({type:"value",value:u})},[]);return M.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},JO=function(e,t){var n=YO(function(){return e.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return M.useEffect(function(){var u=B1(e,function(c){return KO(void 0,void 0,void 0,function(){var h;return XO(this,function(p){switch(p.label){case 0:return[3,4];case 1:return p.trys.push([1,3,,4]),[4,t.onUserChanged(c)];case 2:return p.sent(),[3,4];case 3:return h=p.sent(),s(h),[3,4];case 4:return o(c),[2]}})})},s);return function(){u()}},[e]),[a,i,r]};const QO=()=>{const e=tw(),[t,n]=JO(e),r=ts();return n?P.jsx("div",{children:"Loading..."}):t?P.jsx(BS,{}):P.jsx(VS,{to:"edelgram/login",state:{from:r}})},ZO=JS([{element:P.jsx(QO,{}),children:[{path:"/edelgram/",element:P.jsx(E4,{}),errorElement:P.jsx(vs,{})},{path:"/edelgram/myphotos",element:P.jsx(A4,{}),errorElement:P.jsx(vs,{})},{path:"/edelgram/createpost",element:P.jsx(GO,{}),errorElement:P.jsx(vs,{})},{path:"/edelgram/profile",element:P.jsx(P4,{}),errorElement:P.jsx(vs,{})}]},{path:"/edelgram/login",element:P.jsx(k4,{}),errorElement:P.jsx(vs,{})},{path:"/edelgram/signup",element:P.jsx(O4,{}),errorElement:P.jsx(vs,{})}]),eL=()=>P.jsx(y4,{children:P.jsx(oT,{router:ZO})});Dd.createRoot(document.getElementById("root")).render(P.jsx(xt.StrictMode,{children:P.jsx(eL,{})}));
